(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},93733,e=>{"use strict";var t=e.i(43476);let s={pink:"neon-pink",cyan:"neon-cyan",violet:"neon-violet"};function r({className:e="",color:r="pink",as:a="span",pulse:i=!1,children:n,...l}){return(0,t.jsx)(a,{className:`${s[r]} ${i?"animate-pulse":""} ${e}`,...l,children:n})}e.s(["NeonText",()=>r])},59544,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let r={pink:"btn-neon btn-neon-pink",cyan:"btn-neon btn-neon-cyan",ghost:"bg-transparent text-retro-cyan hover:text-retro-pink transition-colors"},a={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},i=(0,s.forwardRef)(({className:e="",variant:s="pink",size:i="md",children:n,href:l,...c},o)=>{let d=`inline-flex items-center justify-center font-ui font-semibold uppercase tracking-wider rounded transition-all duration-300 ${r[s]} ${a[i]} ${e}`;return l?(0,t.jsx)("a",{href:l,className:d,children:n}):(0,t.jsx)("button",{ref:o,className:d,...c,children:n})});i.displayName="Button",e.s(["Button",0,i])},77119,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(22016),i=e.i(3374),n=e.i(58234),l=e.i(28540),c=e.i(59544),o=e.i(93733);e.i(3813);var d=e.i(25544),x=e.i(73581),m=e.i(29493);e.i(7259);var h=e.i(66811);e.i(79086);var u=e.i(33712),p=e.i(38152);function f(){let e=(0,r.useRouter)(),{save:f}=(0,h.useCharacterLibrary)(),[j,g]=(0,s.useState)(null),[y,v]=(0,s.useState)(null),[b,N]=(0,s.useState)(!1),[k,C]=(0,s.useState)(null),[w,S]=(0,s.useState)((0,u.createDefaultConfig)()),[B,L]=(0,s.useState)(""),[M,$]=(0,s.useState)(""),[F,I]=(0,s.useState)(!1),O=(0,s.useMemo)(()=>{if(!y)return[];try{return(0,p.parseCharacterRom)(y,w)}catch{return[]}},[y,w]),P=(0,s.useCallback)((e,t)=>{g(e),v(t),C(null),L(e.name.replace(/\.[^/.]+$/,""))},[]),R=(0,s.useCallback)(async(t=!1)=>{if(!y||!B.trim())return void C("Please provide a name for the character set");try{I(!0);let s=Date.now(),r=(0,u.generateId)(),a={metadata:{id:r,name:B.trim(),description:M.trim(),source:"yourself",createdAt:s,updatedAt:s,isBuiltIn:!1},config:w,characters:O};await f(a),t?e.push(`/tools/character-rom-editor/edit?id=${r}`):e.push("/tools/character-rom-editor")}catch(e){C(e instanceof Error?e.message:"Failed to save character set")}finally{I(!1)}},[y,B,M,w,O,f,e]),T=j&&y&&B.trim()&&O.length>0;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col safe-top",children:[(0,t.jsx)(i.Header,{}),(0,t.jsx)("main",{className:"flex-1 bg-retro-dark pt-24 pb-12",children:(0,t.jsxs)(l.Container,{size:"default",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(a.default,{href:"/tools/character-rom-editor",className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors mb-2 inline-flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Library"]}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-display",children:(0,t.jsx)(o.NeonText,{color:"cyan",children:"Import Character ROM"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Upload a binary ROM file and configure the character format"})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-sm font-medium text-gray-300 mb-4",children:"1. Select File"}),(0,t.jsx)(d.ImportDropZone,{onFileSelect:P,selectedFile:j,loading:b,error:k})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-sm font-medium text-gray-300 mb-4",children:"2. Configure Format"}),(0,t.jsx)("div",{className:"card-retro p-4 sm:p-6",children:(0,t.jsx)(x.ImportConfigForm,{config:w,onConfigChange:S,fileSize:j?.size,name:B,onNameChange:L,description:M,onDescriptionChange:$,disabled:!j})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-sm font-medium text-gray-300 mb-4",children:"3. Preview"}),(0,t.jsx)("div",{className:"card-retro p-4 sm:p-6",children:O.length>0?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[O.length," character",1!==O.length?"s":""," detected"]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[w.width,"x",w.height]})]}),(0,t.jsx)("div",{className:"bg-black/50 rounded-lg p-4 overflow-auto max-h-[400px]",children:(0,t.jsx)(m.CharacterPreview,{characters:O,config:w,maxCharacters:256,maxWidth:320,maxHeight:320})}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"If the preview looks scrambled, try adjusting the dimensions, padding, or bit direction."})]}):j?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"No characters detected with current settings"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Try adjusting the dimensions"})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Select a file to preview"})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[(0,t.jsx)(c.Button,{onClick:()=>R(!1),disabled:!T||F,variant:"cyan",className:"flex-1",children:F?"Saving...":"Save to Library"}),(0,t.jsx)(c.Button,{onClick:()=>R(!0),disabled:!T||F,variant:"pink",className:"flex-1",children:F?"Saving...":"Save & Edit"})]})]})]})]})}),(0,t.jsx)(n.Footer,{})]})}e.s(["ImportView",()=>f])}]);