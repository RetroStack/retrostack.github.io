(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93733,e=>{"use strict";var t=e.i(43476);let r={pink:"neon-pink",cyan:"neon-cyan",violet:"neon-violet"};function a({className:e="",color:a="pink",as:s="span",pulse:i=!1,children:l,...o}){return(0,t.jsx)(s,{className:`${r[a]} ${i?"animate-pulse":""} ${e}`,...o,children:l})}e.s(["NeonText",()=>a])},58234,e=>{"use strict";var t=e.i(43476),r=e.i(22016),a=e.i(28540),s=e.i(85149);function i(){let e=new Date().getFullYear();return(0,t.jsx)("footer",{className:"bg-retro-navy border-t border-retro-grid safe-bottom safe-x",children:(0,t.jsx)(a.Container,{children:(0,t.jsxs)("div",{className:"py-8 sm:py-12",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-8 sm:mb-12",children:[(0,t.jsxs)("div",{className:"sm:col-span-2 lg:col-span-1",children:[(0,t.jsx)(r.default,{href:"/",className:"inline-block touch-target",children:(0,t.jsx)("span",{className:"font-display text-base sm:text-lg text-retro-pink",children:s.SITE_CONFIG.name})}),(0,t.jsx)("p",{className:"mt-3 sm:mt-4 text-sm text-gray-400 max-w-xs",children:s.SITE_CONFIG.description})]}),s.NAV_ITEMS.filter(e=>e.children).map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-ui text-xs sm:text-sm uppercase tracking-wider text-retro-cyan mb-3 sm:mb-4",children:e.label}),(0,t.jsx)("ul",{className:"space-y-1 sm:space-y-2",children:e.children?.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:e.href,className:"inline-flex items-center min-h-[36px] sm:min-h-[32px] text-sm text-gray-400 hover:text-retro-pink transition-colors duration-200",children:e.label})},e.href))})]},e.label))]}),(0,t.jsxs)("div",{className:"pt-6 sm:pt-8 border-t border-retro-grid/50 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 text-center sm:text-left",children:["Â© ",e," ",s.SITE_CONFIG.name,". All rights reserved."]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("a",{href:s.SOCIAL_LINKS.github,target:"_blank",rel:"noopener noreferrer",className:"touch-target flex items-center justify-center text-gray-400 hover:text-retro-cyan transition-colors duration-200 rounded-md hover:bg-retro-purple/30","aria-label":"GitHub",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})})}),(0,t.jsx)("a",{href:s.SOCIAL_LINKS.patreon,target:"_blank",rel:"noopener noreferrer",className:"touch-target flex items-center justify-center text-gray-400 hover:text-retro-pink transition-colors duration-200 rounded-md hover:bg-retro-purple/30","aria-label":"Patreon",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M15.386.524c-4.764 0-8.64 3.876-8.64 8.64 0 4.75 3.876 8.613 8.64 8.613 4.75 0 8.614-3.864 8.614-8.613C24 4.4 20.136.524 15.386.524M.003 23.537h4.22V.524H.003"})})})]})]})]})})})}e.s(["Footer",()=>i])},44254,e=>{"use strict";var t=e.i(71645),r=e.i(70273);function a(){let e=(0,t.useContext)(r.ToastContext);if(!e)throw Error("useToast must be used within a ToastProvider");return e}e.s(["useToast",()=>a])},80710,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(22016),i=e.i(3374),l=e.i(58234),o=e.i(28540),n=e.i(59544),c=e.i(93733);e.i(3813);var d=e.i(4941),m=e.i(93949),u=e.i(91797);e.i(7259);var h=e.i(66811),x=e.i(44254);e.i(79724),e.i(7506),e.i(86316);let p="retrostack-character-editor-onboarding";function f(){return{completed:!1,dismissed:!1,updatedAt:Date.now()}}function g(e){try{localStorage.setItem(p,JSON.stringify(e))}catch{}}let b=[{id:"welcome",title:"Welcome to Character ROM Editor",description:"This tool lets you create and edit character sets for retro computers. Let's take a quick tour!",position:"center"},{id:"library",title:"Character Set Library",description:"Your character sets are stored here. You can create new ones, import existing ROMs, or edit built-in sets.",position:"center"},{id:"import",title:"Import Options",description:"Import character sets from binary ROM files, PNG images, or even font files (TTF/OTF).",position:"center"},{id:"editor",title:"Pixel Editor",description:"Click to toggle pixels. Drag to paint. Right-click to erase. Use the zoom slider for precision.",position:"center"},{id:"transforms",title:"Transform Tools",description:"Rotate, flip, shift, and invert characters. All transforms support batch editing with multiple selections.",position:"center"},{id:"keyboard",title:"Keyboard Shortcuts",description:"Press ? to see all keyboard shortcuts. Most actions have shortcuts for faster editing.",position:"center"},{id:"export",title:"Export Formats",description:"Export your work as binary ROM files, C header files, assembly code, PNG images, or reference sheets.",position:"center"},{id:"done",title:"You're Ready!",description:"Start by selecting a character set from the library, or create a new one. Happy editing!",position:"center"}];function y(){let e=(0,a.useRouter)(),y=(0,x.useToast)(),{characterSets:C,loading:j,error:v,refresh:k,deleteSet:N,saveAs:S,rename:w,togglePinned:F,availableSizes:T,getById:L}=(0,h.useCharacterLibrary)(),E=function(e){let{steps:t,enabled:a=!0}=e,[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(0),[n,c]=(0,r.useState)(f),[d,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{c(function(){try{let e=localStorage.getItem(p);if(e)return JSON.parse(e)}catch{}return f()}()),m(!0)},[]),(0,r.useEffect)(()=>{if(d&&a&&!n.completed&&!n.dismissed&&t.length>0){let e=setTimeout(()=>{i(!0)},1e3);return()=>clearTimeout(e)}},[d,a,n.completed,n.dismissed,t.length]);let u=(0,r.useCallback)(()=>{o(0),i(!0)},[]),h=(0,r.useCallback)(()=>{if(l<t.length-1)o(e=>e+1);else{i(!1);let e={completed:!0,dismissed:!1,updatedAt:Date.now()};c(e),g(e)}},[l,t.length]),x=(0,r.useCallback)(()=>{l>0&&o(e=>e-1)},[l]),b=(0,r.useCallback)(()=>{i(!1);let e={completed:!1,dismissed:!0,updatedAt:Date.now()};c(e),g(e)},[]),y=(0,r.useCallback)(()=>{i(!1);let e={completed:!0,dismissed:!1,updatedAt:Date.now()};c(e),g(e)},[]),C=(0,r.useCallback)(()=>{o(0);let e=f();c(e),g(e)},[]);return{isActive:s,currentStep:l,currentStepData:t[l]||null,totalSteps:t.length,isFirstStep:0===l,isLastStep:l===t.length-1,start:u,next:h,prev:x,skip:b,complete:y,reset:C,hasCompleted:n.completed,hasDismissed:n.dismissed,shouldShowAutomatically:!n.completed&&!n.dismissed}}({steps:b,enabled:!0}),[A,M]=(0,r.useState)(""),[R,O]=(0,r.useState)([]),[I,D]=(0,r.useState)([]),[P,B]=(0,r.useState)([]),[G,_]=(0,r.useState)([]),z=(0,r.useMemo)(()=>{let e=new Set;return C.forEach(t=>{t.metadata.manufacturer&&e.add(t.metadata.manufacturer)}),Array.from(e).sort()},[C]),$=(0,r.useMemo)(()=>{let e=new Set;return C.forEach(t=>{t.metadata.system&&e.add(t.metadata.system)}),Array.from(e).sort()},[C]),[K,H]=(0,r.useState)(null),[Y,U]=(0,r.useState)(!1),[W,J]=(0,r.useState)(null),[V,q]=(0,r.useState)(""),[Q,X]=(0,r.useState)(!1),Z=(0,r.useMemo)(()=>{let e=C;if(A.trim()){let t=A.toLowerCase();e=e.filter(e=>e.metadata.name.toLowerCase().includes(t)||e.metadata.description.toLowerCase().includes(t)||e.metadata.source.toLowerCase().includes(t)||e.metadata.manufacturer&&e.metadata.manufacturer.toLowerCase().includes(t)||e.metadata.system&&e.metadata.system.toLowerCase().includes(t))}return R.length>0&&(e=e.filter(e=>R.includes(e.config.width))),I.length>0&&(e=e.filter(e=>I.includes(e.config.height))),P.length>0&&(e=e.filter(e=>e.metadata.manufacturer&&P.includes(e.metadata.manufacturer))),G.length>0&&(e=e.filter(e=>e.metadata.system&&G.includes(e.metadata.system))),[...e].sort((e,t)=>{let r=+!!e.metadata.isPinned,a=+!!t.metadata.isPinned;return r!==a?a-r:t.metadata.updatedAt-e.metadata.updatedAt})},[C,A,R,I,P,G]),ee=(0,r.useCallback)(t=>{e.push(`/tools/character-rom-editor/edit?id=${t}`)},[e]),et=(0,r.useCallback)(t=>{e.push(`/tools/character-rom-editor/export?id=${t}`)},[e]),er=(0,r.useCallback)(async e=>{H(e)},[]),ea=(0,r.useCallback)(async()=>{if(K)try{U(!0),await N(K),y.success("Character set deleted")}catch(e){console.error("Failed to delete:",e),y.error("Failed to delete character set")}finally{U(!1),H(null)}},[K,N,y]),es=(0,r.useCallback)(async t=>{try{let r=await L(t);if(r){let t=`${r.metadata.name} (Copy)`,a=await S(r,t);y.success("Character set duplicated"),e.push(`/tools/character-rom-editor/edit?id=${a}`)}}catch(e){console.error("Failed to duplicate:",e),y.error("Failed to duplicate character set")}},[L,S,e,y]),ei=(0,r.useCallback)(()=>{e.push("/tools/character-rom-editor/import")},[e]),el=(0,r.useCallback)(()=>{e.push("/tools/character-rom-editor/add")},[e]),eo=(0,r.useCallback)(e=>{let t=C.find(t=>t.metadata.id===e);t&&(J(e),q(t.metadata.name))},[C]),en=(0,r.useCallback)(async e=>{try{await F(e)}catch(e){console.error("Failed to toggle pinned:",e)}},[F]),ec=(0,r.useCallback)(async()=>{if(W&&V.trim())try{X(!0),await w(W,V.trim()),y.success("Character set renamed")}catch(e){console.error("Failed to rename:",e),y.error("Failed to rename character set")}finally{X(!1),J(null),q("")}},[W,V,w,y]),ed=(0,r.useCallback)((e,t)=>{O(e),D(t)},[]),em=(0,r.useCallback)(e=>{B(e)},[]),eu=(0,r.useCallback)(e=>{_(e)},[]),eh=(0,r.useCallback)(()=>{M(""),O([]),D([]),B([]),_([])},[]),ex=A.length>0||R.length>0||I.length>0||P.length>0||G.length>0,ep=K?C.find(e=>e.metadata.id===K):null,ef=W?C.find(e=>e.metadata.id===W):null;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col safe-top",children:[(0,t.jsx)(i.Header,{}),(0,t.jsx)("main",{className:"flex-1 bg-retro-dark pt-24 pb-12",children:(0,t.jsxs)(o.Container,{children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(s.default,{href:"/tools",className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors mb-2 inline-flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Tools"]}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-display",children:(0,t.jsx)(c.NeonText,{color:"pink",children:"Character ROM Editor"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Design, edit, and export character sets for vintage display systems"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[E.hasCompleted||E.hasDismissed?(0,t.jsxs)("button",{onClick:E.start,className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors flex items-center gap-1 mr-2",title:"Restart onboarding tour",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Tour"]}):null,(0,t.jsx)(n.Button,{href:"/tools/character-rom-editor/add",variant:"pink",children:"Add ROM"}),(0,t.jsx)(n.Button,{href:"/tools/character-rom-editor/import",variant:"cyan",children:"Import ROM"})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(m.LibraryFilters,{searchQuery:A,onSearchChange:M,availableSizes:T,widthFilters:R,heightFilters:I,onSizeFilterChange:ed,availableManufacturers:z,availableSystems:$,manufacturerFilters:P,systemFilters:G,onManufacturerFilterChange:em,onSystemFilterChange:eu,totalCount:C.length,filteredCount:Z.length})}),v?(0,t.jsx)(d.LibraryGridError,{error:v,onRetry:k}):ex&&0===Z.length?(0,t.jsx)(d.LibraryGridEmptyResults,{onClearFilters:eh}):(0,t.jsx)(d.LibraryGrid,{characterSets:Z,loading:j,onEdit:ee,onExport:et,onDelete:er,onDuplicate:es,onRename:eo,onTogglePinned:en,onImport:ei,onCreate:el})]})}),(0,t.jsx)(l.Footer,{}),K&&ep&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>H(null)}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Delete Character Set"}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:['Are you sure you want to delete "',ep.metadata.name,'"? This action cannot be undone.']}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>H(null),className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:Y,children:"Cancel"}),(0,t.jsx)("button",{onClick:ea,className:"px-4 py-2 text-sm bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors disabled:opacity-50",disabled:Y,children:Y?"Deleting...":"Delete"})]})]})]}),W&&ef&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>{J(null),q("")}}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Rename Character Set"}),(0,t.jsx)("input",{type:"text",value:V,onChange:e=>q(e.target.value),onKeyDown:e=>{"Enter"===e.key&&V.trim()?ec():"Escape"===e.key&&(J(null),q(""))},className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-gray-200 text-sm focus:outline-none focus:border-retro-cyan transition-colors",placeholder:"Enter new name...",autoFocus:!0,disabled:Q}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,t.jsx)("button",{onClick:()=>{J(null),q("")},className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:Q,children:"Cancel"}),(0,t.jsx)("button",{onClick:ec,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors disabled:opacity-50",disabled:Q||!V.trim(),children:Q?"Renaming...":"Rename"})]})]})]}),(0,t.jsx)(u.OnboardingTour,{isActive:E.isActive,currentStep:E.currentStepData,stepIndex:E.currentStep,totalSteps:E.totalSteps,isFirstStep:E.isFirstStep,isLastStep:E.isLastStep,onNext:E.next,onPrev:E.prev,onSkip:E.skip})]})}e.s(["CharacterEditorLibrary",()=>y],80710)}]);