(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},93733,e=>{"use strict";var t=e.i(43476);let a={pink:"neon-pink",cyan:"neon-cyan",violet:"neon-violet"};function r({className:e="",color:r="pink",as:s="span",pulse:l=!1,children:n,...i}){return(0,t.jsx)(s,{className:`${a[r]} ${l?"animate-pulse":""} ${e}`,...i,children:n})}e.s(["NeonText",()=>r])},59544,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let r={pink:"btn-neon btn-neon-pink",cyan:"btn-neon btn-neon-cyan",ghost:"bg-transparent text-retro-cyan hover:text-retro-pink transition-colors"},s={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},l=(0,a.forwardRef)(({className:e="",variant:a="pink",size:l="md",children:n,href:i,...o},c)=>{let d=`inline-flex items-center justify-center font-ui font-semibold uppercase tracking-wider rounded transition-all duration-300 ${r[a]} ${s[l]} ${e}`;return i?(0,t.jsx)("a",{href:i,className:d,children:n}):(0,t.jsx)("button",{ref:c,className:d,...o,children:n})});l.displayName="Button",e.s(["Button",0,l])},80710,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(22016),l=e.i(3374),n=e.i(58234),i=e.i(28540),o=e.i(59544),c=e.i(93733);e.i(3813);var d=e.i(4941),m=e.i(93949);e.i(7259);var u=e.i(66811);function x(){let e=(0,r.useRouter)(),{characterSets:x,loading:h,error:b,refresh:y,deleteSet:p,saveAs:f,rename:g,availableSizes:j,getById:k}=(0,u.useCharacterLibrary)(),[C,v]=(0,a.useState)(""),[N,w]=(0,a.useState)([]),[S,F]=(0,a.useState)([]),[L,R]=(0,a.useState)([]),[E,$]=(0,a.useState)([]),M=(0,a.useMemo)(()=>{let e=new Set;return x.forEach(t=>{t.metadata.maker&&e.add(t.metadata.maker)}),Array.from(e).sort()},[x]),T=(0,a.useMemo)(()=>{let e=new Set;return x.forEach(t=>{t.metadata.system&&e.add(t.metadata.system)}),Array.from(e).sort()},[x]),[B,D]=(0,a.useState)(null),[O,A]=(0,a.useState)(!1),[z,P]=(0,a.useState)(null),[G,K]=(0,a.useState)(""),[I,U]=(0,a.useState)(!1),_=(0,a.useMemo)(()=>{let e=x;if(C.trim()){let t=C.toLowerCase();e=e.filter(e=>e.metadata.name.toLowerCase().includes(t)||e.metadata.description.toLowerCase().includes(t)||e.metadata.source.toLowerCase().includes(t))}return N.length>0&&(e=e.filter(e=>N.includes(e.config.width))),S.length>0&&(e=e.filter(e=>S.includes(e.config.height))),L.length>0&&(e=e.filter(e=>e.metadata.maker&&L.includes(e.metadata.maker))),E.length>0&&(e=e.filter(e=>e.metadata.system&&E.includes(e.metadata.system))),e},[x,C,N,S,L,E]),H=(0,a.useCallback)(t=>{e.push(`/tools/character-rom-editor/edit?id=${t}`)},[e]),Q=(0,a.useCallback)(t=>{e.push(`/tools/character-rom-editor/export?id=${t}`)},[e]),W=(0,a.useCallback)(async e=>{D(e)},[]),q=(0,a.useCallback)(async()=>{if(B)try{A(!0),await p(B)}catch(e){console.error("Failed to delete:",e)}finally{A(!1),D(null)}},[B,p]),J=(0,a.useCallback)(async t=>{try{let a=await k(t);if(a){let t=`${a.metadata.name} (Copy)`,r=await f(a,t);e.push(`/tools/character-rom-editor/edit?id=${r}`)}}catch(e){console.error("Failed to duplicate:",e)}},[k,f,e]),V=(0,a.useCallback)(()=>{e.push("/tools/character-rom-editor/import")},[e]),X=(0,a.useCallback)(e=>{let t=x.find(t=>t.metadata.id===e);t&&(P(e),K(t.metadata.name))},[x]),Y=(0,a.useCallback)(async()=>{if(z&&G.trim())try{U(!0),await g(z,G.trim())}catch(e){console.error("Failed to rename:",e)}finally{U(!1),P(null),K("")}},[z,G,g]),Z=(0,a.useCallback)((e,t)=>{w(e),F(t)},[]),ee=(0,a.useCallback)(e=>{R(e)},[]),et=(0,a.useCallback)(e=>{$(e)},[]),ea=(0,a.useCallback)(()=>{v(""),w([]),F([]),R([]),$([])},[]),er=C.length>0||N.length>0||S.length>0||L.length>0||E.length>0,es=B?x.find(e=>e.metadata.id===B):null,el=z?x.find(e=>e.metadata.id===z):null;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col safe-top",children:[(0,t.jsx)(l.Header,{}),(0,t.jsx)("main",{className:"flex-1 bg-retro-dark pt-24 pb-12",children:(0,t.jsxs)(i.Container,{children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(s.default,{href:"/tools",className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors mb-2 inline-flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Tools"]}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-display",children:(0,t.jsx)(c.NeonText,{color:"pink",children:"Character ROM Editor"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Design, edit, and export character sets for vintage display systems"})]}),(0,t.jsx)(o.Button,{href:"/tools/character-rom-editor/import",variant:"cyan",children:"Import ROM"})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(m.LibraryFilters,{searchQuery:C,onSearchChange:v,availableSizes:j,widthFilters:N,heightFilters:S,onSizeFilterChange:Z,availableMakers:M,availableSystems:T,makerFilters:L,systemFilters:E,onMakerFilterChange:ee,onSystemFilterChange:et,totalCount:x.length,filteredCount:_.length})}),b?(0,t.jsx)(d.LibraryGridError,{error:b,onRetry:y}):er&&0===_.length?(0,t.jsx)(d.LibraryGridEmptyResults,{onClearFilters:ea}):(0,t.jsx)(d.LibraryGrid,{characterSets:_,loading:h,onEdit:H,onExport:Q,onDelete:W,onDuplicate:J,onRename:X,onImport:V})]})}),(0,t.jsx)(n.Footer,{}),B&&es&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>D(null)}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Delete Character Set"}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:['Are you sure you want to delete "',es.metadata.name,'"? This action cannot be undone.']}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>D(null),className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:O,children:"Cancel"}),(0,t.jsx)("button",{onClick:q,className:"px-4 py-2 text-sm bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors disabled:opacity-50",disabled:O,children:O?"Deleting...":"Delete"})]})]})]}),z&&el&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>{P(null),K("")}}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Rename Character Set"}),(0,t.jsx)("input",{type:"text",value:G,onChange:e=>K(e.target.value),onKeyDown:e=>{"Enter"===e.key&&G.trim()?Y():"Escape"===e.key&&(P(null),K(""))},className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-gray-200 text-sm focus:outline-none focus:border-retro-cyan transition-colors",placeholder:"Enter new name...",autoFocus:!0,disabled:I}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,t.jsx)("button",{onClick:()=>{P(null),K("")},className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:I,children:"Cancel"}),(0,t.jsx)("button",{onClick:Y,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors disabled:opacity-50",disabled:I||!G.trim(),children:I?"Renaming...":"Rename"})]})]})]})]})}e.s(["CharacterEditorLibrary",()=>x])}]);