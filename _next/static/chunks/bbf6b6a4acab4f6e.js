(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return i}};for(var l in a)Object.defineProperty(r,l,{enumerable:!0,get:a[l]});function n(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,s(e));else t.set(r,s(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return i},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var l in a)Object.defineProperty(r,l,{enumerable:!0,get:a[l]});let n=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:r}=e,a=e.protocol||"",l=e.pathname||"",i=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(n.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||s.test(a))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),d&&"?"!==d[0]&&(d="?"+d),l=l.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${l}${d}${i}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return i(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return l}});let a=e.r(71645);function l(e,t){let r=(0,a.useRef)(null),l=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(r.current=n(e,a)),t&&(l.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return y},NormalizeError:function(){return b},PageNotFoundError:function(){return v},SP:function(){return f},ST:function(){return p},WEB_VITALS:function(){return n},execOnce:function(){return s},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return h},loadGetInitialProps:function(){return x},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return w}};for(var l in a)Object.defineProperty(r,l,{enumerable:!0,get:a[l]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>i.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function x(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await x(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&h(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let f="undefined"!=typeof performance,p=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class y extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let a=e.r(18967),l=e.r(52817);function n(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,l.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return g},useLinkStatus:function(){return v}};for(var l in a)Object.defineProperty(r,l,{enumerable:!0,get:a[l]});let n=e.r(90809),s=e.r(43476),i=n._(e.r(71645)),o=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),h=e.r(5550);e.r(33525);let m=e.r(91949),x=e.r(73668),f=e.r(9396);function p(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var r;let a,l,n,[o,g]=(0,i.useOptimistic)(m.IDLE_LINK_STATUS),v=(0,i.useRef)(null),{href:y,as:j,children:w,prefetch:N=null,passHref:C,replace:k,shallow:L,scroll:S,onClick:M,onMouseEnter:F,onTouchStart:$,legacyBehavior:P=!1,onNavigate:A,ref:E,unstable_dynamicOnHover:O,..._}=t;a=w,P&&("string"==typeof a||"number"==typeof a)&&(a=(0,s.jsx)("a",{children:a}));let B=i.default.useContext(c.AppRouterContext),T=!1!==N,z=!1!==N?null===(r=N)||"auto"===r?f.FetchStrategy.PPR:f.FetchStrategy.Full:f.FetchStrategy.PPR,{href:I,as:R}=i.default.useMemo(()=>{let e=p(y);return{href:e,as:j?p(j):e}},[y,j]);if(P){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});l=i.default.Children.only(a)}let D=P?l&&"object"==typeof l&&l.ref:E,W=i.default.useCallback(e=>(null!==B&&(v.current=(0,m.mountLinkInstance)(e,I,B,z,T,g)),()=>{v.current&&((0,m.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,m.unmountPrefetchableInstance)(e)}),[T,I,B,z,g]),U={ref:(0,d.useMergedRef)(W,D),onClick(t){P||"function"!=typeof M||M(t),P&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(t),!B||t.defaultPrevented||function(t,r,a,l,n,s,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,x.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);i.default.startTransition(()=>{u(a||r,n?"replace":"push",s??!0,l.current)})}}(t,I,R,v,k,S,A)},onMouseEnter(e){P||"function"!=typeof F||F(e),P&&l.props&&"function"==typeof l.props.onMouseEnter&&l.props.onMouseEnter(e),B&&T&&(0,m.onNavigationIntent)(e.currentTarget,!0===O)},onTouchStart:function(e){P||"function"!=typeof $||$(e),P&&l.props&&"function"==typeof l.props.onTouchStart&&l.props.onTouchStart(e),B&&T&&(0,m.onNavigationIntent)(e.currentTarget,!0===O)}};return(0,u.isAbsoluteUrl)(R)?U.href=R:P&&!C&&("a"!==l.type||"href"in l.props)||(U.href=(0,h.addBasePath)(R)),n=P?i.default.cloneElement(l,U):(0,s.jsx)("a",{..._,...U,children:a}),(0,s.jsx)(b.Provider,{value:o,children:n})}e.r(84508);let b=(0,i.createContext)(m.IDLE_LINK_STATUS),v=()=>(0,i.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},30717,7540,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function a(){let[e,t]=(0,r.useState)(!1),a=(0,r.useCallback)(()=>{t(!1)},[]),l=(0,r.useCallback)(()=>{t(!0)},[]),n=(0,r.useCallback)(()=>{t(e=>!e)},[]),s=function(e,t=!0){let a=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!t)return;let r=t=>{a.current&&!a.current.contains(t.target)&&e()},l=t=>{"Escape"===t.key&&e()};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r),document.removeEventListener("keydown",l)}},[e,t]),a}(a,e);return{isOpen:e,ref:s,toggle:n,open:l,close:a}}function l({options:e,value:l,onChange:n,placeholder:s,className:i="",ariaLabel:o,numericSort:c=!1}){let{ref:d,isOpen:u,toggle:h,close:m}=a(),[x,f]=(0,r.useState)(""),p=(0,r.useCallback)(()=>{u||f(""),h()},[u,h]),g=(0,r.useCallback)(e=>{n(e),m(),f("")},[n,m]),b=(0,r.useMemo)(()=>{let t=[...e].sort((e,t)=>{if(c){let r=parseFloat(e.label),a=parseFloat(t.label);if(!isNaN(r)&&!isNaN(a))return r-a}return e.label.localeCompare(t.label)});if(!x.trim())return t;let r=x.toLowerCase().trim();return t.filter(e=>e.label.toLowerCase().includes(r))},[e,x,c]),v=e.find(e=>e.value===l),y=v?.label??s??"";return(0,t.jsxs)("div",{className:`relative ${i}`,ref:d,children:[(0,t.jsxs)("button",{type:"button",onClick:p,className:`
          flex items-center justify-between gap-2 w-full px-3 py-1.5
          bg-retro-navy/50 border rounded text-sm text-left
          transition-colors
          ${u?"border-retro-cyan":"border-retro-grid/50 hover:border-retro-grid"}
          ${v?"text-gray-200":"text-gray-400"}
        `,"aria-expanded":u,"aria-haspopup":"listbox","aria-label":o,children:[(0,t.jsx)("span",{className:"truncate",children:y}),(0,t.jsx)("svg",{className:`w-4 h-4 flex-shrink-0 transition-transform ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&(0,t.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-retro-navy border border-retro-grid/50 rounded-lg shadow-xl overflow-hidden",role:"listbox",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 p-2 border-b border-retro-grid/30 bg-retro-navy",children:(0,t.jsx)("input",{type:"text",value:x,onChange:e=>f(e.target.value),placeholder:"Search...",autoFocus:!0,className:"w-full px-3 py-1.5 text-sm bg-retro-dark border border-retro-grid/50 rounded text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan"})}),(0,t.jsxs)("div",{className:"max-h-60 overflow-y-auto py-1",children:[b.map(e=>{let r=e.value===l;return(0,t.jsxs)("button",{type:"button",onClick:()=>g(e.value),className:`
                    w-full flex items-center gap-2 px-3 py-2 text-sm text-left
                    transition-colors
                    ${r?"bg-retro-cyan/10 text-retro-cyan":"text-gray-300 hover:bg-retro-purple/20"}
                  `,role:"option","aria-selected":r,children:[(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:r&&(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})}),e.label]},String(e.value))}),0===b.length&&(0,t.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:x?"No matches found":"No options available"})]})]})]})}e.s(["useDropdown",()=>a],7540),e.s(["SingleSelectDropdown",()=>l],30717)},19208,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(20446);function l({characters:e,config:l,maxCharacters:n=32,maxWidth:s=128,maxHeight:i=64,scale:o=1,foregroundColor:c="#ffffff",backgroundColor:d="#000000",className:u="",forceColumns:h,showCharacterBorders:m=!1,characterBorderColor:x="rgba(100, 100, 100, 0.5)",scanlinesIntensity:f=0,bloomIntensity:p=0}){let{displayChars:g,columns:b,rows:v}=(0,r.useMemo)(()=>{let t=l.width*o,r=l.height*o;if(h){let t=Math.min(n,e.length),r=Math.ceil(t/h),a=Math.min(h*r,t);return{displayChars:e.slice(0,a),columns:h,rows:r}}let a=Math.floor(s/t),c=Math.floor(i/r),d=[64,32,16,8,4].find(e=>e<=a)||Math.min(a,4);d=Math.max(d,1);let u=Math.min(n,e.length),m=Math.ceil(u/d);if(m>c){let t=Math.ceil(u/(d=a)),r=Math.min(d*Math.min(t,c),u);return{displayChars:e.slice(0,r),columns:d,rows:Math.min(t,c)}}return{displayChars:e.slice(0,u),columns:d,rows:m}},[e,l,n,s,i,h,o]),y=(0,r.useMemo)(()=>{let{width:e,height:t}=l,r=b*e,a=Array.from({length:v*t},()=>Array(r).fill(!1));return g.forEach((r,l)=>{let n=l%b*e,s=Math.floor(l/b)*t;for(let l=0;l<t;l++)for(let t=0;t<e;t++)r.pixels[l]?.[t]&&(a[s+l][n+t]=!0)}),a},[g,l,b,v]),j=e.length-g.length,w=l.width*o,N=l.height*o;return(0,t.jsxs)("div",{className:`relative inline-block ${u}`,children:[(0,t.jsx)(a.PixelGrid,{pixels:y,scale:o,showGrid:!1,foregroundColor:c,backgroundColor:d,interactive:!1,scanlinesIntensity:f,bloomIntensity:p}),m&&b>0&&v>0&&(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{display:"grid",gridTemplateColumns:`repeat(${b}, ${w}px)`,gridTemplateRows:`repeat(${v}, ${N}px)`},children:g.map((e,r)=>(0,t.jsx)("div",{style:{border:`1px solid ${x}`,boxSizing:"border-box"}},r))}),j>0&&(0,t.jsxs)("div",{className:"absolute bottom-0 right-0 bg-retro-dark/90 text-[9px] text-gray-400 px-1 rounded-tl font-mono",children:["+",j]})]})}e.s(["CharacterPreview",()=>l])},92921,e=>{"use strict";function t(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`}function r(e){return`${e.width}x${e.height}`}function a(e){let t=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return`${t||"charset"}.bin`}function l(e){let t=e.name.toLowerCase().substring(e.name.lastIndexOf("."));return[".bin",".rom",".chr",".fnt",".dat"].includes(t)||!t||t===e.name.toLowerCase()}function n(e,t){return Math.floor(e/(Math.ceil(t.width/8)*t.height))}function s(e){let t=new Date(e),r=Math.floor((new Date().getTime()-e)/864e5);return 0===r?"Today":1===r?"Yesterday":r<7?`${r} days ago`:t.toLocaleDateString()}function i(e,t){if(e.pixels.length!==t.pixels.length)return!1;if(0===e.pixels.length)return!0;if(e.pixels[0].length!==t.pixels[0].length)return!1;for(let r=0;r<e.pixels.length;r++)for(let a=0;a<e.pixels[0].length;a++)if(e.pixels[r][a]!==t.pixels[r][a])return!1;return!0}function o(e,t){let r=new Set,a=Math.max(e.length,t.length);for(let l=0;l<a;l++)l>=e.length||l>=t.length?r.add(l):i(e[l],t[l])||r.add(l);return r}function c(e,t){let r=new Set,a=Math.max(e.pixels.length,t.pixels.length),l=Math.max(e.pixels[0]?.length||0,t.pixels[0]?.length||0);for(let n=0;n<a;n++)for(let a=0;a<l;a++)(e.pixels[n]?.[a]??!1)!==(t.pixels[n]?.[a]??!1)&&r.add(`${n},${a}`);return r}e.s(["areCharactersEqual",()=>i,"calculateCharacterCount",()=>n,"findChangedCharacterIndices",()=>o,"findDifferingPixels",()=>c,"formatFileSize",()=>t,"formatSize",()=>r,"formatTimestamp",()=>s,"getSuggestedFilename",()=>a,"isValidBinaryFile",()=>l])},76849,72547,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(19208),l=e.i(22016),n=e.i(7540);function s({items:e,trigger:r,align:a="right",className:s="",label:i="More options"}){let{ref:o,isOpen:c,toggle:d,close:u}=(0,n.useDropdown)(),h=e=>{e.disabled||(e.onClick?.(),u())};return 0===e.length?null:(0,t.jsxs)("div",{ref:o,className:`relative ${s}`,children:[(0,t.jsx)("button",{onClick:d,className:"touch-target flex items-center justify-center p-2 text-gray-400 hover:text-white bg-retro-dark/50 hover:bg-retro-dark rounded-md transition-colors","aria-label":i,"aria-expanded":c,"aria-haspopup":"menu",children:r||(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),c&&(0,t.jsx)("div",{className:`absolute top-full mt-2 z-50 min-w-[180px] bg-retro-navy/95 backdrop-blur-md border border-retro-grid/50 rounded-lg py-1 shadow-xl shadow-black/50 ${"right"===a?"right-0":"left-0"}`,role:"menu","aria-orientation":"vertical",children:e.map(e=>{let r=`
              w-full flex items-center gap-3 px-4 py-3 text-sm text-left
              transition-colors touch-target
              ${e.disabled?"text-gray-500 cursor-not-allowed":"danger"===e.variant?"text-red-400 hover:bg-red-500/20 hover:text-red-300":"text-gray-200 hover:bg-retro-purple/40 hover:text-retro-cyan"}
            `;return e.href&&!e.disabled?(0,t.jsxs)(l.default,{href:e.href,className:r,role:"menuitem",onClick:u,children:[e.icon&&(0,t.jsx)("span",{className:"w-5 h-5 flex-shrink-0",children:e.icon}),(0,t.jsx)("span",{children:e.label})]},e.id):(0,t.jsxs)("button",{className:r,role:"menuitem",disabled:e.disabled,onClick:()=>h(e),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),h(e))},children:[e.icon&&(0,t.jsx)("span",{className:"w-5 h-5 flex-shrink-0",children:e.icon}),(0,t.jsx)("span",{children:e.label})]},e.id)})})]})}e.s(["OverflowMenu",()=>s],72547);var i=e.i(74080),o=e.i(32098),c=e.i(92921);function d({isOpen:e,onClose:r,notes:a,characterSetName:l}){if("undefined"==typeof document||!e)return null;let n=(0,t.jsxs)(o.Modal,{isOpen:e,onClose:r,size:"md",maxHeight:"70vh",children:[(0,t.jsx)(o.ModalHeader,{onClose:r,showCloseButton:!0,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:"Notes"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[a.length," note",1!==a.length?"s":""," for ",l]})]})}),(0,t.jsx)(o.ModalContent,{className:"p-4",children:0===a.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),(0,t.jsx)("p",{className:"text-sm",children:"No notes"})]}):(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsxs)("div",{className:"p-3 rounded border bg-retro-dark/30 border-retro-grid/30",children:[(0,t.jsx)("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:e.text}),(0,t.jsxs)("div",{className:"mt-2 pt-2 border-t border-retro-grid/20 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Created ",(0,c.formatTimestamp)(e.createdAt)]}),e.updatedAt!==e.createdAt&&(0,t.jsxs)("span",{className:"ml-2",children:["(edited ",(0,c.formatTimestamp)(e.updatedAt),")"]})]})]},e.id))})})]});return(0,i.createPortal)(n,document.body)}var u=e.i(94136);function h({characterSet:e,onEdit:l,onExport:n,onDelete:i,onDuplicate:o,onRename:h,onEditMetadata:m,onTogglePinned:x}){let{metadata:f,config:p}=e,g=(0,r.useMemo)(()=>{try{return(0,u.deserializeCharacterSet)(e).characters}catch{return[]}},[e]),b=g.length,[v,y]=(0,r.useState)(!1),j=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),w=(0,r.useMemo)(()=>{let e=[];return x&&e.push({id:"pin",label:f.isPinned?"Unpin":"Pin to top",onClick:x}),l&&e.push({id:"edit",label:"Edit",onClick:l}),h&&!f.isBuiltIn&&e.push({id:"rename",label:"Rename",onClick:h}),m&&!f.isBuiltIn&&e.push({id:"edit-metadata",label:"Edit Metadata",onClick:m}),n&&e.push({id:"export",label:"Export",onClick:n}),o&&e.push({id:"duplicate",label:"Duplicate",onClick:o}),i&&!f.isBuiltIn&&e.push({id:"delete",label:"Delete",onClick:i,variant:"danger"}),e},[l,h,m,n,o,i,x,f.isBuiltIn,f.isPinned]);return(0,t.jsxs)("div",{className:`card-retro p-4 flex flex-col gap-3 hover-glow-cyan transition-all h-full relative has-[[aria-expanded=true]]:z-50 ${f.isPinned?"ring-1 ring-retro-yellow/50":""}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-retro-cyan truncate flex items-center gap-1.5",children:[f.isPinned&&(0,t.jsx)("svg",{className:"w-3.5 h-3.5 text-retro-yellow flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"})}),f.notes&&f.notes.length>0&&(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),y(!0)},className:"flex items-center gap-0.5 text-retro-amber flex-shrink-0 hover:text-retro-amber/80 transition-colors",title:`${f.notes.length} note${1!==f.notes.length?"s":""} - Click to view`,children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),f.name]}),(f.manufacturer||f.system||f.chip||f.locale)&&(0,t.jsxs)("p",{className:"text-[10px] text-gray-500 mt-0.5",children:[f.manufacturer,f.manufacturer&&f.system?" ":"",f.system,f.chip&&(f.manufacturer||f.system)?" · ":"",f.chip,f.locale&&(f.manufacturer||f.system||f.chip)?" · ":"",f.locale]}),f.description&&(0,t.jsx)("p",{className:"text-xs text-gray-400 line-clamp-2 mt-0.5",children:f.description}),f.tags&&f.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:f.tags.map((e,r)=>(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-retro-amber/15 text-retro-amber/80 rounded text-[10px]",children:e},`tag-${r}`))})]}),(0,t.jsx)("div",{className:"flex-shrink-0",children:w.length>0&&(0,t.jsx)(s,{items:w,align:"right",label:"Character set actions"})})]}),(0,t.jsx)("div",{className:"flex justify-center py-2 bg-black/30 rounded mt-auto",children:(0,t.jsx)(a.CharacterPreview,{characters:g,config:p,maxCharacters:512,maxWidth:256,maxHeight:4096})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 pt-2 border-t border-retro-grid/30 text-[10px]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-retro-purple/30 text-retro-pink rounded",children:(0,c.formatSize)(p)}),(0,t.jsxs)("span",{className:"text-gray-500",children:[b," char",1!==b?"s":""]}),f.isBuiltIn&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-retro-navy text-gray-400 rounded",children:"Built-in"})]}),l&&(0,t.jsx)("button",{onClick:l,className:"px-2 py-1 text-xs bg-retro-amber/20 text-retro-amber rounded transition-all shadow-[0_0_8px_rgba(255,184,0,0.25)] hover:bg-retro-amber hover:text-retro-dark hover:shadow-[0_0_8px_var(--retro-amber),0_0_15px_var(--retro-amber),0_0_30px_var(--retro-amber)]",children:"Edit"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-gray-500",children:[(0,t.jsxs)("span",{title:"Date created",children:[(0,t.jsx)("span",{className:"text-[8px] text-gray-600",children:"Created:"})," ",j(f.createdAt)]}),(0,t.jsxs)("span",{title:"Date modified",children:[(0,t.jsx)("span",{className:"text-[8px] text-gray-600",children:"Modified:"})," ",j(f.updatedAt)]})]})]}),(0,t.jsx)(d,{isOpen:v,onClose:()=>y(!1),notes:f.notes??[],characterSetName:f.name})]})}function m({characterSet:e,selected:l=!1,onClick:n}){let{metadata:s,config:i}=e,o=(0,r.useMemo)(()=>{try{return(0,u.deserializeCharacterSet)(e).characters}catch{return[]}},[e]);return(0,t.jsx)("button",{onClick:n,className:`
        w-full p-3 rounded border text-left transition-all
        ${l?"border-retro-cyan bg-retro-cyan/10":"border-retro-grid/30 bg-retro-navy/30 hover:border-retro-grid/50"}
      `,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-black/30 p-1 rounded",children:(0,t.jsx)(a.CharacterPreview,{characters:o,config:i,maxCharacters:8,maxWidth:48,maxHeight:24})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-200 truncate",children:s.name}),(0,t.jsxs)("div",{className:"text-[10px] text-gray-500",children:[(0,c.formatSize)(i)," - ",o.length," chars"]})]}),l&&(0,t.jsx)("svg",{className:"w-4 h-4 text-retro-cyan flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})]})})}function x({onImport:e,onCreate:r}){return(0,t.jsxs)("div",{className:"card-retro p-6 flex flex-col items-center justify-center gap-4 border-dashed",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-retro-cyan/20 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-retro-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Add a character set"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Import a ROM file or create from scratch"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[r&&(0,t.jsxs)("button",{onClick:r,className:"px-3 py-1.5 text-xs bg-retro-pink/20 text-retro-pink rounded hover:bg-retro-pink/30 transition-colors flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add"]}),e&&(0,t.jsxs)("button",{onClick:e,className:"px-3 py-1.5 text-xs bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Import"]})]})]})}e.s(["LibraryCard",()=>h,"LibraryCardCompact",()=>m,"LibraryCardEmpty",()=>x],76849)},81074,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(3374),l=e.i(58234),n=e.i(72547),s=e.i(21745);function i(e){return"type"in e&&"separator"===e.type}function o({actions:e,minVisibleItems:a=2,className:l="",sticky:o=!1}){let c=(0,r.useRef)(null),[d,u]=(0,r.useState)(new Set),h=(0,r.useCallback)(()=>{if(!c.current)return;let t=c.current.offsetWidth-32-48,r=e.filter(e=>!i(e)).map(e=>({item:e,priority:e.priority??1})),l=[...r].sort((e,t)=>e.priority-t.priority),n=0;for(let t of e)n+=i(t)?16:48;let s=new Set,o=n,d=r.length;for(let{item:e}of l){if(o<=t||d<=a)break;s.add(e.id),o-=48,d--}u(s)},[e,a]);(0,r.useEffect)(()=>{h();let e=new ResizeObserver(()=>{h()});return c.current&&e.observe(c.current),()=>e.disconnect()},[h]);let m=[],x=[];for(let t of e)if(i(t)){let r=e.slice(e.indexOf(t)+1).some(e=>!i(e)&&!d.has(e.id)),a=e.slice(0,e.indexOf(t)).some(e=>!i(e)&&!d.has(e.id));r&&a&&m.push(t)}else d.has(t.id)?x.push(t):m.push(t);let f=x.map(e=>({id:e.id,label:e.label,icon:e.icon,onClick:e.onClick,disabled:e.disabled}));return(0,t.jsxs)("div",{ref:c,className:`
        flex items-center justify-between
        bg-retro-navy/80 backdrop-blur-sm
        border-b border-retro-grid/50
        px-2 sm:px-4
        ${o?"sticky top-[var(--header-height)] z-40":""}
        ${l}
      `,style:{minHeight:"var(--toolbar-height)"},children:[(0,t.jsx)("div",{className:"flex items-center gap-1 sm:gap-2 flex-nowrap overflow-hidden",children:m.map(e=>i(e)?(0,t.jsx)("div",{className:"h-6 w-px bg-retro-grid/50 mx-1","aria-hidden":"true"},e.id):(0,t.jsx)(s.Tooltip,{content:e.tooltip||e.label,shortcut:e.shortcut,position:"bottom",children:(0,t.jsx)("button",{onClick:e.onClick,disabled:e.disabled,"aria-label":e.label,className:`
                  touch-target flex items-center justify-center p-2 rounded-md
                  text-sm font-ui transition-colors flex-shrink-0
                  ${e.disabled?"text-gray-600 cursor-not-allowed":e.active?"amber"===e.activeVariant?"text-retro-amber bg-retro-amber/20":"text-retro-cyan bg-retro-purple/40":"text-gray-300 hover:text-retro-cyan hover:bg-retro-purple/30"}
                `,children:(0,t.jsx)("span",{className:"w-6 h-6 flex-shrink-0 [&>svg]:w-full [&>svg]:h-full",children:e.icon})})},e.id))}),f.length>0&&(0,t.jsx)(n.OverflowMenu,{items:f,align:"right",label:"More actions"})]})}var c=e.i(74080);let d=()=>()=>{},u=()=>!0,h=()=>!1;function m({isOpen:e,onClose:a,children:l,title:n,initialSnap:s="expanded",collapsedHeight:i="30vh",expandedHeight:o="60vh",allowFullHeight:m=!0,className:x=""}){let[f,p]=(0,r.useState)(s),[g,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(0),j=(0,r.useRef)(null),w=(0,r.useRef)(0),N=(0,r.useRef)(0),C=(0,r.useSyncExternalStore)(d,u,h),k=(0,r.useCallback)(e=>{switch(e){case"collapsed":return i;case"expanded":default:return o;case"full":return"calc(100vh - 60px)"}},[i,o]),L=(0,r.useCallback)(e=>{b(!0),w.current=e,j.current&&(N.current=j.current.getBoundingClientRect().height)},[]),S=(0,r.useCallback)(e=>{g&&y(w.current-e)},[g]),M=(0,r.useCallback)(()=>{g&&(b(!1),v<-50?"collapsed"===f||"expanded"===f?a():p("expanded"):v>50&&("collapsed"===f?p("expanded"):"expanded"===f&&m&&p("full")),y(0))},[g,v,f,m,a]),F=(0,r.useCallback)(e=>{e.preventDefault(),L(e.clientY)},[L]),$=(0,r.useCallback)(e=>{L(e.touches[0].clientY)},[L]),P=(0,r.useCallback)(e=>{S(e.touches[0].clientY)},[S]);if((0,r.useEffect)(()=>{if(!g)return;let e=e=>{S(e.clientY)},t=()=>{M()};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[g,S,M]),(0,r.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),(0,r.useEffect)(()=>{if(!e)return;let t=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,a]),!C)return null;let A=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`
          fixed inset-0 bg-black/50 z-40
          transition-opacity duration-300
          ${e?"opacity-100":"opacity-0 pointer-events-none"}
        `,onClick:a,"aria-hidden":"true"}),(0,t.jsxs)("div",{ref:j,className:`
          fixed bottom-0 left-0 right-0 z-50
          bg-retro-navy border-t border-retro-grid/50
          rounded-t-2xl shadow-2xl
          transition-transform duration-300 ease-out
          ${e?"translate-y-0":"translate-y-full"}
          ${g?"transition-none":""}
          ${x}
        `,style:{height:k(f),transform:g?`translateY(${e?-v:0}px)`:e?"translateY(0)":"translateY(100%)"},role:"dialog","aria-modal":"true","aria-label":n||"Bottom sheet",children:[(0,t.jsx)("div",{className:"flex justify-center py-3 cursor-grab active:cursor-grabbing touch-none",onMouseDown:F,onTouchStart:$,onTouchMove:P,onTouchEnd:M,children:(0,t.jsx)("div",{className:"w-10 h-1 bg-gray-500 rounded-full"})}),n&&(0,t.jsx)("div",{className:"px-4 pb-2 border-b border-retro-grid/30",children:(0,t.jsx)("h2",{className:"text-sm font-medium text-gray-300",children:n})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto px-4 pb-safe",children:l})]})]});return(0,c.createPortal)(A,document.body)}function x({title:e,children:r,toolbar:n,showFooter:s=!1,fullHeight:i=!0,className:c=""}){return(0,t.jsxs)("div",{className:`flex flex-col safe-top ${i?"viewport-locked":"min-h-screen"}`,children:[(0,t.jsx)(a.Header,{}),n&&n.length>0&&(0,t.jsx)(o,{actions:n,sticky:!0,className:"mt-[var(--header-height)]"}),(0,t.jsxs)("main",{className:`
          flex-1 bg-retro-dark
          ${!n?"mt-[var(--header-height)]":""}
          ${i?"tool-canvas overflow-hidden":""}
          ${c}
        `,children:[(0,t.jsx)("h1",{className:"sr-only",children:e}),r]}),s&&(0,t.jsx)(l.Footer,{})]})}function f({children:e,sidebar:a,sidebarPosition:l="left",sidebarWidth:n="280px",leftSidebar:s,leftSidebarWidth:i="220px",leftSidebarTitle:o="Panel",rightSidebar:c,rightSidebarWidth:d="80px",rightSidebarTitle:u="Tools",leftSidebarCollapsible:h=!0,rightSidebarCollapsible:x=!0,useBottomSheets:f=!0,className:p=""}){let g=function(e){let[t,a]=(0,r.useState)(()=>window.matchMedia(e).matches);return(0,r.useEffect)(()=>{let r=window.matchMedia(e);r.matches!==t&&a(r.matches);let l=e=>{a(e.matches)};return r.addEventListener("change",l),()=>{r.removeEventListener("change",l)}},[e,t]),t}("(max-width: 639px)"),[b,v]=(0,r.useState)(null),y=s??("left"===l?a:void 0),j=c??("right"===l?a:void 0),w=s?i:n,N=c?d:n,C=(0,r.useCallback)(()=>v("left"),[]),k=(0,r.useCallback)(()=>v("right"),[]),L=(0,r.useCallback)(()=>v(null),[]);return y||j?g&&f&&(h||x)?(0,t.jsxs)("div",{className:"h-full flex flex-col relative",children:[(0,t.jsx)("div",{className:`
            flex-1 overflow-auto
            flex items-center justify-center
            pb-14
            ${p}
          `,children:e}),(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-30 bg-retro-navy border-t border-retro-grid/50 safe-bottom",children:(0,t.jsxs)("div",{className:"flex justify-around py-2 px-4",children:[y&&h&&(0,t.jsxs)("button",{onClick:C,className:`
                  flex flex-col items-center gap-1 px-4 py-2 rounded-lg
                  transition-colors min-w-[80px]
                  ${"left"===b?"bg-retro-cyan/20 text-retro-cyan":"text-gray-400 hover:text-gray-200"}
                `,"aria-label":`Open ${o}`,children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),(0,t.jsx)("span",{className:"text-xs",children:o})]}),j&&x&&(0,t.jsxs)("button",{onClick:k,className:`
                  flex flex-col items-center gap-1 px-4 py-2 rounded-lg
                  transition-colors min-w-[80px]
                  ${"right"===b?"bg-retro-pink/20 text-retro-pink":"text-gray-400 hover:text-gray-200"}
                `,"aria-label":`Open ${u}`,children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),(0,t.jsx)("span",{className:"text-xs",children:u})]})]})}),y&&h&&(0,t.jsx)(m,{isOpen:"left"===b,onClose:L,title:o,expandedHeight:"70vh",collapsedHeight:"40vh",children:y}),j&&x&&(0,t.jsx)(m,{isOpen:"right"===b,onClose:L,title:u,expandedHeight:"60vh",collapsedHeight:"35vh",children:j})]}):(0,t.jsxs)("div",{className:"h-full flex flex-col lg:flex-row",children:[y&&(0,t.jsx)("aside",{className:`
            w-full lg:w-auto lg:flex-shrink-0
            ${h?"border-b lg:border-b-0":""}
            lg:border-r border-retro-grid/50
            bg-retro-navy/50
            overflow-y-auto
            ${h?"max-h-[30vh] lg:max-h-none":""}
          `,style:{"--sidebar-width":w},children:(0,t.jsx)("div",{className:"lg:w-[var(--sidebar-width)] h-full",children:y})}),(0,t.jsx)("div",{className:`
          flex-1 overflow-auto
          flex items-center justify-center
          ${p}
        `,children:e}),j&&(0,t.jsx)("aside",{className:`
            w-full lg:w-auto lg:flex-shrink-0
            ${x?"border-t lg:border-t-0":""}
            lg:border-l border-retro-grid/50
            bg-retro-navy/50
            overflow-y-auto
            ${x?"max-h-[30vh] lg:max-h-none":""}
          `,style:{"--sidebar-width":N},children:(0,t.jsx)("div",{className:"lg:w-[var(--sidebar-width)] h-full",children:j})})]}):(0,t.jsx)("div",{className:`h-full overflow-auto ${p}`,children:e})}e.s(["ToolContent",()=>f,"ToolLayout",()=>x],81074)},99616,95782,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(7540);function l({label:e,options:l,selected:n,onChange:s,placeholder:i="All",className:o="",showAllOption:c=!0,allOptionLabel:d="All",numericSort:u=!1}){let{ref:h,isOpen:m,toggle:x}=(0,a.useDropdown)(),[f,p]=(0,r.useState)(""),g=(0,r.useCallback)(()=>{m||p(""),x()},[m,x]),b=(0,r.useCallback)(e=>{n.includes(e)?s(n.filter(t=>t!==e)):s([...n,e])},[n,s]),v=(0,r.useCallback)(()=>{s([])},[s]),y=(0,r.useCallback)((e,t)=>{t.stopPropagation(),s(n.filter(t=>t!==e))},[n,s]),j=e=>{let t=l.find(t=>t.value===e);return t?.label??String(e)},w=(0,r.useMemo)(()=>{let e=[...l].sort((e,t)=>{if(u){let r=parseFloat(e.label),a=parseFloat(t.label);if(!isNaN(r)&&!isNaN(a))return r-a}return e.label.localeCompare(t.label)});if(!f.trim())return e;let t=f.toLowerCase().trim();return e.filter(e=>e.label.toLowerCase().includes(t))},[l,f,u]),N=n.length>0;return(0,t.jsxs)("div",{className:`relative ${o}`,ref:h,children:[(0,t.jsxs)("button",{type:"button",onClick:g,className:`
          flex items-center justify-between gap-2 w-full px-3 py-1.5
          bg-retro-navy/50 border rounded text-sm text-left
          transition-colors
          ${m?"border-retro-cyan":"border-retro-grid/50 hover:border-retro-grid"}
          ${N?"text-gray-200":"text-gray-400"}
        `,"aria-expanded":m,"aria-haspopup":"listbox",children:[(0,t.jsx)("span",{className:"truncate",children:N?`${e} (${n.length})`:i}),(0,t.jsx)("svg",{className:`w-4 h-4 flex-shrink-0 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),N&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:n.map(e=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-retro-cyan/20 text-retro-cyan rounded text-xs",children:[j(e),(0,t.jsx)("button",{type:"button",onClick:t=>y(e,t),className:"hover:text-white transition-colors","aria-label":`Remove ${j(e)}`,children:(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},String(e)))}),m&&(0,t.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-retro-navy border border-retro-grid/50 rounded-lg shadow-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 p-2 border-b border-retro-grid/30 bg-retro-navy",children:(0,t.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Search...",autoFocus:!0,className:"w-full px-3 py-1.5 text-sm bg-retro-dark border border-retro-grid/50 rounded text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan"})}),(0,t.jsxs)("div",{className:"max-h-60 overflow-y-auto py-1",children:[c&&!f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{type:"button",onClick:v,className:`
                    w-full flex items-center gap-2 px-3 py-2 text-sm text-left
                    transition-colors
                    ${!N?"bg-retro-cyan/10 text-retro-cyan":"text-gray-300 hover:bg-retro-purple/20"}
                  `,children:[(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:!N&&(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})}),d]}),(0,t.jsx)("div",{className:"h-px bg-retro-grid/30 mx-2 my-1"})]}),w.map(e=>{let r=n.includes(e.value);return(0,t.jsxs)("button",{type:"button",onClick:()=>b(e.value),className:`
                    w-full flex items-center gap-2 px-3 py-2 text-sm text-left
                    transition-colors
                    ${r?"bg-retro-cyan/10 text-retro-cyan":"text-gray-300 hover:bg-retro-purple/20"}
                  `,role:"option","aria-selected":r,children:[(0,t.jsx)("span",{className:`
                      w-4 h-4 flex items-center justify-center rounded border
                      ${r?"bg-retro-cyan border-retro-cyan":"border-gray-500"}
                    `,children:r&&(0,t.jsx)("svg",{className:"w-3 h-3 text-retro-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.label]},String(e.value))}),0===w.length&&(0,t.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:f?"No matches found":"No options available"})]})]})]})}var n=e.i(30717),s=e.i(33712);function i(){return{searchQuery:"",widthFilters:[],heightFilters:[],characterCountFilters:[],manufacturerFilters:[],systemFilters:[],chipFilters:[],localeFilters:[],tagFilters:[],sourceFilters:[],isPinnedFilters:[],originFilters:[]}}function o(e){return e.searchQuery.length>0||e.widthFilters.length>0||e.heightFilters.length>0||e.characterCountFilters.length>0||e.manufacturerFilters.length>0||e.systemFilters.length>0||e.chipFilters.length>0||e.localeFilters.length>0||e.tagFilters.length>0||e.sourceFilters.length>0||e.isPinnedFilters.length>0||e.originFilters.length>0}function c(e,t,r,a){var l;return l=e.filter(e=>{var r,a,l,n,i,o,c,d;return function(e,t){if(!t.trim())return!0;let r=t.toLowerCase(),a=(e.metadata.tags??[]).some(e=>e.toLowerCase().includes(r)),l=(e.metadata.notes??[]).some(e=>e.text.toLowerCase().includes(r)),n=e.metadata.isBuiltIn?["built-in","builtin","built in"].some(e=>e.includes(r)||r.includes(e)):["user","custom","user-created"].some(e=>e.includes(r)||r.includes(e));return e.metadata.name.toLowerCase().includes(r)||e.metadata.description.toLowerCase().includes(r)||e.metadata.source.toLowerCase().includes(r)||(e.metadata.manufacturer?.toLowerCase().includes(r)??!1)||(e.metadata.system?.toLowerCase().includes(r)??!1)||(e.metadata.chip?.toLowerCase().includes(r)??!1)||(e.metadata.locale?.toLowerCase().includes(r)??!1)||a||l||n}(e,t.searchQuery)&&(r=t.widthFilters,a=t.heightFilters,(!(r.length>0)||!!r.includes(e.config.width))&&(!(a.length>0)||!!a.includes(e.config.height)))&&(0===(l=t.manufacturerFilters).length||!!e.metadata.manufacturer&&l.includes(e.metadata.manufacturer))&&(0===(n=t.systemFilters).length||!!e.metadata.system&&n.includes(e.metadata.system))&&(0===(i=t.chipFilters).length||!!e.metadata.chip&&i.includes(e.metadata.chip))&&(0===(o=t.localeFilters).length||!!e.metadata.locale&&o.includes(e.metadata.locale))&&(0===(c=t.characterCountFilters).length||c.includes((0,s.getCharacterCount)(e)))&&function(e,t){if(0===t.length)return!0;let r=e.metadata.tags??[];return t.some(e=>r.includes(e))}(e,t.tagFilters)&&(0===(d=t.sourceFilters).length||!!e.metadata.source&&d.includes(e.metadata.source))&&function(e,t){if(0===t.length)return!0;let r=e.metadata.isPinned??!1;return t.some(e=>"pinned"===e?!0===r:"not-pinned"===e&&!1===r)}(e,t.isPinnedFilters)&&function(e,t){if(0===t.length)return!0;if(e.metadata.isBuiltIn)return t.includes("built-in");let r=e.metadata.origin??"created";return t.includes(r)}(e,t.originFilters)}),[...l].sort((e,t)=>{let l=+!!e.metadata.isPinned,n=+!!t.metadata.isPinned;if(l!==n)return n-l;let i=function(e,t,r){switch(r){case"name":return e.metadata.name.localeCompare(t.metadata.name);case"description":return(e.metadata.description||"").localeCompare(t.metadata.description||"");case"source":return(e.metadata.source||"").localeCompare(t.metadata.source||"");case"updatedAt":return e.metadata.updatedAt-t.metadata.updatedAt;case"createdAt":return e.metadata.createdAt-t.metadata.createdAt;case"width":return e.config.width-t.config.width;case"height":return e.config.height-t.config.height;case"size":return e.config.width*e.config.height-t.config.width*t.config.height;case"characters":return(0,s.getCharacterCount)(e)-(0,s.getCharacterCount)(t);case"manufacturer":return(e.metadata.manufacturer||"").localeCompare(t.metadata.manufacturer||"");case"system":return(e.metadata.system||"").localeCompare(t.metadata.system||"");case"chip":return(e.metadata.chip||"").localeCompare(t.metadata.chip||"");case"locale":return(e.metadata.locale||"").localeCompare(t.metadata.locale||"");default:return 0}}(e,t,r);return"asc"===a?i:-i})}function d(e){let t=new Set;for(let r of e)r.metadata.manufacturer&&t.add(r.metadata.manufacturer);return Array.from(t).sort()}function u(e,t){let r=new Set;for(let a of t&&t.length>0?e.filter(e=>e.metadata.manufacturer&&t.includes(e.metadata.manufacturer)):e)a.metadata.system&&r.add(a.metadata.system);return Array.from(r).sort()}function h(e){let t=new Set;for(let r of e)r.metadata.chip&&t.add(r.metadata.chip);return Array.from(t).sort()}function m(e){let t=new Set;for(let r of e)r.metadata.locale&&t.add(r.metadata.locale);return Array.from(t).sort()}function x(e){let t=new Set;for(let r of e)t.add((0,s.getCharacterCount)(r));return Array.from(t).sort((e,t)=>e-t)}function f(e){let t=new Set;for(let r of e)for(let e of r.metadata.tags??[])t.add(e);return Array.from(t).sort()}function p(e){let t=new Set;for(let r of e)r.metadata.source&&t.add(r.metadata.source);return Array.from(t).sort()}function g(e){let t=new Set;for(let r of e)r.metadata.isBuiltIn?t.add("built-in"):t.add(r.metadata.origin??"created");return Array.from(t).sort()}function b(e,t,r){if(0===r.length)return e;let a=function(e,t){if(0===t.length)return new Set(u(e));let r=new Set;for(let a of e)a.metadata.manufacturer&&t.includes(a.metadata.manufacturer)&&a.metadata.system&&r.add(a.metadata.system);return r}(t,r);return e.filter(e=>a.has(e))}let v=[20,50,100,"all"];function y(e,t,r){let a=e.length;if("all"===r)return{items:e,totalItems:a,totalPages:1,currentPage:1,pageSize:r,hasNextPage:!1,hasPreviousPage:!1};let l=Math.max(1,Math.ceil(a/r)),n=Math.max(1,Math.min(t,l)),s=(n-1)*r;return{items:e.slice(s,s+r),totalItems:a,totalPages:l,currentPage:n,pageSize:r,hasNextPage:n<l,hasPreviousPage:n>1}}function j(e){if(!e)return 20;if("all"===e)return"all";let t=parseInt(e,10);return v.includes(t)?t:20}e.s(["DEFAULT_PAGE_SIZE",0,20,"PAGE_SIZE_OPTIONS",0,v,"createEmptyFilterState",()=>i,"filterAndSortCharacterSets",()=>c,"filterInvalidSystems",()=>b,"getAvailableCharacterCounts",()=>x,"getAvailableChips",()=>h,"getAvailableLocales",()=>m,"getAvailableManufacturers",()=>d,"getAvailableOrigins",()=>g,"getAvailableSources",()=>p,"getAvailableSystems",()=>u,"getAvailableTags",()=>f,"hasActiveFilters",()=>o,"paginateItems",()=>y,"parsePageSize",()=>j],95782);let w=[{value:"updatedAt",label:"Date Modified"},{value:"createdAt",label:"Date Created"},{value:"name",label:"Name"},{value:"description",label:"Description"},{value:"source",label:"Source"},{value:"width",label:"Width"},{value:"height",label:"Height"},{value:"size",label:"Size (W×H)"},{value:"characters",label:"Count"},{value:"manufacturer",label:"Manufacturer"},{value:"system",label:"System"},{value:"chip",label:"Chip"},{value:"locale",label:"Locale"}],N=[{value:"pinned",label:"Pinned"},{value:"not-pinned",label:"Not Pinned"}],C=[{value:"built-in",label:"Built-in"},{value:"created",label:"Created"},{value:"binary",label:"Binary Import"},{value:"text",label:"Text Import"},{value:"font",label:"Font Import"},{value:"image",label:"Image Import"},{value:"shared",label:"Shared Link"},{value:"copied",label:"Copied"}];function k({searchQuery:e,onSearchChange:a,availableSizes:s,widthFilters:i,heightFilters:o,onSizeFilterChange:c,availableCharacterCounts:d=[],characterCountFilters:u=[],onCharacterCountFilterChange:h,availableManufacturers:m=[],availableSystems:x=[],manufacturerFilters:f=[],systemFilters:p=[],onManufacturerFilterChange:g,onSystemFilterChange:b,availableChips:y=[],chipFilters:j=[],onChipFilterChange:k,availableLocales:L=[],localeFilters:S=[],onLocaleFilterChange:M,availableTags:F=[],tagFilters:$=[],onTagFilterChange:P,availableSources:A=[],sourceFilters:E=[],onSourceFilterChange:O,isPinnedFilters:_=[],onIsPinnedFiltersChange:B,availableOrigins:T=[],originFilters:z=[],onOriginFilterChange:I,sortField:R="updatedAt",sortDirection:D="desc",onSortFieldChange:W,onSortDirectionToggle:U,totalCount:H,filteredCount:V,pagination:K,onPageSizeChange:G,onPageChange:Q}){let[Y,Z]=(0,r.useState)(!1),J=(0,r.useMemo)(()=>[...m].sort(),[m]),q=(0,r.useMemo)(()=>[...x].sort(),[x]),X=(0,r.useMemo)(()=>Array.from(new Set(s.map(e=>e.width))).sort((e,t)=>e-t),[s]),ee=(0,r.useMemo)(()=>Array.from(new Set(s.map(e=>e.height))).sort((e,t)=>e-t),[s]),et=(0,r.useCallback)(()=>{a(""),c([],[]),h?.([]),g?.([]),b?.([]),k?.([]),M?.([]),P?.([]),O?.([]),B?.([]),I?.([])},[a,c,h,g,b,k,M,P,O,B,I]),er=e.length>0||i.length>0||o.length>0||u.length>0||f.length>0||p.length>0||j.length>0||S.length>0||$.length>0||E.length>0||_.length>0||z.length>0,ea=i.length>0||o.length>0||u.length>0||f.length>0||p.length>0||j.length>0||S.length>0||$.length>0||E.length>0||_.length>0||z.length>0,el=[i.length>0,o.length>0,u.length>0,f.length>0,p.length>0,j.length>0,S.length>0,$.length>0,E.length>0,_.length>0,z.length>0].filter(Boolean).length;return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Search character sets...",className:"w-full px-3 py-2 pl-10 bg-retro-dark border border-retro-grid/50 rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan transition-colors","aria-label":"Search character sets"}),(0,t.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e&&(0,t.jsx)("button",{type:"button",onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300","aria-label":"Clear search",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>Z(!Y),className:`flex items-center gap-1 px-3 py-2 border rounded-lg transition-colors ${Y?"bg-amber-500/20 border-amber-500/50 text-amber-400":ea?"bg-retro-cyan/20 border-retro-cyan text-retro-cyan":"bg-retro-navy/50 border-retro-grid/50 text-gray-400 hover:text-gray-200 hover:border-retro-grid"}`,"aria-expanded":Y,"aria-label":Y?"Hide filters":"Show filters",title:Y?"Hide filters":"Show filters",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),el>0&&(0,t.jsx)("span",{className:"text-xs font-medium",children:el})]}),W&&U&&(0,t.jsx)("div",{className:"w-px bg-retro-grid/50 mx-2 self-stretch"}),W&&U&&(0,t.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400 mr-1",children:"Sort:"}),(0,t.jsx)(n.SingleSelectDropdown,{options:w,value:R,onChange:W,ariaLabel:"Sort by",className:"min-w-[180px]"}),(0,t.jsx)("button",{type:"button",onClick:U,className:`px-3 py-2 border rounded-lg text-xs font-mono transition-colors ${"desc"===D?"bg-amber-500/20 border-amber-500/50 text-amber-400":"bg-retro-navy/50 border-retro-grid/50 text-gray-400 hover:text-gray-200 hover:border-retro-cyan/50"}`,"aria-label":"asc"===D?"Sort ascending (A to Z)":"Sort descending (Z to A)",title:"asc"===D?"Ascending (A→Z)":"Descending (Z→A)",children:"asc"===D?"abc":"cba"})]})]}),(0,t.jsx)("div",{className:`transition-all duration-300 ease-in-out ${Y?"opacity-100":"max-h-0 opacity-0 overflow-hidden"}`,children:(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 pt-1",children:[I&&(0,t.jsx)(l,{label:"Origin",options:C.filter(e=>T.includes(e.value)),selected:z,onChange:I,placeholder:"Origin",allOptionLabel:"Any origin",className:"min-w-[200px]"}),(0,t.jsx)(l,{label:"Width",options:X.map(e=>({value:e,label:`${e}px`})),selected:i,onChange:e=>c(e,o),placeholder:"Width",allOptionLabel:"Any width",className:"min-w-[200px]",numericSort:!0}),(0,t.jsx)(l,{label:"Height",options:ee.map(e=>({value:e,label:`${e}px`})),selected:o,onChange:e=>c(i,e),placeholder:"Height",allOptionLabel:"Any height",className:"min-w-[200px]",numericSort:!0}),h&&(0,t.jsx)(l,{label:"Count",options:d.map(e=>({value:e,label:`${e} chars`})),selected:u,onChange:h,placeholder:"Count",allOptionLabel:"Any count",className:"min-w-[200px]",numericSort:!0}),g&&(0,t.jsx)(l,{label:"Manufacturer",options:J.map(e=>({value:e,label:e})),selected:f,onChange:g,placeholder:"Manufacturer",allOptionLabel:"Any manufacturer",className:"min-w-[200px]"}),b&&(0,t.jsx)(l,{label:"System",options:q.map(e=>({value:e,label:e})),selected:p,onChange:b,placeholder:"System",allOptionLabel:"Any system",className:"min-w-[200px]"}),k&&(0,t.jsx)(l,{label:"Chip",options:y.map(e=>({value:e,label:e})),selected:j,onChange:k,placeholder:"Chip",allOptionLabel:"Any chip",className:"min-w-[200px]"}),M&&(0,t.jsx)(l,{label:"Locale",options:L.map(e=>({value:e,label:e})),selected:S,onChange:M,placeholder:"Locale",allOptionLabel:"Any locale",className:"min-w-[200px]"}),P&&F.length>0&&(0,t.jsx)(l,{label:"Tags",options:F.map(e=>({value:e,label:e})),selected:$,onChange:P,placeholder:"Tags",allOptionLabel:"Any tag",className:"min-w-[200px]"}),O&&A.length>0&&(0,t.jsx)(l,{label:"Source",options:A.map(e=>({value:e,label:e})),selected:E,onChange:O,placeholder:"Source",allOptionLabel:"Any source",className:"min-w-[200px]"}),B&&(0,t.jsx)(l,{label:"Pinned",options:N,selected:_,onChange:B,placeholder:"Pinned",allOptionLabel:"Any",className:"min-w-[200px]"})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 text-xs text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:er?`Showing ${V} of ${H} character sets`:`${H} character set${1!==H?"s":""}`}),er&&(0,t.jsx)("button",{onClick:et,className:"text-retro-cyan hover:text-retro-pink transition-colors",children:"Clear filters"})]}),K&&G&&Q&&K.totalItems>=20&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Show:"}),(0,t.jsx)(n.SingleSelectDropdown,{options:v.map(e=>({value:e,label:"all"===e?"All":String(e)})),value:K.pageSize,onChange:e=>G(e),ariaLabel:"Items per page",className:"min-w-[70px]"})]}),K.totalPages>1&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:()=>Q(1),disabled:!K.hasPreviousPage,className:"p-1 text-gray-400 hover:text-retro-cyan disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"First page",title:"First page",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),(0,t.jsx)("button",{onClick:()=>Q(K.currentPage-1),disabled:!K.hasPreviousPage,className:"p-1 text-gray-400 hover:text-retro-cyan disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",title:"Previous page",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsxs)("span",{className:"px-2 text-gray-300",children:[K.currentPage," / ",K.totalPages]}),(0,t.jsx)("button",{onClick:()=>Q(K.currentPage+1),disabled:!K.hasNextPage,className:"p-1 text-gray-400 hover:text-retro-cyan disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",title:"Next page",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,t.jsx)("button",{onClick:()=>Q(K.totalPages),disabled:!K.hasNextPage,className:"p-1 text-gray-400 hover:text-retro-cyan disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"Last page",title:"Last page",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]})]})]})}e.s(["LibraryFilters",()=>k],99616)},48266,e=>{"use strict";var t=e.i(43476),r=e.i(76849);function a({characterSets:e,loading:a=!1,onEdit:n,onExport:s,onDelete:i,onDuplicate:o,onRename:c,onEditMetadata:d,onTogglePinned:u,onImport:h,onCreate:m,className:x=""}){return a?(0,t.jsx)("div",{className:`grid-fluid gap-4 ${x}`,children:Array.from({length:4}).map((e,r)=>(0,t.jsx)(l,{},r))}):0===e.length?(0,t.jsx)("div",{className:`flex flex-col items-center justify-center py-12 ${x}`,children:(0,t.jsx)(r.LibraryCardEmpty,{onImport:h,onCreate:m})}):(0,t.jsx)("div",{className:`grid-fluid gap-4 ${x}`,children:e.map(e=>(0,t.jsx)(r.LibraryCard,{characterSet:e,onEdit:n?()=>n(e.metadata.id):void 0,onExport:s?()=>s(e.metadata.id):void 0,onDelete:i?()=>i(e.metadata.id):void 0,onDuplicate:o?()=>o(e.metadata.id):void 0,onRename:c?()=>c(e.metadata.id):void 0,onEditMetadata:d?()=>d(e.metadata.id):void 0,onTogglePinned:u?()=>u(e.metadata.id):void 0},e.metadata.id))})}function l(){return(0,t.jsxs)("div",{className:"card-retro p-4 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-retro-grid/30 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-retro-grid/20 rounded w-full mt-2"})]}),(0,t.jsx)("div",{className:"w-6 h-6 bg-retro-grid/20 rounded"})]}),(0,t.jsx)("div",{className:"h-16 bg-black/30 rounded mb-3"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("div",{className:"h-4 w-12 bg-retro-grid/20 rounded"}),(0,t.jsx)("div",{className:"h-4 w-16 bg-retro-grid/20 rounded"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-retro-grid/30",children:[(0,t.jsx)("div",{className:"h-3 w-20 bg-retro-grid/20 rounded"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"h-6 w-12 bg-retro-grid/20 rounded"}),(0,t.jsx)("div",{className:"h-6 w-14 bg-retro-grid/20 rounded"})]})]})]})}function n({onClearFilters:e}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-retro-navy/50 flex items-center justify-center mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No results found"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Try adjusting your search or filters"}),e&&(0,t.jsx)("button",{onClick:e,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors",children:"Clear all filters"})]})}function s({error:e,onRetry:r}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Failed to load library"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:e}),r&&(0,t.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors",children:"Try again"})]})}e.s(["LibraryGrid",()=>a,"LibraryGridEmptyResults",()=>n,"LibraryGridError",()=>s])},61967,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(22016),l=e.i(81074),n=e.i(66811),s=e.i(99616),i=e.i(48266),o=e.i(19208),c=e.i(94136),d=e.i(92921),u=e.i(95782),h=e.i(44254);function m(){let{characterSets:e,loading:o,error:c,refresh:d}=(0,n.useCharacterLibrary)(),{showToast:m}=(0,h.useToast)(),[f,p]=(0,r.useState)(new Set),[g,b]=(0,r.useState)(u.createEmptyFilterState),[v,y]=(0,r.useState)("name"),[j,w]=(0,r.useState)("desc"),[N,C]=(0,r.useState)(!1),k=(0,r.useMemo)(()=>(0,u.filterAndSortCharacterSets)(e,g,v,j),[e,g,v,j]),L=(0,r.useMemo)(()=>{let t=new Map;for(let r of e){let e=`${r.config.width}x${r.config.height}`;t.has(e)||t.set(e,{width:r.config.width,height:r.config.height})}return Array.from(t.values())},[e]),S=(0,r.useMemo)(()=>(0,u.getAvailableManufacturers)(e),[e]),M=(0,r.useMemo)(()=>(0,u.getAvailableSystems)(e),[e]),F=(0,r.useMemo)(()=>(0,u.getAvailableChips)(e),[e]),$=(0,r.useMemo)(()=>(0,u.getAvailableLocales)(e),[e]),P=(0,r.useMemo)(()=>(0,u.getAvailableCharacterCounts)(e),[e]),A=(0,r.useMemo)(()=>(0,u.getAvailableTags)(e),[e]),E=(0,r.useMemo)(()=>(0,u.getAvailableSources)(e),[e]),O=(0,r.useMemo)(()=>(0,u.getAvailableOrigins)(e),[e]),_=(0,r.useCallback)(e=>{p(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),B=(0,r.useCallback)(()=>{p(new Set(k.map(e=>e.metadata.id)))},[k]),T=(0,r.useCallback)(()=>{p(new Set)},[]),z=(0,r.useCallback)(()=>{p(e=>{let t=new Set(e);for(let e of k)t.add(e.metadata.id);return t})},[k]),I=(0,r.useCallback)(e=>{b(t=>({...t,searchQuery:e}))},[]),R=(0,r.useCallback)((e,t)=>{b(r=>({...r,widthFilters:e,heightFilters:t}))},[]),D=(0,r.useCallback)(e=>{b(t=>({...t,characterCountFilters:e}))},[]),W=(0,r.useCallback)(e=>{b(t=>({...t,manufacturerFilters:e}))},[]),U=(0,r.useCallback)(e=>{b(t=>({...t,systemFilters:e}))},[]),H=(0,r.useCallback)(e=>{b(t=>({...t,chipFilters:e}))},[]),V=(0,r.useCallback)(e=>{b(t=>({...t,localeFilters:e}))},[]),K=(0,r.useCallback)(e=>{b(t=>({...t,tagFilters:e}))},[]),G=(0,r.useCallback)(e=>{b(t=>({...t,sourceFilters:e}))},[]),Q=(0,r.useCallback)(e=>{b(t=>({...t,isPinnedFilters:e}))},[]),Y=(0,r.useCallback)(e=>{b(t=>({...t,originFilters:e}))},[]),Z=(0,r.useCallback)(e=>{y(e)},[]),J=(0,r.useCallback)(()=>{w(e=>"asc"===e?"desc":"asc")},[]),q=(0,r.useCallback)(async()=>{if(0===f.size)return void m("No character sets selected","warning");C(!0);try{let t=e.filter(e=>f.has(e.metadata.id)),r={version:1,exportedAt:new Date().toISOString(),count:t.length,characterSets:t},a=JSON.stringify(r,null,2),l=new Blob([a],{type:"application/json"}),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=`character-sets-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),m(`Exported ${t.length} character set${1!==t.length?"s":""}`,"success")}catch(e){console.error("Export failed:",e),m("Export failed","error")}finally{C(!1)}},[f,e,m]),X=(0,r.useMemo)(()=>k.filter(e=>f.has(e.metadata.id)).length,[k,f]),ee=(0,r.useMemo)(()=>{let t=e.filter(e=>f.has(e.metadata.id)),r=0;for(let e of t)r+=e.binaryData.length+JSON.stringify(e.metadata).length+JSON.stringify(e.config).length;return r<1024?`${r} B`:r<1048576?`${(r/1024).toFixed(1)} KB`:`${(r/1048576).toFixed(1)} MB`},[f,e]);return c?(0,t.jsx)(l.ToolLayout,{title:"Export Character Sets",children:(0,t.jsx)(l.ToolContent,{children:(0,t.jsx)(i.LibraryGridError,{error:c,onRetry:d})})}):(0,t.jsx)(l.ToolLayout,{title:"Export Character Sets",children:(0,t.jsx)(l.ToolContent,{className:"!items-start !justify-start",children:(0,t.jsxs)("div",{className:"flex flex-col h-full w-full max-w-5xl mx-auto p-6",children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsxs)(a.default,{href:"/tools/character-rom-editor",className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors mb-2 inline-flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Library"]}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-retro-cyan",children:"Export Character Sets"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Select character sets to export to a single JSON file"})]}),(0,t.jsx)("div",{className:"mt-6 flex-shrink-0",children:(0,t.jsx)(s.LibraryFilters,{searchQuery:g.searchQuery,onSearchChange:I,availableSizes:L,widthFilters:g.widthFilters,heightFilters:g.heightFilters,onSizeFilterChange:R,availableCharacterCounts:P,characterCountFilters:g.characterCountFilters,onCharacterCountFilterChange:D,availableManufacturers:S,availableSystems:M,manufacturerFilters:g.manufacturerFilters,systemFilters:g.systemFilters,onManufacturerFilterChange:W,onSystemFilterChange:U,availableChips:F,chipFilters:g.chipFilters,onChipFilterChange:H,availableLocales:$,localeFilters:g.localeFilters,onLocaleFilterChange:V,availableTags:A,tagFilters:g.tagFilters,onTagFilterChange:K,availableSources:E,sourceFilters:g.sourceFilters,onSourceFilterChange:G,isPinnedFilters:g.isPinnedFilters,onIsPinnedFiltersChange:Q,availableOrigins:O,originFilters:g.originFilters,onOriginFilterChange:Y,sortField:v,sortDirection:j,onSortFieldChange:Z,onSortDirectionToggle:J,totalCount:e.length,filteredCount:k.length})}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-between py-3 px-4 bg-retro-navy/30 rounded-lg border border-retro-grid/30 flex-shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[(0,t.jsx)("span",{className:"text-retro-cyan font-medium",children:f.size})," selected",X!==f.size&&(0,t.jsxs)("span",{className:"text-gray-500",children:[" (",X," shown)"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:B,className:"px-3 py-1.5 text-xs bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors",children:"Select All"}),(0,t.jsx)("button",{onClick:z,className:"px-3 py-1.5 text-xs bg-retro-violet/20 text-retro-violet rounded hover:bg-retro-violet/30 transition-colors",title:"Add all filtered items to selection",children:"Add Filtered"}),(0,t.jsx)("button",{onClick:T,className:"px-3 py-1.5 text-xs bg-retro-grid/30 text-gray-400 rounded hover:bg-retro-grid/50 hover:text-gray-200 transition-colors",children:"Clear Selection"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[f.size>0&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["Est. size: ",ee]}),(0,t.jsx)("button",{onClick:q,disabled:0===f.size||N,className:"px-4 py-2 text-sm bg-retro-amber/20 text-retro-amber rounded transition-all shadow-[0_0_8px_rgba(255,184,0,0.25)] hover:bg-retro-amber hover:text-retro-dark hover:shadow-[0_0_8px_var(--retro-amber),0_0_15px_var(--retro-amber),0_0_30px_var(--retro-amber)] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-retro-amber/20 disabled:hover:text-retro-amber disabled:hover:shadow-[0_0_8px_rgba(255,184,0,0.25)]",children:N?"Exporting...":`Export ${f.size>0?`(${f.size})`:""}`})]})]}),(0,t.jsx)("div",{className:"mt-6 flex-1 min-h-0 overflow-y-auto",children:o?(0,t.jsx)("div",{className:"flex flex-col gap-2",children:Array.from({length:5}).map((e,r)=>(0,t.jsx)("div",{className:"h-20 bg-retro-navy/30 rounded-lg animate-pulse"},r))}):0===k.length?(0,t.jsx)(i.LibraryGridEmptyResults,{onClearFilters:()=>b((0,u.createEmptyFilterState)())}):(0,t.jsx)("div",{className:"flex flex-col gap-2 pb-4",children:k.map(e=>(0,t.jsx)(x,{characterSet:e,selected:f.has(e.metadata.id),onToggle:()=>_(e.metadata.id)},e.metadata.id))})})]})})})}function x({characterSet:e,selected:a,onToggle:l}){let{metadata:n,config:s}=e,i=(0,r.useMemo)(()=>{try{return(0,c.deserializeCharacterSet)(e).characters}catch{return[]}},[e]);return(0,t.jsxs)("button",{onClick:l,className:`
        w-full p-3 rounded-lg border text-left transition-all flex items-center gap-4
        ${a?"border-retro-cyan bg-retro-cyan/10":"border-retro-grid/30 bg-retro-navy/30 hover:border-retro-grid/50"}
      `,children:[(0,t.jsx)("div",{className:`
          w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 transition-colors
          ${a?"border-retro-cyan bg-retro-cyan":"border-gray-500"}
        `,children:a&&(0,t.jsx)("svg",{className:"w-3 h-3 text-retro-dark",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})}),(0,t.jsx)("div",{className:"flex-shrink-0 bg-black/30 p-1 rounded",children:(0,t.jsx)(o.CharacterPreview,{characters:i,config:s,maxCharacters:8,maxWidth:48,maxHeight:24})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-200 truncate",children:n.name}),n.isBuiltIn&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 text-[10px] bg-retro-navy text-gray-400 rounded",children:"Built-in"}),n.isPinned&&(0,t.jsx)("svg",{className:"w-3.5 h-3.5 text-retro-yellow flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"})})]}),(0,t.jsxs)("div",{className:"text-[10px] text-gray-500 mt-0.5",children:[(0,d.formatSize)(s)," - ",i.length," chars",n.manufacturer&&` - ${n.manufacturer}`,n.system&&` ${n.system}`]})]}),a&&(0,t.jsx)("svg",{className:"w-5 h-5 text-retro-cyan flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})]})}e.s(["ExportAllView",()=>m])}]);