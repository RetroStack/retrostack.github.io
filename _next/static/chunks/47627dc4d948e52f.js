(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37762,e=>{"use strict";let t=new Set;function s(e,t){let s=[];for(let l=0;l<t;l++)s.push(Array(e).fill(!1));return{pixels:s}}self.onmessage=async l=>{let a=l.data;if("cancel"===a.type)return void t.add(a.id);if("parse"===a.type){let{id:l,fontData:r,options:n}=a;if(t.has(l)){t.delete(l),self.postMessage({type:"cancelled",id:l});return}try{let a=await e.A(42281);if(t.has(l)){t.delete(l),self.postMessage({type:"cancelled",id:l});return}let o=a.parse(r),d=o.names?.fontFamily?.en||o.names?.fullName?.en||"Unknown Font",i=[],f=0,c=0,p=n.endCode-n.startCode+1,u=0,h=n.startCode;for(;h<=n.endCode;){let e=Math.min(h+16,n.endCode+1);for(let t=h;t<e;t++){let e=function(e,t,l){let{charWidth:a,charHeight:r,fontSize:n,threshold:o,centerGlyphs:d,baselineOffset:i}=l,f=new OffscreenCanvas(a,r).getContext("2d");if(!f)return s(a,r);f.fillStyle="white",f.fillRect(0,0,a,r);let c=e.charToGlyph(String.fromCharCode(t));if(!c||0===c.index)return s(a,r);let p=n/e.unitsPerEm,u=c.advanceWidth*p,h=(e.ascender-e.descender)*p,m=0,g=r- -(e.descender*p*1)+i;if(d){m=(a-u)/2;let t=(r-h)/2;g=r- -(e.descender*p*1)-t+i}f.fillStyle="black";let y=c.getPath(m,g,n);y.fill="black",y.draw(f);let C=f.getImageData(0,0,a,r),w=[];for(let e=0;e<r;e++){let t=[];for(let s=0;s<a;s++){let l=(e*a+s)*4,r=C.data[l],n=C.data[l+1],d=.299*r+.587*n+.114*C.data[l+2];t.push(d<o)}w.push(t)}return{pixels:w}}(o,t,n);i.push(e),e.pixels.some(e=>e.some(e=>e))?f++:t>=33&&c++,u++}if(h=e,self.postMessage({type:"progress",id:l,processed:u,total:p}),h<=n.endCode&&(await new Promise(e=>setTimeout(e,0)),t.has(l))){t.delete(l),self.postMessage({type:"cancelled",id:l});return}}if(t.has(l)){t.delete(l),self.postMessage({type:"cancelled",id:l});return}self.postMessage({type:"result",id:l,characters:i,fontFamily:d,importedCount:f,missingCount:c})}catch(e){t.delete(l),self.postMessage({type:"error",id:l,error:e instanceof Error?e.message:"Unknown error"})}}},e.s([])},42281,e=>{e.v(t=>Promise.all(["static/chunks/786e6f48876ae0dc.js"].map(t=>e.l(t))).then(()=>t(71801)))}]);