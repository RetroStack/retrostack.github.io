(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29969,e=>{"use strict";var t={},n=function(e,n,r,i,s){var o=new Worker(t[n]||(t[n]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return o.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var r=Error(n[0]);r.code=n[1],r.stack=n[2],s(r,null)}else s(null,t)},o.postMessage(r,i),o},r=Uint8Array,i=Uint16Array,s=Int32Array,o=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var n=new i(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var o=new s(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)o[a]=a-n[r]<<5|r;return{b:n,r:o}},h=l(o,2),c=h.b,f=h.r;c[28]=258,f[258]=28;for(var d=l(a,0),p=d.b,v=d.r,g=new i(32768),m=0;m<32768;++m){var y=(43690&m)>>1|(21845&m)<<1;y=(61680&(y=(52428&y)>>2|(13107&y)<<2))>>4|(3855&y)<<4,g[m]=((65280&y)>>8|(255&y)<<8)>>1}for(var b=function(e,t,n){for(var r,s=e.length,o=0,a=new i(t);o<s;++o)e[o]&&++a[e[o]-1];var u=new i(t);for(o=1;o<t;++o)u[o]=u[o-1]+a[o-1]<<1;if(n){r=new i(1<<t);var l=15-t;for(o=0;o<s;++o)if(e[o])for(var h=o<<4|e[o],c=t-e[o],f=u[e[o]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)r[g[f]>>l]=h}else for(o=0,r=new i(s);o<s;++o)e[o]&&(r[o]=g[u[e[o]-1]++]>>15-e[o]);return r},w=new r(288),m=0;m<144;++m)w[m]=8;for(var m=144;m<256;++m)w[m]=9;for(var m=256;m<280;++m)w[m]=7;for(var m=280;m<288;++m)w[m]=8;for(var S=new r(32),m=0;m<32;++m)S[m]=5;var C=b(w,9,0),x=b(w,9,1),_=b(S,5,0),k=b(S,5,1),M=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},R=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},z=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},A=function(e){return(e+7)/8|0},T=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new r(e.subarray(t,n))},j=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(e,t,n){var r=Error(t||j[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,E),!n)throw r;return r},F=function(e,t,n,i){var s=e.length,l=i?i.length:0;if(!s||t.f&&!t.l)return n||new r(0);var h=!n,f=h||2!=t.i,d=t.i;h&&(n=new r(3*s));var v=function(e){var t=n.length;if(e>t){var i=new r(Math.max(2*t,e));i.set(n),n=i}},g=t.f||0,m=t.p||0,y=t.b||0,w=t.l,S=t.d,C=t.m,_=t.n,j=8*s;do{if(!w){g=R(e,m,1);var F=R(e,m+1,3);if(m+=3,F)if(1==F)w=x,S=k,C=9,_=5;else if(2==F){var D=R(e,m,31)+257,I=R(e,m+10,15)+4,P=D+R(e,m+5,31)+1;m+=14;for(var O=new r(P),N=new r(19),U=0;U<I;++U)N[u[U]]=R(e,m+3*U,7);m+=3*I;for(var $=M(N),L=(1<<$)-1,K=b(N,$,1),U=0;U<P;){var q=K[R(e,m,L)];m+=15&q;var X=q>>4;if(X<16)O[U++]=X;else{var Y=0,B=0;for(16==X?(B=3+R(e,m,3),m+=2,Y=O[U-1]):17==X?(B=3+R(e,m,7),m+=3):18==X&&(B=11+R(e,m,127),m+=7);B--;)O[U++]=Y}}var G=O.subarray(0,D),H=O.subarray(D);C=M(G),_=M(H),w=b(G,C,1),S=b(H,_,1)}else E(1);else{var X=A(m)+4,W=e[X-4]|e[X-3]<<8,Z=X+W;if(Z>s){d&&E(0);break}f&&v(y+W),n.set(e.subarray(X,Z),y),t.b=y+=W,t.p=m=8*Z,t.f=g;continue}if(m>j){d&&E(0);break}}f&&v(y+131072);for(var J=(1<<C)-1,Q=(1<<_)-1,V=m;;V=m){var Y=w[z(e,m)&J],ee=Y>>4;if((m+=15&Y)>j){d&&E(0);break}if(Y||E(2),ee<256)n[y++]=ee;else if(256==ee){V=m,w=null;break}else{var et=ee-254;if(ee>264){var U=ee-257,en=o[U];et=R(e,m,(1<<en)-1)+c[U],m+=en}var er=S[z(e,m)&Q],ei=er>>4;er||E(3),m+=15&er;var H=p[ei];if(ei>3){var en=a[ei];H+=z(e,m)&(1<<en)-1,m+=en}if(m>j){d&&E(0);break}f&&v(y+131072);var es=y+et;if(y<H){var eo=l-H,ea=Math.min(H,es);for(eo+y<0&&E(3);y<ea;++y)n[y]=i[eo+y]}for(;y<es;++y)n[y]=n[y-H]}}t.l=w,t.p=V,t.b=y,t.f=g,w&&(g=1,t.m=C,t.d=S,t.n=_)}while(!g)return y!=n.length&&h?T(n,0,y):n.subarray(0,y)},D=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},I=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},P=function(e,t){for(var n=[],s=0;s<e.length;++s)e[s]&&n.push({s:s,f:e[s]});var o=n.length,a=n.slice();if(!o)return{t:q,l:0};if(1==o){var u=new r(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var l=n[0],h=n[1],c=0,f=1,d=2;for(n[0]={s:-1,f:l.f+h.f,l:l,r:h};f!=o-1;)l=n[n[c].f<n[d].f?c++:d++],h=n[c!=f&&n[c].f<n[d].f?c++:d++],n[f++]={s:-1,f:l.f+h.f,l:l,r:h};for(var p=a[0].s,s=1;s<o;++s)a[s].s>p&&(p=a[s].s);var v=new i(p+1),g=O(n[f-1],v,0);if(g>t){var s=0,m=0,y=g-t,b=1<<y;for(a.sort(function(e,t){return v[t.s]-v[e.s]||e.f-t.f});s<o;++s){var w=a[s].s;if(v[w]>t)m+=b-(1<<g-v[w]),v[w]=t;else break}for(m>>=y;m>0;){var S=a[s].s;v[S]<t?m-=1<<t-v[S]++-1:++s}for(;s>=0&&m;--s){var C=a[s].s;v[C]==t&&(--v[C],++m)}g=t}return{t:new r(v),l:g}},O=function(e,t,n){return -1==e.s?Math.max(O(e.l,t,n+1),O(e.r,t,n+1)):t[e.s]=n},N=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new i(++t),r=0,s=e[0],o=1,a=function(e){n[r++]=e},u=1;u<=t;++u)if(e[u]==s&&u!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(s),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(s);o=1,s=e[u]}return{c:n.subarray(0,r),n:t}},U=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},$=function(e,t,n){var r=n.length,i=A(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},L=function(e,t,n,r,s,l,h,c,f,d,p){D(t,p++,n),++s[256];for(var v,g,m,y,x=P(s,15),k=x.t,M=x.l,R=P(l,15),z=R.t,A=R.l,T=N(k),j=T.c,E=T.n,F=N(z),O=F.c,L=F.n,K=new i(19),q=0;q<j.length;++q)++K[31&j[q]];for(var q=0;q<O.length;++q)++K[31&O[q]];for(var X=P(K,7),Y=X.t,B=X.l,G=19;G>4&&!Y[u[G-1]];--G);var H=d+5<<3,W=U(s,w)+U(l,S)+h,Z=U(s,k)+U(l,z)+h+14+3*G+U(K,Y)+2*K[16]+3*K[17]+7*K[18];if(f>=0&&H<=W&&H<=Z)return $(t,p,e.subarray(f,f+d));if(D(t,p,1+(Z<W)),p+=2,Z<W){v=b(k,M,0),g=k,m=b(z,A,0),y=z;var J=b(Y,B,0);D(t,p,E-257),D(t,p+5,L-1),D(t,p+10,G-4),p+=14;for(var q=0;q<G;++q)D(t,p+3*q,Y[u[q]]);p+=3*G;for(var Q=[j,O],V=0;V<2;++V)for(var ee=Q[V],q=0;q<ee.length;++q){var et=31&ee[q];D(t,p,J[et]),p+=Y[et],et>15&&(D(t,p,ee[q]>>5&127),p+=ee[q]>>12)}}else v=C,g=w,m=_,y=S;for(var q=0;q<c;++q){var en=r[q];if(en>255){var et=en>>18&31;I(t,p,v[et+257]),p+=g[et+257],et>7&&(D(t,p,en>>23&31),p+=o[et]);var er=31&en;I(t,p,m[er]),p+=y[er],er>3&&(I(t,p,en>>5&8191),p+=a[er])}else I(t,p,v[en]),p+=g[en]}return I(t,p,v[256]),p+g[256]},K=new s([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q=new r(0),X=function(e,t,n,u,l,h){var c=h.z||e.length,d=new r(u+c+5*(1+Math.ceil(c/7e3))+l),p=d.subarray(u,d.length-l),g=h.l,m=7&(h.r||0);if(t){m&&(p[0]=h.r>>3);for(var y=K[t-1],b=y>>13,w=8191&y,S=(1<<n)-1,C=h.p||new i(32768),x=h.h||new i(S+1),_=Math.ceil(n/3),k=2*_,M=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<k)&S},R=new s(25e3),z=new i(288),j=new i(32),E=0,F=0,D=h.i||0,I=0,P=h.w||0,O=0;D+2<c;++D){var N=M(D),U=32767&D,q=x[N];if(C[U]=q,x[N]=U,P<=D){var X=c-D;if((E>7e3||I>24576)&&(X>423||!g)){m=L(e,p,0,R,z,j,F,I,O,D-O,m),I=E=F=0,O=D;for(var Y=0;Y<286;++Y)z[Y]=0;for(var Y=0;Y<30;++Y)j[Y]=0}var B=2,G=0,H=w,W=U-q&32767;if(X>2&&N==M(D-W))for(var Z=Math.min(b,X)-1,J=Math.min(32767,D),Q=Math.min(258,X);W<=J&&--H&&U!=q;){if(e[D+B]==e[D+B-W]){for(var V=0;V<Q&&e[D+V]==e[D+V-W];++V);if(V>B){if(B=V,G=W,V>Z)break;for(var ee=Math.min(W,V-2),et=0,Y=0;Y<ee;++Y){var en=D-W+Y&32767,er=C[en],ei=en-er&32767;ei>et&&(et=ei,q=en)}}}q=C[U=q],W+=U-q&32767}if(G){R[I++]=0x10000000|f[B]<<18|v[G];var es=31&f[B],eo=31&v[G];F+=o[es]+a[eo],++z[257+es],++j[eo],P=D+B,++E}else R[I++]=e[D],++z[e[D]]}}for(D=Math.max(D,P);D<c;++D)R[I++]=e[D],++z[e[D]];m=L(e,p,g,R,z,j,F,I,O,D-O,m),g||(h.r=7&m|p[m/8|0]<<3,m-=7,h.h=x,h.p=C,h.i=D,h.w=P)}else{for(var D=h.w||0;D<c+g;D+=65535){var ea=D+65535;ea>=c&&(p[m/8|0]=g,ea=c),m=$(p,m+1,e.subarray(D,ea))}h.i=c}return T(d,0,u+A(m)+l)},Y=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-0x12477ce0)^n>>>1;e[t]=n}return e}(),B=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=Y[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},G=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=0|n.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(255&e)<<24|(65280&e)<<8|(255&t)<<8|t>>8}}},H=function(e,t,n,i,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new r(o.length+e.length);a.set(o),a.set(e,o.length),e=a,s.w=o.length}return X(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,i,s)},W=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},Z=function(e,t,n){for(var r=e(),i=e.toString(),s=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<r.length;++o){var a=r[o],u=s[o];if("function"==typeof a){t+=";"+u+"=";var l=a.toString();if(a.prototype)if(-1!=l.indexOf("[native code]")){var h=l.indexOf(" ",8)+1;t+=l.slice(h,l.indexOf("(",h))}else for(var c in t+=l,a.prototype)t+=";"+u+".prototype."+c+"="+a.prototype[c].toString();else t+=l}else n[u]=a}return t},J=[],Q=function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t},V=function(e,t,r,i){if(!J[r]){for(var s="",o={},a=e.length-1,u=0;u<a;++u)s=Z(e[u],s,o);J[r]={c:Z(e[a],s,o),e:o}}var l=W({},J[r].e);return n(J[r].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",r,l,Q(l),i)},ee=function(){return[r,i,s,o,a,u,c,p,x,k,g,j,b,M,R,z,A,T,E,F,e_,ei,es]},et=function(){return[r,i,s,o,a,u,f,v,C,w,_,S,g,K,q,b,D,I,P,O,N,U,$,L,A,T,X,H,eS,ei]},en=function(){return[ed,ep]},er=function(){return[em]},ei=function(e){return postMessage(e,[e.buffer])},es=function(e){return e&&{out:e.size&&new r(e.size),dictionary:e.dictionary}},eo=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){t.data.length?(e.push(t.data[0],t.data[1]),postMessage([t.data[0].length])):e.flush()}},ea=function(e,t,n,r,i,s,o){var a,u=V(e,r,i,function(e,n){e?(u.terminate(),t.ondata.call(t,e)):Array.isArray(n)?1==n.length?(t.queuedSize-=n[0],t.ondrain&&t.ondrain(n[0])):(n[1]&&u.terminate(),t.ondata.call(t,e,n[0],n[1])):o(n)});u.postMessage(n),t.queuedSize=0,t.push=function(e,n){t.ondata||E(5),a&&t.ondata(E(4,0,1),null,!!n),t.queuedSize+=e.length,u.postMessage([e,a=n],[e.buffer])},t.terminate=function(){u.terminate()},s&&(t.flush=function(){u.postMessage([])})},eu=function(e,t){return e[t]|e[t+1]<<8},el=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},eh=function(e,t){return el(e,t)+0x100000000*el(e,t+4)},ec=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},ef=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:2*(9==t.level),e[9]=3,0!=t.mtime&&ec(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},ed=function(e){(31!=e[0]||139!=e[1]||8!=e[2])&&E(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=(e[10]|e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)},ep=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},ev=function(e){return 10+(e.filename?e.filename.length+1:0)},eg=function(e,t){var n=t.level;if(e[0]=120,e[1]=(0==n?0:n<6?1:9==n?3:2)<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=G();r.p(t.dictionary),ec(e,2,r.d())}},em=function(e,t){return((15&e[0])!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&E(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&E(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function ey(e,t){return"function"==typeof e&&(t=e,e={}),this.ondata=t,e}var eb=function(){function e(e,t){if("function"==typeof e&&(t=e,e={}),this.ondata=t,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new r(98304),this.o.dictionary){var n=this.o.dictionary.subarray(-32768);this.b.set(n,32768-n.length),this.s.i=32768-n.length}}return e.prototype.p=function(e,t){this.ondata(H(e,this.o,0,0,this.s),t)},e.prototype.push=function(e,t){this.ondata||E(5),this.s.l&&E(4);var n=e.length+this.s.z;if(n>this.b.length){if(n>2*this.b.length-32768){var i=new r(-32768&n);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(e.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(s),32768),this.s.z=e.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=1&t,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},e.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},e}(),ew=function(e,t){ea([et,function(){return[eo,eb]}],this,ey.call(this,e,t),function(e){onmessage=eo(new eb(e.data))},6,1)};function eS(e,t){return H(e,t||{},0,0)}var eC=function(){function e(e,t){"function"==typeof e&&(t=e,e={}),this.ondata=t;var n=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:n?n.length:0},this.o=new r(32768),this.p=new r(0),n&&this.o.set(n)}return e.prototype.e=function(e){if(this.ondata||E(5),this.d&&E(4),this.p.length){if(e.length){var t=new r(this.p.length+e.length);t.set(this.p),t.set(e,this.p.length),this.p=t}}else this.p=e},e.prototype.c=function(e){this.s.i=+(this.d=e||!1);var t=this.s.b,n=F(this.p,this.s,this.o);this.ondata(T(n,t,this.s.b),this.d),this.o=T(n,this.s.b-32768),this.s.b=this.o.length,this.p=T(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),ex=function(e,t){ea([ee,function(){return[eo,eC]}],this,ey.call(this,e,t),function(e){onmessage=eo(new eC(e.data))},7,0)};function e_(e,t){return F(e,{i:2},t&&t.out,t&&t.dictionary)}(function(){function e(e,t){this.c=B(),this.l=0,this.v=1,eb.call(this,e,t)}e.prototype.push=function(e,t){this.c.p(e),this.l+=e.length,eb.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){var n=H(e,this.o,this.v&&ev(this.o),t&&8,this.s);this.v&&(ef(n,this.o),this.v=0),t&&(ec(n,n.length-8,this.c.d()),ec(n,n.length-4,this.l)),this.ondata(n,t)},e.prototype.flush=function(){eb.prototype.flush.call(this)}})();var ek=function(){function e(e,t){this.v=1,this.r=0,eC.call(this,e,t)}return e.prototype.push=function(e,t){if(eC.prototype.e.call(this,e),this.r+=e.length,this.v){var n=this.p.subarray(this.v-1),i=n.length>3?ed(n):4;if(i>n.length){if(!t)return}else this.v>1&&this.onmember&&this.onmember(this.r-n.length);this.p=n.subarray(i),this.v=0}eC.prototype.c.call(this,t),!this.s.f||this.s.l||t||(this.v=A(this.s.p)+9,this.s={i:0},this.o=new r(0),this.push(new r(0),t))},e}(),eM=function(e,t){var n=this;ea([ee,en,function(){return[eo,eC,ek]}],this,ey.call(this,e,t),function(e){var t=new ek(e.data);t.onmember=function(e){return postMessage(e)},onmessage=eo(t)},9,0,function(e){return n.onmember&&n.onmember(e)})};function eR(e,t){t||(t={});var n=G();n.p(e);var r=H(e,t,t.dictionary?6:2,4);return eg(r,t),ec(r,r.length-4,n.d()),r}(function(){function e(e,t){this.c=G(),this.v=1,eb.call(this,e,t)}e.prototype.push=function(e,t){this.c.p(e),eb.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){var n=H(e,this.o,this.v&&(this.o.dictionary?6:2),t&&4,this.s);this.v&&(eg(n,this.o),this.v=0),t&&ec(n,n.length-4,this.c.d()),this.ondata(n,t)},e.prototype.flush=function(){eb.prototype.flush.call(this)}})();var ez=function(){function e(e,t){eC.call(this,e,t),this.v=e&&e.dictionary?2:1}return e.prototype.push=function(e,t){if(eC.prototype.e.call(this,e),this.v){if(this.p.length<6&&!t)return;this.p=this.p.subarray(em(this.p,this.v-1)),this.v=0}t&&(this.p.length<4&&E(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),eC.prototype.c.call(this,t)},e}(),eA=function(e,t){ea([ee,er,function(){return[eo,eC,ez]}],this,ey.call(this,e,t),function(e){onmessage=eo(new ez(e.data))},11,0)},eT=function(){function e(e,t){this.o=ey.call(this,e,t)||{},this.G=ek,this.I=eC,this.Z=ez}return e.prototype.i=function(){var e=this;this.s.ondata=function(t,n){e.ondata(t,n)}},e.prototype.push=function(e,t){if(this.ondata||E(5),this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var n=new r(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;this.p.length>2&&(this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(this.o):(15&this.p[0])!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,t),this.p=null)}},e}();function ej(e,t){eT.call(this,e,t),this.queuedSize=0,this.G=eM,this.I=ex,this.Z=eA}ej.prototype.i=function(){var e=this;this.s.ondata=function(t,n,r){e.ondata(t,n,r)},this.s.ondrain=function(t){e.queuedSize-=t,e.ondrain&&e.ondrain(t)}},ej.prototype.push=function(e,t){this.queuedSize+=e.length,eT.prototype.push.call(this,e,t)};var eE="undefined"!=typeof TextEncoder&&new TextEncoder,eF="undefined"!=typeof TextDecoder&&new TextDecoder,eD=0;try{eF.decode(q,{stream:!0}),eD=1}catch(e){}var eI=function(e){for(var t="",n=0;;){var r=e[n++],i=(r>127)+(r>223)+(r>239);if(n+i>e.length)return{s:t,r:T(e,n-1)};i?3==i?t+=String.fromCharCode(55296|(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536)>>10,56320|1023&r):1&i?t+=String.fromCharCode((31&r)<<6|63&e[n++]):t+=String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}};function eP(e,t){if(t){for(var n=new r(e.length),i=0;i<e.length;++i)n[i]=e.charCodeAt(i);return n}if(eE)return eE.encode(e);for(var s=e.length,o=new r(e.length+(e.length>>1)),a=0,u=function(e){o[a++]=e},i=0;i<s;++i){if(a+5>o.length){var l=new r(a+8+(s-i<<1));l.set(o),o=l}var h=e.charCodeAt(i);h<128||t?u(h):(h<2048?u(192|h>>6):(h>55295&&h<57344?(u(240|(h=65536+(1047552&h)|1023&e.charCodeAt(++i))>>18),u(128|h>>12&63)):u(224|h>>12),u(128|h>>6&63)),u(128|63&h))}return T(o,0,a)}(function(e){this.ondata=e,eD?this.t=new TextDecoder:this.p=q}).prototype.push=function(e,t){if(this.ondata||E(5),t=!!t,this.t){this.ondata(this.t.decode(e,{stream:!0}),t),t&&(this.t.decode().length&&E(8),this.t=null);return}this.p||E(4);var n=new r(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length);var i=eI(n),s=i.s,o=i.r;t?(o.length&&E(8),this.p=null):this.p=o,this.ondata(s,t)},(function(e){this.ondata=e}).prototype.push=function(e,t){this.ondata||E(5),this.d&&E(4),this.ondata(eP(e),this.d=t||!1)};var eO=function(e){return 1==e?3:e<6?2:+(9==e)},eN=function(e,t){for(;1!=eu(e,t);t+=4+eu(e,t+2));return[eh(e,t+12),eh(e,t+4),eh(e,t+20)]},eU=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;r>65535&&E(9),t+=r+4}return t},e$=function(e,t,n,r,i,s,o,a){var u=r.length,l=n.extra,h=a&&a.length,c=eU(l);ec(e,t,null!=o?0x2014b50:0x4034b50),t+=4,null!=o&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(s<0&&8),e[t++]=i&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var f=new Date(null==n.mtime?Date.now():n.mtime),d=f.getFullYear()-1980;if((d<0||d>119)&&E(10),ec(e,t,d<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1),t+=4,-1!=s&&(ec(e,t,n.crc),ec(e,t+4,s<0?-s-2:s),ec(e,t+8,n.size)),ec(e,t+12,u),ec(e,t+14,c),t+=16,null!=o&&(ec(e,t,h),ec(e,t+6,n.attrs),ec(e,t+10,o),t+=14),e.set(r,t),t+=u,c)for(var p in l){var v=l[p],g=v.length;ec(e,t,+p),ec(e,t+2,g),e.set(v,t+4),t+=4+g}return h&&(e.set(a,t),t+=h),t},eL=function(e,t,n,r,i){ec(e,t,0x6054b50),ec(e,t+8,n),ec(e,t+10,n),ec(e,t+12,r),ec(e,t+16,i)},eK=function(){function e(e){this.filename=e,this.c=B(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){this.ondata||E(5),this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}();function eq(e,t){var n=this;t||(t={}),eK.call(this,e),this.d=new eb(t,function(e,t){n.ondata(null,e,t)}),this.compression=8,this.flag=eO(t.level)}function eX(e,t){var n=this;t||(t={}),eK.call(this,e),this.d=new ew(t,function(e,t,r){n.ondata(e,t,r)}),this.compression=8,this.flag=eO(t.level),this.terminate=this.d.terminate}function eY(e){this.ondata=e,this.u=[],this.d=1}eq.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},eq.prototype.push=function(e,t){eK.prototype.push.call(this,e,t)},eX.prototype.process=function(e,t){this.d.push(e,t)},eX.prototype.push=function(e,t){eK.prototype.push.call(this,e,t)},eY.prototype.add=function(e){var t=this;if(this.ondata||E(5),2&this.d)this.ondata(E(4+(1&this.d)*8,0,1),null,!1);else{var n=eP(e.filename),i=n.length,s=e.comment,o=s&&eP(s),a=i!=e.filename.length||o&&s.length!=o.length,u=i+eU(e.extra)+30;i>65535&&this.ondata(E(11,0,1),null,!1);var l=new r(u);e$(l,0,e,n,a,-1);var h=[l],c=function(){for(var e=0,n=h;e<n.length;e++){var r=n[e];t.ondata(null,r,!1)}h=[]},f=this.d;this.d=0;var d=this.u.length,p=W(e,{f:n,u:a,o:o,t:function(){e.terminate&&e.terminate()},r:function(){if(c(),f){var e=t.u[d+1];e?e.r():t.d=1}f=1}}),v=0;e.ondata=function(n,i,s){if(n)t.ondata(n,i,s),t.terminate();else if(v+=i.length,h.push(i),s){var o=new r(16);ec(o,0,0x8074b50),ec(o,4,e.crc),ec(o,8,v),ec(o,12,e.size),h.push(o),p.c=v,p.b=u+v+16,p.crc=e.crc,p.size=e.size,f&&p.r(),f=1}else f&&c()},this.u.push(p)}},eY.prototype.end=function(){var e=this;2&this.d?this.ondata(E(4+(1&this.d)*8,0,1),null,!0):(this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3)},eY.prototype.e=function(){for(var e=0,t=0,n=0,i=0,s=this.u;i<s.length;i++){var o=s[i];n+=46+o.f.length+eU(o.extra)+(o.o?o.o.length:0)}for(var a=new r(n+22),u=0,l=this.u;u<l.length;u++){var o=l[u];e$(a,e,o,o.f,o.u,-o.c-2,t,o.o),e+=46+o.f.length+eU(o.extra)+(o.o?o.o.length:0),t+=o.b}eL(a,e,this.u.length,n,t),this.ondata(null,a,!0),this.d=2},eY.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++)t[e].t();this.d=2};var eB=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}();function eG(){var e=this;this.i=new eC(function(t,n){e.ondata(null,t,n)})}function eH(e,t){var n=this;t<32e4?this.i=new eC(function(e,t){n.ondata(null,e,t)}):(this.i=new ex(function(e,t,r){n.ondata(e,t,r)}),this.terminate=this.i.terminate)}function eW(e){this.onfile=e,this.k=[],this.o={0:eB},this.p=q}eG.prototype.push=function(e,t){try{this.i.push(e,t)}catch(e){this.ondata(e,null,t)}},eG.compression=8,eH.prototype.push=function(e,t){this.i.terminate&&(e=T(e,0)),this.i.push(e,t)},eH.compression=8,eW.prototype.push=function(e,t){var n=this;if(this.onfile||E(5),this.p||E(4),this.c>0){var i=Math.min(this.c,e.length),s=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(s,!this.c):this.k[0].push(s),(e=e.subarray(i)).length)return this.push(e,t)}else{var o=0,a=0,u=void 0,l=void 0;this.p.length?e.length?((l=new r(this.p.length+e.length)).set(this.p),l.set(e,this.p.length)):l=this.p:l=e;for(var h=l.length,c=this.c,f=c&&this.d,d=this;a<h-4&&"break"!==function(){var e=el(l,a);if(0x4034b50==e){o=1,u=a,d.d=null,d.c=0;var t=eu(l,a+6),r=eu(l,a+8),i=8&t,s=eu(l,a+26),f=eu(l,a+28);if(h>a+30+s+f){var p,v,g=[];d.k.unshift(g),o=2;var m=el(l,a+18),y=el(l,a+22),b=function(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(eF)return eF.decode(e);var i=eI(e),s=i.s,n=i.r;return n.length&&E(8),s}(l.subarray(a+30,a+=30+s),!(2048&t));0xffffffff==m?(m=(p=i?[-2]:eN(l,a))[0],y=p[1]):i&&(m=-1),a+=f,d.c=m;var w={name:b,compression:r,start:function(){if(w.ondata||E(5),m){var e=n.o[r];e||w.ondata(E(14,"unknown compression type "+r,1),null,!1),(v=m<0?new e(b):new e(b,m,y)).ondata=function(e,t,n){w.ondata(e,t,n)};for(var t=0;t<g.length;t++){var i=g[t];v.push(i,!1)}n.k[0]==g&&n.c?n.d=v:v.push(q,!0)}else w.ondata(null,q,!0)},terminate:function(){v&&v.terminate&&v.terminate()}};m>=0&&(w.size=m,w.originalSize=y),d.onfile(w)}return"break"}if(c){if(0x8074b50==e)return u=a+=12+(-2==c&&8),o=3,d.c=0,"break";else if(0x2014b50==e)return u=a-=4,o=3,d.c=0,"break"}}();++a);if(this.p=q,c<0){var p=o?l.subarray(0,u-12-(-2==c&&8)-(0x8074b50==el(l,u-16)&&4)):l.subarray(0,a);f?f.push(p,!!o):this.k[+(2==o)].push(p)}if(2&o)return this.push(l.subarray(a),t);this.p=l.subarray(a)}t&&(this.c&&E(13),this.p=null)},eW.prototype.register=function(e){this.o[e.compression]=e},"function"==typeof queueMicrotask&&queueMicrotask,e.s(["deflateSync",()=>eS,"inflateSync",()=>e_,"zlibSync",()=>eR])},16015,(e,t,n)=>{},98547,(e,t,n)=>{var r=e.i(47167);e.r(16015);var i=e.r(71645),s=i&&"object"==typeof i&&"default"in i?i:{default:i},o=void 0!==r.default&&r.default.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},u=function(){function e(e){var t=void 0===e?{}:e,n=t.name,r=void 0===n?"stylesheet":n,i=t.optimizeForSpeed,s=void 0===i?o:i;l(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",l("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var u="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=u?u.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(l(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(l(a(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var n="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(r){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];l(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},n.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];l(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},n.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&l(a(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(r,n):i.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var h=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},c={};function f(e,t){if(!t)return"jsx-"+e;var n=String(t),r=e+n;return c[r]||(c[r]="jsx-"+h(e+"-"+n)),c[r]}function d(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;return c[n]||(c[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[n]}var p=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,i=t.optimizeForSpeed,s=void 0!==i&&i;this._sheet=r||new u({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),r&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),r=n.styleId,i=n.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var s=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=s,this._instancesCounts[r]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],r=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,r=e.id;if(n){var i=f(r,n);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return d(i,e)}):[d(i,t)]}}return{styleId:f(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),v=i.createContext(null);function g(){return new p}function m(){return i.useContext(v)}v.displayName="StyleSheetContext";var y=s.default.useInsertionEffect||s.default.useLayoutEffect,b="undefined"!=typeof window?g():void 0;function w(e){var t=b||m();return t&&("undefined"==typeof window?t.add(e):y(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}w.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},n.StyleRegistry=function(e){var t=e.registry,n=e.children,r=i.useContext(v),o=i.useState(function(){return r||t||g()})[0];return s.default.createElement(v.Provider,{value:o},n)},n.createStyleRegistry=g,n.style=w,n.useStyleRegistry=m},37902,(e,t,n)=>{t.exports=e.r(98547).style},85984,88419,98603,64358,81553,40674,96174,33491,e=>{"use strict";var t=e.i(43476);e.i(37902);var n=e.i(71645),r=e.i(20446);function i({character:e,mode:i="small",scale:s=20,smallScale:o=2,selected:a=!1,batchSelected:u=!1,onClick:l,onPixelClick:h,onPixelDrag:c,onDragEnd:f,onPixelHover:d,onPixelLeave:p,foregroundColor:v="#ffffff",backgroundColor:g="#000000",gridColor:m="#4a4a4a",gridThickness:y=1,interactive:b=!0,className:w="",mixedPixels:S,index:C,showIndex:x=!1}){let _="large"===i,k=_?s:o,M=["relative inline-block",!_&&b?"cursor-pointer":"",!_&&b?"hover:opacity-80 transition-opacity":"",(0,n.useMemo)(()=>a?"ring-2 ring-retro-cyan ring-offset-2 ring-offset-retro-dark":u?"ring-2 ring-retro-pink/50 ring-offset-1 ring-offset-retro-dark":"",[a,u]),w].filter(Boolean).join(" ");return(0,t.jsxs)("div",{className:M,onClick:e=>{l&&!_&&(e.stopPropagation(),l())},onKeyDown:e=>{l&&!_&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l())},role:!_&&b?"button":void 0,tabIndex:!_&&b?0:void 0,"aria-pressed":a||u,"aria-label":void 0!==C?`Character ${C}`:"Character",children:[(0,t.jsx)(r.PixelGrid,{pixels:e.pixels,scale:k,showGrid:_,gridColor:m,gridThickness:_?y:0,foregroundColor:v,backgroundColor:g,onPixelClick:_?h:void 0,onPixelDrag:_?c:void 0,onDragEnd:_?f:void 0,onPixelHover:_?d:void 0,onPixelLeave:_?p:void 0,interactive:_&&b,mixedPixels:S}),x&&void 0!==C&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-retro-navy/90 text-[8px] text-gray-400 px-1 rounded font-mono",children:C})]})}function s({width:e,height:n,mode:r="small",scale:i=20,smallScale:s=2,onClick:o,className:a=""}){let u="large"===r,l=u?i:s;return(0,t.jsx)("div",{className:`relative inline-flex items-center justify-center bg-retro-navy/50 border border-dashed border-retro-grid/50 cursor-pointer hover:border-retro-cyan/50 transition-colors ${a}`,style:{width:e*l+(u?(e+1)*1:0),height:n*l+(u?(n+1)*1:0)},onClick:o,role:"button",tabIndex:0,onKeyDown:e=>{o&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),o())},"aria-label":"Add new character",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}e.s(["CharacterDisplay",()=>i,"EmptyCharacterDisplay",()=>s],88419);var o=e.i(7506);function a({characters:e,config:n,maxCharacters:r=16,foregroundColor:s="#ffffff",backgroundColor:o="#000000",smallScale:a=1,className:u=""}){let l=e.slice(0,r),h=e.length-r,c=Math.ceil(Math.sqrt(r)),f=n.width*a;return(0,t.jsxs)("div",{className:`relative ${u}`,children:[(0,t.jsx)("div",{className:"grid gap-0.5",style:{gridTemplateColumns:`repeat(${c}, ${f}px)`},children:l.map((e,n)=>(0,t.jsx)(i,{character:e,mode:"small",smallScale:a,foregroundColor:s,backgroundColor:o,interactive:!1},n))}),h>0&&(0,t.jsxs)("div",{className:"absolute bottom-0 right-0 bg-retro-navy/90 text-[10px] text-gray-400 px-1 rounded",children:["+",h]})]})}function u(){let e=(0,n.useRef)(null),t=(0,n.useRef)(!1),r=(0,n.useCallback)(()=>{null!==e.current&&(clearTimeout(e.current),e.current=null,t.current=!1)},[]),i=(0,n.useCallback)((n,i)=>{r(),t.current=!0,e.current=setTimeout(()=>{t.current=!1,e.current=null,n()},i)},[r]);return(0,n.useEffect)(()=>()=>{r()},[r]),{set:i,clear:r,get isActive(){return t.current}}}function l({threshold:e=500,onLongPress:t,onPress:r,disabled:i=!1,moveThreshold:s=10}){let o=u(),a=(0,n.useRef)(!1),l=(0,n.useRef)(null),h=(0,n.useRef)(!1),c=(0,n.useCallback)((n,r)=>{i||(a.current=!1,l.current={x:n,y:r},h.current=!1,o.set(()=>{a.current=!0,h.current=!0,t()},e))},[i,e,t,o]),f=(0,n.useCallback)(()=>{o.clear(),!a.current&&r&&l.current&&r(),l.current=null},[o,r]),d=(0,n.useCallback)(()=>{o.clear(),l.current=null},[o]),p=(0,n.useCallback)((e,t)=>{if(!l.current)return;let n=Math.abs(e-l.current.x),r=Math.abs(t-l.current.y);(n>s||r>s)&&d()},[s,d]),v=(0,n.useCallback)(e=>{0===e.button&&c(e.clientX,e.clientY)},[c]),g=(0,n.useCallback)(()=>{f()},[f]),m=(0,n.useCallback)(()=>{d()},[d]),y=(0,n.useCallback)(e=>{if(1!==e.touches.length)return void d();let t=e.touches[0];c(t.clientX,t.clientY)},[c,d]),b=(0,n.useCallback)(()=>{f()},[f]);return{onMouseDown:v,onMouseUp:g,onMouseLeave:m,onTouchStart:y,onTouchEnd:b,onTouchMove:(0,n.useCallback)(e=>{if(1!==e.touches.length)return void d();let t=e.touches[0];p(t.clientX,t.clientY)},[p,d]),onContextMenu:(0,n.useCallback)(e=>{h.current&&e.preventDefault()},[])}}function h({character:e,index:r,selectedIndex:s,batchSelection:o,onSelect:a,onContextMenu:u,onLongPress:h,isSelectionMode:c,smallScale:f,foregroundColor:d,backgroundColor:p,showIndices:v}){let g=s===r||o?.has(r),m=(0,n.useCallback)(e=>{a?.(r,e.shiftKey,e.metaKey||e.ctrlKey)},[r,a]),y=l({onLongPress:(0,n.useCallback)(()=>{h?.(r)},[r,h]),disabled:!h}),b=(0,n.useCallback)(e=>{u&&(e.preventDefault(),s===r||o?.has(r)||a?.(r,!1,!1),u(e.clientX,e.clientY,r))},[r,s,o,a,u]),w=(0,n.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a?.(r,e.shiftKey,e.metaKey||e.ctrlKey))},[r,a]),S=(0,n.useCallback)(e=>{y.onContextMenu(e),e.defaultPrevented||b(e)},[y,b]);return(0,t.jsxs)("div",{onClick:m,onContextMenu:S,onKeyDown:w,onMouseDown:y.onMouseDown,onMouseUp:y.onMouseUp,onMouseLeave:y.onMouseLeave,onTouchStart:y.onTouchStart,onTouchEnd:y.onTouchEnd,onTouchMove:y.onTouchMove,role:"option","aria-selected":g,tabIndex:0,"data-grid-index":r,className:"focus:outline-none focus-visible:ring-1 focus-visible:ring-retro-cyan rounded relative touch-manipulation",style:{touchAction:"manipulation"},children:[(0,t.jsx)(i,{character:e,mode:"small",smallScale:f,selected:s===r,batchSelected:o?.has(r)&&s!==r,foregroundColor:d,backgroundColor:p,interactive:!1,index:r,showIndex:v}),c&&g&&(0,t.jsx)("div",{className:"absolute top-0 right-0 w-3 h-3 bg-retro-cyan rounded-bl flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-2 h-2 text-retro-dark",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})}function c({enabled:e,onItemTouched:t,getIndexFromPoint:r,onDragStart:i,onDragEnd:s,dragThreshold:o=5}){let[a,u]=(0,n.useState)(!1),l=(0,n.useRef)({startPos:null,touchedIndices:new Set,isActive:!1,hasMoved:!1}),h=(0,n.useRef)(!1),c=(0,n.useRef)(!1),f=(0,n.useCallback)((t,n)=>{if(!e)return;let i=r(t,n);l.current={startPos:{x:t,y:n},touchedIndices:new Set,isActive:!0,hasMoved:!1},null!==i&&l.current.touchedIndices.add(i)},[e,r]),d=(0,n.useCallback)((n,s)=>{let a=l.current;if(!e||!a.isActive||!a.startPos)return;if(!a.hasMoved){let e=Math.abs(n-a.startPos.x),r=Math.abs(s-a.startPos.y);if(e<o&&r<o)return;a.hasMoved=!0,u(!0),i?.();let l=Array.from(a.touchedIndices)[0];void 0!==l&&t(l)}let h=r(n,s);null===h||a.touchedIndices.has(h)||(a.touchedIndices.add(h),t(h))},[e,o,r,t,i]),p=(0,n.useCallback)(()=>{l.current.hasMoved&&(u(!1),s?.(),h.current=!0),l.current={startPos:null,touchedIndices:new Set,isActive:!1,hasMoved:!1}},[s]),v=(0,n.useCallback)(e=>{if(1!==e.touches.length)return void p();let t=e.touches[0];f(t.clientX,t.clientY)},[f,p]),g=(0,n.useCallback)(e=>{if(1!==e.touches.length)return void p();let t=e.touches[0];d(t.clientX,t.clientY)},[d,p]),m=(0,n.useCallback)(()=>{p()},[p]),y=(0,n.useCallback)(t=>{0===t.button&&(c.current=!0,e&&t.preventDefault(),f(t.clientX,t.clientY))},[f,e]),b=(0,n.useCallback)(e=>{c.current&&d(e.clientX,e.clientY)},[d]);return{onTouchStart:v,onTouchMove:g,onTouchEnd:m,onMouseDown:y,onMouseMove:b,onMouseUp:(0,n.useCallback)(()=>{c.current=!1,p()},[p]),onClickCapture:(0,n.useCallback)(e=>{h.current&&(e.stopPropagation(),e.preventDefault(),h.current=!1)},[]),isDragging:a}}function f({characters:e,config:r,selectedIndex:i,batchSelection:a,onSelect:u,showAddButton:l=!1,onAdd:f,foregroundColor:d="#ffffff",backgroundColor:p="#000000",showIndices:v=!1,minColumns:g=8,maxColumns:m=32,gap:y=4,className:b="",smallScale:w=2,onContextMenu:S,isSelectionMode:C=!1,onLongPress:x}){let _=(0,n.useRef)(null),k=(0,n.useRef)(null),{size:M}=(0,o.useResizeObserver)(),R=r.width*w+y+8,z=(0,n.useMemo)(()=>M.width?Math.max(g,Math.min(m,Math.floor((M.width-y)/R))):g,[M.width,R,y,g,m]),A=(0,n.useCallback)((e,t)=>{u?.(e,t,!1)},[u]),{handleKeyDown:T,focusItem:j}=function({itemCount:e,columns:t,currentIndex:r,onNavigate:i,pageSize:s,itemSelector:o='[role="option"]',containerRef:a}){let u=(0,n.useRef)(null),l=a??u,h=s??3*t,c=(0,n.useCallback)(e=>{if(!l.current)return;let t=l.current.querySelectorAll(o)[e];t&&t.focus()},[l,o]),f=(0,n.useCallback)((n,r)=>{if(0===e)return null;let i=r%t,s=Math.ceil(e/t);switch(n){case"ArrowRight":{let t=r+1;return t<e?t:r}case"ArrowLeft":{let e=r-1;return e>=0?e:r}case"ArrowDown":{let n=r+t;if(n>=e){let n=(s-1)*t+i;return n<e?n:e-1}return n}case"ArrowUp":{let e=r-t;return e>=0?e:i}case"Home":return 0;case"End":return e-1;case"PageDown":return Math.min(r+h,e-1);case"PageUp":return Math.max(r-h,0);default:return null}},[e,t,h]);return{handleKeyDown:(0,n.useCallback)(e=>{if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(e.key))return;let t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName)return;let n=f(e.key,r);null!==n&&n!==r&&(e.preventDefault(),i(n,e.shiftKey),c(n))},[r,f,i,c]),containerRef:l,focusItem:c}}({itemCount:e.length,columns:z,currentIndex:i??0,onNavigate:A,containerRef:_});(0,n.useEffect)(()=>{void 0!==i&&document.activeElement?.closest('[role="listbox"]')===_.current&&j(i)},[i,j]);let E=c({enabled:C,onItemTouched:e=>u?.(e,!1,!0),getIndexFromPoint:(0,n.useCallback)((t,n)=>{let r=document.elementFromPoint(t,n);if(!r)return null;let i=r;for(;i&&i!==document.body;){let t=i.getAttribute("data-grid-index");if(null!==t){let n=parseInt(t,10);return n>=0&&n<e.length?n:null}i=i.parentElement}return null},[e.length])});return(0,t.jsx)("div",{ref:_,className:`overflow-auto p-2 ${b} ${C?"ring-4 ring-retro-cyan rounded bg-retro-cyan/10":""} ${E.isDragging?"ring-4 ring-retro-pink bg-retro-pink/20":""}`,role:"listbox","aria-label":"Character selection grid","aria-multiselectable":C||void 0!==a,onKeyDown:T,children:(0,t.jsxs)("div",{ref:k,className:"grid select-none",style:{gridTemplateColumns:`repeat(${z}, auto)`,gap:`${y}px`},onTouchStartCapture:E.onTouchStart,onTouchMoveCapture:E.onTouchMove,onTouchEndCapture:E.onTouchEnd,onMouseDownCapture:E.onMouseDown,onMouseMoveCapture:E.onMouseMove,onMouseUpCapture:E.onMouseUp,onClickCapture:E.onClickCapture,children:[e.map((e,n)=>(0,t.jsx)(h,{character:e,index:n,selectedIndex:i,batchSelection:a,onSelect:u,onContextMenu:S,onLongPress:x,isSelectionMode:C,smallScale:w,foregroundColor:d,backgroundColor:p,showIndices:v},n)),l&&(0,t.jsx)(s,{width:r.width,height:r.height,mode:"small",smallScale:w,onClick:f})]})})}e.s(["CharacterPreviewGrid",()=>a],98603),e.s(["useTimer",()=>u],64358),e.s(["useLongPress",()=>l],81553),e.s(["useDragSelect",()=>c],40674),e.s(["InteractiveCharacterGrid",()=>f],96174),e.s([],85984);var d=e.i(94136),p=e.i(29969);function v(e,t,n,r){let i=(0,d.serializeCharacterRom)(n,r),s=new TextEncoder,o=s.encode(e),a=s.encode(t),u="left"===r.padding|2*("lsb"===r.bitDirection),l=new Uint8Array(3+o.length+1+a.length+1+i.length),h=0;return l[h++]=r.width,l[h++]=r.height,l[h++]=u,l.set(o,h),h+=o.length,l[h++]=0,l.set(a,h),h+=a.length,l[h++]=0,l.set(i,h),"2:"+function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}((0,p.deflateSync)(l,{level:9}))}function g(e){try{var t;if(!e.startsWith("2:"))throw Error("Invalid share format: missing version prefix");let n=e.slice(2),r=(t=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=atob(t+="=".repeat(n)),i=new Uint8Array(r.length);for(let e=0;e<r.length;e++)i[e]=r.charCodeAt(e);return i}(n),(0,p.inflateSync)(t)),i=r[0],s=r[1],o=r[2],a=new TextDecoder,u=3,l=r.indexOf(0,u);if(-1===l)throw Error("Invalid share format: name not terminated");let h=a.decode(r.slice(u,l));u=l+1;let c=r.indexOf(0,u);if(-1===c)throw Error("Invalid share format: description not terminated");let f=a.decode(r.slice(u,c));u=c+1;let v=r.slice(u),g={width:i,height:s,padding:1&o?"left":"right",bitDirection:2&o?"lsb":"msb"},m=(0,d.parseCharacterRom)(v,g);return{name:h,description:f,characters:m,config:g}}catch(e){throw Error(`Failed to decode shared character set: ${e}`)}}function m(e){let t=`${window.location.origin}/tools/character-rom-editor/shared`;return`${t}#${e}`}function y(){let e=window.location.hash;return e?e.slice(1):null}function b(e){return e.length<=2e3?"ok":e.length<=8e3?"warning":"error"}function w(e,t,n){let r=Math.ceil(1.34*Math.ceil((e*Math.ceil(t*n/8)+53)*.5))+2+50;return r<=2e3?{canShare:!0,estimatedLength:r,status:"ok",message:"Character set can be shared"}:r<=8e3?{canShare:!0,estimatedLength:r,status:"warning",message:"URL may be too long for some platforms. Consider reducing characters."}:{canShare:!1,estimatedLength:r,status:"error",message:`Character set is too large to share (${e} characters). Maximum shareable size depends on character dimensions.`}}e.s(["canShare",()=>w,"createShareUrl",()=>m,"decodeCharacterSet",()=>g,"encodeCharacterSet",()=>v,"getHashFromUrl",()=>y,"getUrlLengthStatus",()=>b],33491)}]);