(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38749,e=>{"use strict";var t=e.i(43476);function r({checked:e,onChange:r,id:a,disabled:s=!1,className:n=""}){return(0,t.jsx)("button",{type:"button",id:a,role:"switch","aria-checked":e,disabled:s,onClick:()=>r(!e),className:`
        relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full
        border-2 transition-colors duration-200 ease-in-out
        focus:outline-none focus:ring-2 focus:ring-retro-cyan focus:ring-offset-2 focus:ring-offset-retro-dark
        ${e?"bg-retro-pink border-retro-pink":"bg-retro-purple/50 border-retro-purple"}
        ${s?"opacity-50 cursor-not-allowed":""}
        ${n}
      `,children:(0,t.jsx)("span",{className:`
          pointer-events-none inline-block h-5 w-5 transform rounded-full
          shadow ring-0 transition duration-200 ease-in-out
          ${e?"translate-x-5 bg-white":"translate-x-0 bg-gray-400"}
        `})})}e.s(["ToggleSwitch",()=>r])},92921,e=>{"use strict";function t(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`}function r(e){return`${e.width}x${e.height}`}function a(e){let t=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return`${t||"charset"}.bin`}function s(e){let t=e.name.toLowerCase().substring(e.name.lastIndexOf("."));return[".bin",".rom",".chr",".fnt",".dat"].includes(t)||!t||t===e.name.toLowerCase()}function n(e,t){return Math.floor(e/(Math.ceil(t.width/8)*t.height))}function i(e){let t=new Date(e),r=Math.floor((new Date().getTime()-e)/864e5);return 0===r?"Today":1===r?"Yesterday":r<7?`${r} days ago`:t.toLocaleDateString()}function l(e,t){if(e.pixels.length!==t.pixels.length)return!1;if(0===e.pixels.length)return!0;if(e.pixels[0].length!==t.pixels[0].length)return!1;for(let r=0;r<e.pixels.length;r++)for(let a=0;a<e.pixels[0].length;a++)if(e.pixels[r][a]!==t.pixels[r][a])return!1;return!0}function o(e,t){let r=new Set,a=Math.max(e.length,t.length);for(let s=0;s<a;s++)s>=e.length||s>=t.length?r.add(s):l(e[s],t[s])||r.add(s);return r}function c(e,t){let r=new Set,a=Math.max(e.pixels.length,t.pixels.length),s=Math.max(e.pixels[0]?.length||0,t.pixels[0]?.length||0);for(let n=0;n<a;n++)for(let a=0;a<s;a++)(e.pixels[n]?.[a]??!1)!==(t.pixels[n]?.[a]??!1)&&r.add(`${n},${a}`);return r}e.s(["areCharactersEqual",()=>l,"calculateCharacterCount",()=>n,"findChangedCharacterIndices",()=>o,"findDifferingPixels",()=>c,"formatFileSize",()=>t,"formatSize",()=>r,"formatTimestamp",()=>i,"getSuggestedFilename",()=>a,"isValidBinaryFile",()=>s])},76849,72547,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(19208),s=e.i(22016),n=e.i(7540);function i({items:e,trigger:r,align:a="right",className:i="",label:l="More options"}){let{ref:o,isOpen:c,toggle:d,close:u}=(0,n.useDropdown)(),h=e=>{e.disabled||(e.onClick?.(),u())};return 0===e.length?null:(0,t.jsxs)("div",{ref:o,className:`relative ${i}`,children:[(0,t.jsx)("button",{onClick:d,className:"touch-target flex items-center justify-center p-2 text-gray-400 hover:text-white bg-retro-dark/50 hover:bg-retro-dark rounded-md transition-colors","aria-label":l,"aria-expanded":c,"aria-haspopup":"menu",children:r||(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),c&&(0,t.jsx)("div",{className:`absolute top-full mt-2 z-50 min-w-[180px] bg-retro-navy/95 backdrop-blur-md border border-retro-grid/50 rounded-lg py-1 shadow-xl shadow-black/50 ${"right"===a?"right-0":"left-0"}`,role:"menu","aria-orientation":"vertical",children:e.map(e=>{let r=`
              w-full flex items-center gap-3 px-4 py-3 text-sm text-left
              transition-colors touch-target
              ${e.disabled?"text-gray-500 cursor-not-allowed":"danger"===e.variant?"text-red-400 hover:bg-red-500/20 hover:text-red-300":"text-gray-200 hover:bg-retro-purple/40 hover:text-retro-cyan"}
            `;return e.href&&!e.disabled?(0,t.jsxs)(s.default,{href:e.href,className:r,role:"menuitem",onClick:u,children:[e.icon&&(0,t.jsx)("span",{className:"w-5 h-5 flex-shrink-0",children:e.icon}),(0,t.jsx)("span",{children:e.label})]},e.id):(0,t.jsxs)("button",{className:r,role:"menuitem",disabled:e.disabled,onClick:()=>h(e),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),h(e))},children:[e.icon&&(0,t.jsx)("span",{className:"w-5 h-5 flex-shrink-0",children:e.icon}),(0,t.jsx)("span",{children:e.label})]},e.id)})})]})}e.s(["OverflowMenu",()=>i],72547);var l=e.i(74080),o=e.i(32098),c=e.i(92921);function d({isOpen:e,onClose:r,notes:a,characterSetName:s}){if("undefined"==typeof document||!e)return null;let n=(0,t.jsxs)(o.Modal,{isOpen:e,onClose:r,size:"md",maxHeight:"70vh",children:[(0,t.jsx)(o.ModalHeader,{onClose:r,showCloseButton:!0,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:"Notes"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[a.length," note",1!==a.length?"s":""," for ",s]})]})}),(0,t.jsx)(o.ModalContent,{className:"p-4",children:0===a.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),(0,t.jsx)("p",{className:"text-sm",children:"No notes"})]}):(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsxs)("div",{className:"p-3 rounded border bg-retro-dark/30 border-retro-grid/30",children:[(0,t.jsx)("p",{className:"text-sm text-gray-200 whitespace-pre-wrap",children:e.text}),(0,t.jsxs)("div",{className:"mt-2 pt-2 border-t border-retro-grid/20 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Created ",(0,c.formatTimestamp)(e.createdAt)]}),e.updatedAt!==e.createdAt&&(0,t.jsxs)("span",{className:"ml-2",children:["(edited ",(0,c.formatTimestamp)(e.updatedAt),")"]})]})]},e.id))})})]});return(0,l.createPortal)(n,document.body)}var u=e.i(94136);function h({characterSet:e,onEdit:s,onExport:n,onDelete:l,onDuplicate:o,onRename:h,onEditMetadata:m,onTogglePinned:x}){let{metadata:p,config:f}=e,g=(0,r.useMemo)(()=>{try{return(0,u.deserializeCharacterSet)(e).characters}catch{return[]}},[e]),b=g.length,[v,y]=(0,r.useState)(!1),j=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),C=(0,r.useMemo)(()=>{let e=[];return x&&e.push({id:"pin",label:p.isPinned?"Unpin":"Pin to top",onClick:x}),s&&e.push({id:"edit",label:"Edit",onClick:s}),h&&!p.isBuiltIn&&e.push({id:"rename",label:"Rename",onClick:h}),m&&!p.isBuiltIn&&e.push({id:"edit-metadata",label:"Edit Metadata",onClick:m}),n&&e.push({id:"export",label:"Export",onClick:n}),o&&e.push({id:"duplicate",label:"Duplicate",onClick:o}),l&&!p.isBuiltIn&&e.push({id:"delete",label:"Delete",onClick:l,variant:"danger"}),e},[s,h,m,n,o,l,x,p.isBuiltIn,p.isPinned]);return(0,t.jsxs)("div",{className:`card-retro p-4 flex flex-col gap-3 hover-glow-cyan transition-all h-full relative has-[[aria-expanded=true]]:z-50 ${p.isPinned?"ring-1 ring-retro-yellow/50":""}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-retro-cyan truncate flex items-center gap-1.5",children:[p.isPinned&&(0,t.jsx)("svg",{className:"w-3.5 h-3.5 text-retro-yellow flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"})}),p.notes&&p.notes.length>0&&(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),y(!0)},className:"flex items-center gap-0.5 text-retro-amber flex-shrink-0 hover:text-retro-amber/80 transition-colors",title:`${p.notes.length} note${1!==p.notes.length?"s":""} - Click to view`,children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),p.name]}),(p.manufacturer||p.system||p.chip||p.locale)&&(0,t.jsxs)("p",{className:"text-[10px] text-gray-500 mt-0.5",children:[p.manufacturer,p.manufacturer&&p.system?" ":"",p.system,p.chip&&(p.manufacturer||p.system)?" · ":"",p.chip,p.locale&&(p.manufacturer||p.system||p.chip)?" · ":"",p.locale]}),p.description&&(0,t.jsx)("p",{className:"text-xs text-gray-400 line-clamp-2 mt-0.5",children:p.description}),p.tags&&p.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:p.tags.map((e,r)=>(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-retro-amber/15 text-retro-amber/80 rounded text-[10px]",children:e},`tag-${r}`))})]}),(0,t.jsx)("div",{className:"flex-shrink-0",children:C.length>0&&(0,t.jsx)(i,{items:C,align:"right",label:"Character set actions"})})]}),(0,t.jsx)("div",{className:"flex justify-center py-2 bg-black/30 rounded mt-auto",children:(0,t.jsx)(a.CharacterPreview,{characters:g,config:f,maxCharacters:512,maxWidth:256,maxHeight:4096})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 pt-2 border-t border-retro-grid/30 text-[10px]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-retro-purple/30 text-retro-pink rounded",children:(0,c.formatSize)(f)}),(0,t.jsxs)("span",{className:"text-gray-500",children:[b," char",1!==b?"s":""]}),p.isBuiltIn&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-retro-navy text-gray-400 rounded",children:"Built-in"})]}),s&&(0,t.jsx)("button",{onClick:s,className:"px-2 py-1 text-xs bg-retro-amber/20 text-retro-amber rounded transition-all shadow-[0_0_8px_rgba(255,184,0,0.25)] hover:bg-retro-amber hover:text-retro-dark hover:shadow-[0_0_8px_var(--retro-amber),0_0_15px_var(--retro-amber),0_0_30px_var(--retro-amber)]",children:"Edit"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-gray-500",children:[(0,t.jsxs)("span",{title:"Date created",children:[(0,t.jsx)("span",{className:"text-[8px] text-gray-600",children:"Created:"})," ",j(p.createdAt)]}),(0,t.jsxs)("span",{title:"Date modified",children:[(0,t.jsx)("span",{className:"text-[8px] text-gray-600",children:"Modified:"})," ",j(p.updatedAt)]})]})]}),(0,t.jsx)(d,{isOpen:v,onClose:()=>y(!1),notes:p.notes??[],characterSetName:p.name})]})}function m({characterSet:e,selected:s=!1,onClick:n}){let{metadata:i,config:l}=e,o=(0,r.useMemo)(()=>{try{return(0,u.deserializeCharacterSet)(e).characters}catch{return[]}},[e]);return(0,t.jsx)("button",{onClick:n,className:`
        w-full p-3 rounded border text-left transition-all
        ${s?"border-retro-cyan bg-retro-cyan/10":"border-retro-grid/30 bg-retro-navy/30 hover:border-retro-grid/50"}
      `,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-black/30 p-1 rounded",children:(0,t.jsx)(a.CharacterPreview,{characters:o,config:l,maxCharacters:8,maxWidth:48,maxHeight:24})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-200 truncate",children:i.name}),(0,t.jsxs)("div",{className:"text-[10px] text-gray-500",children:[(0,c.formatSize)(l)," - ",o.length," chars"]})]}),s&&(0,t.jsx)("svg",{className:"w-4 h-4 text-retro-cyan flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})]})})}function x({onImport:e,onCreate:r}){return(0,t.jsxs)("div",{className:"card-retro p-6 flex flex-col items-center justify-center gap-4 border-dashed",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-retro-cyan/20 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-retro-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-300",children:"Add a character set"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Import a ROM file or create from scratch"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[r&&(0,t.jsxs)("button",{onClick:r,className:"px-3 py-1.5 text-xs bg-retro-pink/20 text-retro-pink rounded hover:bg-retro-pink/30 transition-colors flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add"]}),e&&(0,t.jsxs)("button",{onClick:e,className:"px-3 py-1.5 text-xs bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Import"]})]})]})}e.s(["LibraryCard",()=>h,"LibraryCardCompact",()=>m,"LibraryCardEmpty",()=>x],76849)},16015,(e,t,r)=>{},98547,(e,t,r)=>{var a=e.i(47167);e.r(16015);var s=e.r(71645),n=s&&"object"==typeof s&&"default"in s?s:{default:s},i=void 0!==a.default&&a.default.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,r=t.name,a=void 0===r?"stylesheet":r,s=t.optimizeForSpeed,n=void 0===s?i:s;c(l(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",c("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(c(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var r="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(a){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];c(a,"old rule at index `"+e+"` not found"),a.textContent=t}return e},r.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},r.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&c(l(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return r?s.insertBefore(a,r):s.appendChild(a),a},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},u={};function h(e,t){if(!t)return"jsx-"+e;var r=String(t),a=e+r;return u[a]||(u[a]="jsx-"+d(e+"-"+r)),u[a]}function m(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var r=e+t;return u[r]||(u[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[r]}var x=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,a=void 0===r?null:r,s=t.optimizeForSpeed,n=void 0!==s&&s;this._sheet=a||new o({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),a&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),a=r.styleId,s=r.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var n=s.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=n,this._instancesCounts[a]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var a=this._fromServer&&this._fromServer[r];a?(a.parentNode.removeChild(a),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],a=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,a=e.id;if(r){var s=h(a,r);return{styleId:s,rules:Array.isArray(t)?t.map(function(e){return m(s,e)}):[m(s,t)]}}return{styleId:h(a),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=s.createContext(null);function f(){return new x}function g(){return s.useContext(p)}p.displayName="StyleSheetContext";var b=n.default.useInsertionEffect||n.default.useLayoutEffect,v="undefined"!=typeof window?f():void 0;function y(e){var t=v||g();return t&&("undefined"==typeof window?t.add(e):b(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},r.StyleRegistry=function(e){var t=e.registry,r=e.children,a=s.useContext(p),i=s.useState(function(){return a||t||f()})[0];return n.default.createElement(p.Provider,{value:i},r)},r.createStyleRegistry=f,r.style=y,r.useStyleRegistry=g},37902,(e,t,r)=>{t.exports=e.r(98547).style},37559,93582,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(38749),s=e.i(32098),n=e.i(28339);function i({isOpen:e,onClose:i,metadata:l,onSave:o}){let[c,d]=(0,r.useState)(l.name),[u,h]=(0,r.useState)(l.description),[m,x]=(0,r.useState)(l.source),[p,f]=(0,r.useState)(l.manufacturer),[g,b]=(0,r.useState)(l.system),[v,y]=(0,r.useState)(l.chip),[j,C]=(0,r.useState)(l.locale),[w,k]=(0,r.useState)(l.tags??[]),[N,S]=(0,r.useState)(l.isPinned??!1),[_,L]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&(d(l.name),h(l.description),x(l.source),f(l.manufacturer),b(l.system),y(l.chip),C(l.locale),k(l.tags??[]),S(l.isPinned??!1))},[e,l]);let A=async()=>{if(c.trim()){L(!0);try{await o({name:c.trim(),description:u.trim(),source:m.trim()||"yourself",manufacturer:p,system:g,chip:v,locale:j.trim(),tags:w,isPinned:N}),i()}finally{L(!1)}}};return(0,t.jsxs)(s.Modal,{isOpen:e,onClose:i,size:"md",children:[(0,t.jsx)(s.ModalHeader,{onClose:i,showCloseButton:!0,children:(0,t.jsx)("h2",{className:"text-lg font-medium text-white",children:"Edit Metadata"})}),(0,t.jsxs)(s.ModalContent,{children:[(0,t.jsx)(n.MetadataFormFields,{name:c,onNameChange:d,description:u,onDescriptionChange:h,manufacturer:p,onManufacturerChange:f,system:g,onSystemChange:b,chip:v,onChipChange:y,locale:j,onLocaleChange:C,source:m,onSourceChange:x,tags:w,onTagsChange:k,autoFocusName:!0,compact:!0,idPrefix:"metadata-edit"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300",children:"Pin to top"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Pinned items appear first in search results"})]}),(0,t.jsx)(a.ToggleSwitch,{checked:N,onChange:S})]})]}),(0,t.jsx)(s.ModalActions,{onCancel:i,onConfirm:A,confirmLabel:_?"Saving...":"Save",confirmDisabled:!c.trim()||_})]})}e.s(["MetadataEditModal",()=>i],37559);var l=e.i(18645);let o={danger:"bg-red-500/20 border-red-500 text-red-400 hover:bg-red-500/30",warning:"bg-orange-500/20 border-orange-500 text-orange-400 hover:bg-orange-500/30",info:"bg-retro-cyan/20 border-retro-cyan text-retro-cyan hover:bg-retro-cyan/30"};function c({isOpen:e,title:a,message:s,details:n,confirmLabel:i="Confirm",cancelLabel:c="Cancel",variant:d="info",onConfirm:u,onCancel:h}){let m=(0,r.useRef)(null),x=(0,l.useFocusTrap)({isActive:e,restoreFocus:!0,autoFocus:!1});return((0,r.useEffect)(()=>{e&&m.current&&m.current.focus()},[e]),(0,r.useEffect)(()=>{if(!e)return;let t=e=>{"Escape"===e.key&&h()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,h]),e)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:h,"aria-hidden":"true"}),(0,t.jsxs)("div",{ref:x,className:"relative w-full max-w-md bg-retro-navy border border-retro-grid/50 rounded-lg shadow-xl p-6",role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:[(0,t.jsx)("h2",{id:"confirm-dialog-title",className:"text-lg font-medium text-white mb-2",children:a}),(0,t.jsx)("p",{id:"confirm-dialog-message",className:"text-sm text-gray-400 mb-4",children:s}),n&&(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-6",children:n}),(0,t.jsxs)("div",{className:`flex gap-3 ${!n?"mt-2":""}`,children:[(0,t.jsx)("button",{onClick:h,className:"flex-1 px-4 py-2 text-sm border border-retro-grid/50 rounded text-gray-400 hover:border-retro-grid hover:text-white transition-colors",children:c}),(0,t.jsx)("button",{ref:m,onClick:u,className:`flex-1 px-4 py-2 text-sm border rounded transition-colors ${o[d]}`,children:i})]})]})]}):null}e.s(["ConfirmDialog",()=>c],93582)},48266,e=>{"use strict";var t=e.i(43476),r=e.i(76849);function a({characterSets:e,loading:a=!1,onEdit:n,onExport:i,onDelete:l,onDuplicate:o,onRename:c,onEditMetadata:d,onTogglePinned:u,onImport:h,onCreate:m,className:x=""}){return a?(0,t.jsx)("div",{className:`grid-fluid gap-4 ${x}`,children:Array.from({length:4}).map((e,r)=>(0,t.jsx)(s,{},r))}):0===e.length?(0,t.jsx)("div",{className:`flex flex-col items-center justify-center py-12 ${x}`,children:(0,t.jsx)(r.LibraryCardEmpty,{onImport:h,onCreate:m})}):(0,t.jsx)("div",{className:`grid-fluid gap-4 ${x}`,children:e.map(e=>(0,t.jsx)(r.LibraryCard,{characterSet:e,onEdit:n?()=>n(e.metadata.id):void 0,onExport:i?()=>i(e.metadata.id):void 0,onDelete:l?()=>l(e.metadata.id):void 0,onDuplicate:o?()=>o(e.metadata.id):void 0,onRename:c?()=>c(e.metadata.id):void 0,onEditMetadata:d?()=>d(e.metadata.id):void 0,onTogglePinned:u?()=>u(e.metadata.id):void 0},e.metadata.id))})}function s(){return(0,t.jsxs)("div",{className:"card-retro p-4 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-retro-grid/30 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-retro-grid/20 rounded w-full mt-2"})]}),(0,t.jsx)("div",{className:"w-6 h-6 bg-retro-grid/20 rounded"})]}),(0,t.jsx)("div",{className:"h-16 bg-black/30 rounded mb-3"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("div",{className:"h-4 w-12 bg-retro-grid/20 rounded"}),(0,t.jsx)("div",{className:"h-4 w-16 bg-retro-grid/20 rounded"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-retro-grid/30",children:[(0,t.jsx)("div",{className:"h-3 w-20 bg-retro-grid/20 rounded"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"h-6 w-12 bg-retro-grid/20 rounded"}),(0,t.jsx)("div",{className:"h-6 w-14 bg-retro-grid/20 rounded"})]})]})]})}function n({onClearFilters:e}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-retro-navy/50 flex items-center justify-center mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No results found"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Try adjusting your search or filters"}),e&&(0,t.jsx)("button",{onClick:e,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors",children:"Clear all filters"})]})}function i({error:e,onRetry:r}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Failed to load library"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:e}),r&&(0,t.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors",children:"Try again"})]})}e.s(["LibraryGrid",()=>a,"LibraryGridEmptyResults",()=>n,"LibraryGridError",()=>i])},99616,95782,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(7540);function s({label:e,options:s,selected:n,onChange:i,placeholder:l="All",className:o="",showAllOption:c=!0,allOptionLabel:d="All",numericSort:u=!1}){let{ref:h,isOpen:m,toggle:x}=(0,a.useDropdown)(),[p,f]=(0,r.useState)(""),g=(0,r.useCallback)(()=>{m||f(""),x()},[m,x]),b=(0,r.useCallback)(e=>{n.includes(e)?i(n.filter(t=>t!==e)):i([...n,e])},[n,i]),v=(0,r.useCallback)(()=>{i([])},[i]),y=(0,r.useCallback)((e,t)=>{t.stopPropagation(),i(n.filter(t=>t!==e))},[n,i]),j=e=>{let t=s.find(t=>t.value===e);return t?.label??String(e)},C=(0,r.useMemo)(()=>{let e=[...s].sort((e,t)=>{if(u){let r=parseFloat(e.label),a=parseFloat(t.label);if(!isNaN(r)&&!isNaN(a))return r-a}return e.label.localeCompare(t.label)});if(!p.trim())return e;let t=p.toLowerCase().trim();return e.filter(e=>e.label.toLowerCase().includes(t))},[s,p,u]),w=n.length>0;return(0,t.jsxs)("div",{className:`relative ${o}`,ref:h,children:[(0,t.jsxs)("button",{type:"button",onClick:g,className:`
          flex items-center justify-between gap-2 w-full px-3 py-1.5
          bg-retro-navy/50 border rounded text-sm text-left
          transition-colors
          ${m?"border-retro-cyan":"border-retro-grid/50 hover:border-retro-grid"}
          ${w?"text-gray-200":"text-gray-400"}
        `,"aria-expanded":m,"aria-haspopup":"listbox",children:[(0,t.jsx)("span",{className:"truncate",children:w?`${e} (${n.length})`:l}),(0,t.jsx)("svg",{className:`w-4 h-4 flex-shrink-0 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),w&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:n.map(e=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-retro-cyan/20 text-retro-cyan rounded text-xs",children:[j(e),(0,t.jsx)("button",{type:"button",onClick:t=>y(e,t),className:"hover:text-white transition-colors","aria-label":`Remove ${j(e)}`,children:(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},String(e)))}),m&&(0,t.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-retro-navy border border-retro-grid/50 rounded-lg shadow-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 p-2 border-b border-retro-grid/30 bg-retro-navy",children:(0,t.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"Search...",autoFocus:!0,className:"w-full px-3 py-1.5 text-sm bg-retro-dark border border-retro-grid/50 rounded text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan"})}),(0,t.jsxs)("div",{className:"max-h-60 overflow-y-auto py-1",children:[c&&!p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{type:"button",onClick:v,className:`
                    w-full flex items-center gap-2 px-3 py-2 text-sm text-left
                    transition-colors
                    ${!w?"bg-retro-cyan/10 text-retro-cyan":"text-gray-300 hover:bg-retro-purple/20"}
                  `,children:[(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:!w&&(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})}),d]}),(0,t.jsx)("div",{className:"h-px bg-retro-grid/30 mx-2 my-1"})]}),C.map(e=>{let r=n.includes(e.value);return(0,t.jsxs)("button",{type:"button",onClick:()=>b(e.value),className:`
                    w-full flex items-center gap-2 px-3 py-2 text-sm text-left
                    transition-colors
                    ${r?"bg-retro-cyan/10 text-retro-cyan":"text-gray-300 hover:bg-retro-purple/20"}
                  `,role:"option","aria-selected":r,children:[(0,t.jsx)("span",{className:`
                      w-4 h-4 flex items-center justify-center rounded border
                      ${r?"bg-retro-cyan border-retro-cyan":"border-gray-500"}
                    `,children:r&&(0,t.jsx)("svg",{className:"w-3 h-3 text-retro-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.label]},String(e.value))}),0===C.length&&(0,t.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:p?"No matches found":"No options available"})]})]})]})}var n=e.i(30717),i=e.i(33712);function l(){return{searchQuery:"",widthFilters:[],heightFilters:[],characterCountFilters:[],manufacturerFilters:[],systemFilters:[],chipFilters:[],localeFilters:[],tagFilters:[],sourceFilters:[],isPinnedFilters:[],originFilters:[]}}function o(e){return e.searchQuery.length>0||e.widthFilters.length>0||e.heightFilters.length>0||e.characterCountFilters.length>0||e.manufacturerFilters.length>0||e.systemFilters.length>0||e.chipFilters.length>0||e.localeFilters.length>0||e.tagFilters.length>0||e.sourceFilters.length>0||e.isPinnedFilters.length>0||e.originFilters.length>0}function c(e,t,r,a){var s;return s=e.filter(e=>{var r,a,s,n,l,o,c,d;return function(e,t){if(!t.trim())return!0;let r=t.toLowerCase(),a=(e.metadata.tags??[]).some(e=>e.toLowerCase().includes(r)),s=(e.metadata.notes??[]).some(e=>e.text.toLowerCase().includes(r)),n=e.metadata.isBuiltIn?["built-in","builtin","built in"].some(e=>e.includes(r)||r.includes(e)):["user","custom","user-created"].some(e=>e.includes(r)||r.includes(e));return e.metadata.name.toLowerCase().includes(r)||e.metadata.description.toLowerCase().includes(r)||e.metadata.source.toLowerCase().includes(r)||(e.metadata.manufacturer?.toLowerCase().includes(r)??!1)||(e.metadata.system?.toLowerCase().includes(r)??!1)||(e.metadata.chip?.toLowerCase().includes(r)??!1)||(e.metadata.locale?.toLowerCase().includes(r)??!1)||a||s||n}(e,t.searchQuery)&&(r=t.widthFilters,a=t.heightFilters,(!(r.length>0)||!!r.includes(e.config.width))&&(!(a.length>0)||!!a.includes(e.config.height)))&&(0===(s=t.manufacturerFilters).length||!!e.metadata.manufacturer&&s.includes(e.metadata.manufacturer))&&(0===(n=t.systemFilters).length||!!e.metadata.system&&n.includes(e.metadata.system))&&(0===(l=t.chipFilters).length||!!e.metadata.chip&&l.includes(e.metadata.chip))&&(0===(o=t.localeFilters).length||!!e.metadata.locale&&o.includes(e.metadata.locale))&&(0===(c=t.characterCountFilters).length||c.includes((0,i.getCharacterCount)(e)))&&function(e,t){if(0===t.length)return!0;let r=e.metadata.tags??[];return t.some(e=>r.includes(e))}(e,t.tagFilters)&&(0===(d=t.sourceFilters).length||!!e.metadata.source&&d.includes(e.metadata.source))&&function(e,t){if(0===t.length)return!0;let r=e.metadata.isPinned??!1;return t.some(e=>"pinned"===e?!0===r:"not-pinned"===e&&!1===r)}(e,t.isPinnedFilters)&&function(e,t){if(0===t.length)return!0;if(e.metadata.isBuiltIn)return t.includes("built-in");let r=e.metadata.origin??"created";return t.includes(r)}(e,t.originFilters)}),[...s].sort((e,t)=>{let s=+!!e.metadata.isPinned,n=+!!t.metadata.isPinned;if(s!==n)return n-s;let l=function(e,t,r){switch(r){case"name":return e.metadata.name.localeCompare(t.metadata.name);case"description":return(e.metadata.description||"").localeCompare(t.metadata.description||"");case"source":return(e.metadata.source||"").localeCompare(t.metadata.source||"");case"updatedAt":return e.metadata.updatedAt-t.metadata.updatedAt;case"createdAt":return e.metadata.createdAt-t.metadata.createdAt;case"width":return e.config.width-t.config.width;case"height":return e.config.height-t.config.height;case"size":return e.config.width*e.config.height-t.config.width*t.config.height;case"characters":return(0,i.getCharacterCount)(e)-(0,i.getCharacterCount)(t);case"manufacturer":return(e.metadata.manufacturer||"").localeCompare(t.metadata.manufacturer||"");case"system":return(e.metadata.system||"").localeCompare(t.metadata.system||"");case"chip":return(e.metadata.chip||"").localeCompare(t.metadata.chip||"");case"locale":return(e.metadata.locale||"").localeCompare(t.metadata.locale||"");default:return 0}}(e,t,r);return"asc"===a?l:-l})}function d(e){let t=new Set;for(let r of e)r.metadata.manufacturer&&t.add(r.metadata.manufacturer);return Array.from(t).sort()}function u(e,t){let r=new Set;for(let a of t&&t.length>0?e.filter(e=>e.metadata.manufacturer&&t.includes(e.metadata.manufacturer)):e)a.metadata.system&&r.add(a.metadata.system);return Array.from(r).sort()}function h(e){let t=new Set;for(let r of e)r.metadata.chip&&t.add(r.metadata.chip);return Array.from(t).sort()}function m(e){let t=new Set;for(let r of e)r.metadata.locale&&t.add(r.metadata.locale);return Array.from(t).sort()}function x(e){let t=new Set;for(let r of e)t.add((0,i.getCharacterCount)(r));return Array.from(t).sort((e,t)=>e-t)}function p(e){let t=new Set;for(let r of e)for(let e of r.metadata.tags??[])t.add(e);return Array.from(t).sort()}function f(e){let t=new Set;for(let r of e)r.metadata.source&&t.add(r.metadata.source);return Array.from(t).sort()}function g(e){let t=new Set;for(let r of e)r.metadata.isBuiltIn?t.add("built-in"):t.add(r.metadata.origin??"created");return Array.from(t).sort()}function b(e,t,r){if(0===r.length)return e;let a=function(e,t){if(0===t.length)return new Set(u(e));let r=new Set;for(let a of e)a.metadata.manufacturer&&t.includes(a.metadata.manufacturer)&&a.metadata.system&&r.add(a.metadata.system);return r}(t,r);return e.filter(e=>a.has(e))}let v=[20,50,100,"all"];function y(e,t,r){let a=e.length;if("all"===r)return{items:e,totalItems:a,totalPages:1,currentPage:1,pageSize:r,hasNextPage:!1,hasPreviousPage:!1};let s=Math.max(1,Math.ceil(a/r)),n=Math.max(1,Math.min(t,s)),i=(n-1)*r;return{items:e.slice(i,i+r),totalItems:a,totalPages:s,currentPage:n,pageSize:r,hasNextPage:n<s,hasPreviousPage:n>1}}function j(e){if(!e)return 20;if("all"===e)return"all";let t=parseInt(e,10);return v.includes(t)?t:20}e.s(["DEFAULT_PAGE_SIZE",0,20,"PAGE_SIZE_OPTIONS",0,v,"createEmptyFilterState",()=>l,"filterAndSortCharacterSets",()=>c,"filterInvalidSystems",()=>b,"getAvailableCharacterCounts",()=>x,"getAvailableChips",()=>h,"getAvailableLocales",()=>m,"getAvailableManufacturers",()=>d,"getAvailableOrigins",()=>g,"getAvailableSources",()=>f,"getAvailableSystems",()=>u,"getAvailableTags",()=>p,"hasActiveFilters",()=>o,"paginateItems",()=>y,"parsePageSize",()=>j],95782);let C=[{value:"updatedAt",label:"Date Modified"},{value:"createdAt",label:"Date Created"},{value:"name",label:"Name"},{value:"description",label:"Description"},{value:"source",label:"Source"},{value:"width",label:"Width"},{value:"height",label:"Height"},{value:"size",label:"Size (W×H)"},{value:"characters",label:"Count"},{value:"manufacturer",label:"Manufacturer"},{value:"system",label:"System"},{value:"chip",label:"Chip"},{value:"locale",label:"Locale"}],w=[{value:"pinned",label:"Pinned"},{value:"not-pinned",label:"Not Pinned"}],k=[{value:"built-in",label:"Built-in"},{value:"created",label:"Created"},{value:"binary",label:"Binary Import"},{value:"text",label:"Text Import"},{value:"font",label:"Font Import"},{value:"image",label:"Image Import"},{value:"shared",label:"Shared Link"},{value:"copied",label:"Copied"}];function N({searchQuery:e,onSearchChange:a,availableSizes:i,widthFilters:l,heightFilters:o,onSizeFilterChange:c,availableCharacterCounts:d=[],characterCountFilters:u=[],onCharacterCountFilterChange:h,availableManufacturers:m=[],availableSystems:x=[],manufacturerFilters:p=[],systemFilters:f=[],onManufacturerFilterChange:g,onSystemFilterChange:b,availableChips:y=[],chipFilters:j=[],onChipFilterChange:N,availableLocales:S=[],localeFilters:_=[],onLocaleFilterChange:L,availableTags:A=[],tagFilters:M=[],onTagFilterChange:F,availableSources:R=[],sourceFilters:E=[],onSourceFilterChange:T,isPinnedFilters:P=[],onIsPinnedFiltersChange:I,availableOrigins:z=[],originFilters:O=[],onOriginFilterChange:B,sortField:D="updatedAt",sortDirection:$="desc",onSortFieldChange:H,onSortDirectionToggle:W,totalCount:G,filteredCount:V,pagination:K,onPageSizeChange:Y,onPageChange:U}){let[Z,q]=(0,r.useState)(!1),J=(0,r.useMemo)(()=>[...m].sort(),[m]),Q=(0,r.useMemo)(()=>[...x].sort(),[x]),X=(0,r.useMemo)(()=>Array.from(new Set(i.map(e=>e.width))).sort((e,t)=>e-t),[i]),ee=(0,r.useMemo)(()=>Array.from(new Set(i.map(e=>e.height))).sort((e,t)=>e-t),[i]),et=(0,r.useCallback)(()=>{a(""),c([],[]),h?.([]),g?.([]),b?.([]),N?.([]),L?.([]),F?.([]),T?.([]),I?.([]),B?.([])},[a,c,h,g,b,N,L,F,T,I,B]),er=e.length>0||l.length>0||o.length>0||u.length>0||p.length>0||f.length>0||j.length>0||_.length>0||M.length>0||E.length>0||P.length>0||O.length>0,ea=l.length>0||o.length>0||u.length>0||p.length>0||f.length>0||j.length>0||_.length>0||M.length>0||E.length>0||P.length>0||O.length>0,es=[l.length>0,o.length>0,u.length>0,p.length>0,f.length>0,j.length>0,_.length>0,M.length>0,E.length>0,P.length>0,O.length>0].filter(Boolean).length;return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Search character sets...",className:"w-full px-3 py-2 pl-10 bg-retro-dark border border-retro-grid/50 rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan transition-colors","aria-label":"Search character sets"}),(0,t.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e&&(0,t.jsx)("button",{type:"button",onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300","aria-label":"Clear search",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>q(!Z),className:`flex items-center gap-1 px-3 py-2 border rounded-lg transition-colors ${Z?"bg-amber-500/20 border-amber-500/50 text-amber-400":ea?"bg-retro-cyan/20 border-retro-cyan text-retro-cyan":"bg-retro-navy/50 border-retro-grid/50 text-gray-400 hover:text-gray-200 hover:border-retro-grid"}`,"aria-expanded":Z,"aria-label":Z?"Hide filters":"Show filters",title:Z?"Hide filters":"Show filters",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),es>0&&(0,t.jsx)("span",{className:"text-xs font-medium",children:es})]}),H&&W&&(0,t.jsx)("div",{className:"w-px bg-retro-grid/50 mx-2 self-stretch"}),H&&W&&(0,t.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400 mr-1",children:"Sort:"}),(0,t.jsx)(n.SingleSelectDropdown,{options:C,value:D,onChange:H,ariaLabel:"Sort by",className:"min-w-[180px]"}),(0,t.jsx)("button",{type:"button",onClick:W,className:`px-3 py-2 border rounded-lg text-xs font-mono transition-colors ${"desc"===$?"bg-amber-500/20 border-amber-500/50 text-amber-400":"bg-retro-navy/50 border-retro-grid/50 text-gray-400 hover:text-gray-200 hover:border-retro-cyan/50"}`,"aria-label":"asc"===$?"Sort ascending (A to Z)":"Sort descending (Z to A)",title:"asc"===$?"Ascending (A→Z)":"Descending (Z→A)",children:"asc"===$?"abc":"cba"})]})]}),(0,t.jsx)("div",{className:`transition-all duration-300 ease-in-out ${Z?"opacity-100":"max-h-0 opacity-0 overflow-hidden"}`,children:(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 pt-1",children:[B&&(0,t.jsx)(s,{label:"Origin",options:k.filter(e=>z.includes(e.value)),selected:O,onChange:B,placeholder:"Origin",allOptionLabel:"Any origin",className:"min-w-[200px]"}),(0,t.jsx)(s,{label:"Width",options:X.map(e=>({value:e,label:`${e}px`})),selected:l,onChange:e=>c(e,o),placeholder:"Width",allOptionLabel:"Any width",className:"min-w-[200px]",numericSort:!0}),(0,t.jsx)(s,{label:"Height",options:ee.map(e=>({value:e,label:`${e}px`})),selected:o,onChange:e=>c(l,e),placeholder:"Height",allOptionLabel:"Any height",className:"min-w-[200px]",numericSort:!0}),h&&(0,t.jsx)(s,{label:"Count",options:d.map(e=>({value:e,label:`${e} chars`})),selected:u,onChange:h,placeholder:"Count",allOptionLabel:"Any count",className:"min-w-[200px]",numericSort:!0}),g&&(0,t.jsx)(s,{label:"Manufacturer",options:J.map(e=>({value:e,label:e})),selected:p,onChange:g,placeholder:"Manufacturer",allOptionLabel:"Any manufacturer",className:"min-w-[200px]"}),b&&(0,t.jsx)(s,{label:"System",options:Q.map(e=>({value:e,label:e})),selected:f,onChange:b,placeholder:"System",allOptionLabel:"Any system",className:"min-w-[200px]"}),N&&(0,t.jsx)(s,{label:"Chip",options:y.map(e=>({value:e,label:e})),selected:j,onChange:N,placeholder:"Chip",allOptionLabel:"Any chip",className:"min-w-[200px]"}),L&&(0,t.jsx)(s,{label:"Locale",options:S.map(e=>({value:e,label:e})),selected:_,onChange:L,placeholder:"Locale",allOptionLabel:"Any locale",className:"min-w-[200px]"}),F&&A.length>0&&(0,t.jsx)(s,{label:"Tags",options:A.map(e=>({value:e,label:e})),selected:M,onChange:F,placeholder:"Tags",allOptionLabel:"Any tag",className:"min-w-[200px]"}),T&&R.length>0&&(0,t.jsx)(s,{label:"Source",options:R.map(e=>({value:e,label:e})),selected:E,onChange:T,placeholder:"Source",allOptionLabel:"Any source",className:"min-w-[200px]"}),I&&(0,t.jsx)(s,{label:"Pinned",options:w,selected:P,onChange:I,placeholder:"Pinned",allOptionLabel:"Any",className:"min-w-[200px]"})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 text-xs text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:er?`Showing ${V} of ${G} character sets`:`${G} character set${1!==G?"s":""}`}),er&&(0,t.jsx)("button",{onClick:et,className:"text-retro-cyan hover:text-retro-pink transition-colors",children:"Clear filters"})]}),K&&Y&&U&&K.totalItems>=20&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Show:"}),(0,t.jsx)(n.SingleSelectDropdown,{options:v.map(e=>({value:e,label:"all"===e?"All":String(e)})),value:K.pageSize,onChange:e=>Y(e),ariaLabel:"Items per page",className:"min-w-[70px]"})]}),K.totalPages>1&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:()=>U(1),disabled:!K.hasPreviousPage,className:"p-1 text-gray-400 hover:text-retro-cyan disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"First page",title:"First page",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),(0,t.jsx)("button",{onClick:()=>U(K.currentPage-1),disabled:!K.hasPreviousPage,className:"p-1 text-gray-400 hover:text-retro-cyan disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",title:"Previous page",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsxs)("span",{className:"px-2 text-gray-300",children:[K.currentPage," / ",K.totalPages]}),(0,t.jsx)("button",{onClick:()=>U(K.currentPage+1),disabled:!K.hasNextPage,className:"p-1 text-gray-400 hover:text-retro-cyan disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",title:"Next page",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,t.jsx)("button",{onClick:()=>U(K.totalPages),disabled:!K.hasNextPage,className:"p-1 text-gray-400 hover:text-retro-cyan disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"Last page",title:"Last page",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]})]})]})}e.s(["LibraryFilters",()=>N],99616)},80710,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(22016),n=e.i(3374),i=e.i(58234),l=e.i(28540),o=e.i(59544),c=e.i(93733),d=e.i(48266),u=e.i(37559),h=e.i(99616),m=e.i(37902);function x({isActive:e,currentStep:a,stepIndex:s,totalSteps:n,isFirstStep:i,isLastStep:l,onNext:c,onPrev:d,onSkip:u}){let h=(0,r.useCallback)(e=>{"Escape"===e.key?u():"ArrowRight"===e.key||"Enter"===e.key?c():"ArrowLeft"===e.key&&d()},[c,d,u]);return e&&a?(0,t.jsxs)("div",{onKeyDown:h,tabIndex:0,className:"jsx-9adf730429c9eab6 fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{onClick:u,className:"jsx-9adf730429c9eab6 absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 relative w-full max-w-md bg-retro-navy border border-retro-cyan/50 rounded-lg shadow-2xl overflow-hidden animate-fade-in",children:[(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 flex gap-1 p-2 bg-retro-dark/30",children:Array.from({length:n}).map((e,r)=>(0,t.jsx)("div",{className:`jsx-9adf730429c9eab6 flex-1 h-1 rounded-full transition-colors ${r<=s?"bg-retro-cyan":"bg-retro-grid"}`},r))}),(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 p-6",children:[(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 flex items-center justify-between mb-4",children:[(0,t.jsxs)("span",{className:"jsx-9adf730429c9eab6 text-xs text-retro-cyan font-medium uppercase tracking-wide",children:["Step ",s+1," of ",n]}),(0,t.jsx)("button",{onClick:u,className:"jsx-9adf730429c9eab6 text-xs text-gray-500 hover:text-white transition-colors",children:"Skip tour"})]}),(0,t.jsx)("h2",{className:"jsx-9adf730429c9eab6 text-xl font-medium text-white mb-3",children:a.title}),(0,t.jsx)("p",{className:"jsx-9adf730429c9eab6 text-gray-300 leading-relaxed",children:a.description}),(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 flex justify-center my-6",children:[0===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-retro-cyan/10 border border-retro-cyan/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-retro-cyan",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",className:"jsx-9adf730429c9eab6"})})}),1===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-retro-pink/10 border border-retro-pink/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-retro-pink",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",className:"jsx-9adf730429c9eab6"})})}),2===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-retro-violet/10 border border-retro-violet/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-retro-violet",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12",className:"jsx-9adf730429c9eab6"})})}),3===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-green-500/10 border border-green-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-green-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",className:"jsx-9adf730429c9eab6"})})}),4===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-sky-500/10 border border-sky-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-sky-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4",className:"jsx-9adf730429c9eab6"})})}),5===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-orange-500/10 border border-orange-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-orange-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",className:"jsx-9adf730429c9eab6"})})}),6===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-teal-500/10 border border-teal-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-teal-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",className:"jsx-9adf730429c9eab6"})})}),7===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-indigo-500/10 border border-indigo-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-indigo-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z",className:"jsx-9adf730429c9eab6"})})}),8===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-emerald-500/10 border border-emerald-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-emerald-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4",className:"jsx-9adf730429c9eab6"})})}),9===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-purple-500/10 border border-purple-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-purple-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",className:"jsx-9adf730429c9eab6"})})}),10===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-amber-500/10 border border-amber-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-amber-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",className:"jsx-9adf730429c9eab6"})})}),11===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-blue-500/10 border border-blue-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-blue-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",className:"jsx-9adf730429c9eab6"})})}),12===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-retro-cyan/10 border border-retro-cyan/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-retro-cyan",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 13l4 4L19 7",className:"jsx-9adf730429c9eab6"})})})]})]}),(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 flex items-center justify-between p-4 border-t border-retro-grid/30 bg-retro-dark/30",children:[(0,t.jsx)(o.Button,{onClick:d,disabled:i,variant:"ghost",size:"sm",children:"Previous"}),(0,t.jsx)(o.Button,{onClick:c,variant:"cyan",size:"sm",children:l?"Get Started":"Next"})]})]}),(0,t.jsx)(m.default,{id:"9adf730429c9eab6",children:"@keyframes fade-in{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in.jsx-9adf730429c9eab6{animation:.2s ease-out fade-in}"})]}):null}var p=e.i(21745),f=e.i(66811),g=e.i(92832),b=e.i(44254),v=e.i(60951);let y={getItem:e=>localStorage.getItem(e),setItem:(e,t)=>{localStorage.setItem(e,t)},removeItem:e=>{localStorage.removeItem(e)}};function j(){return{completed:!1,dismissed:!1,updatedAt:Date.now()}}function C(e,t){try{e.setItem(v.CHARACTER_EDITOR_STORAGE_KEY_ONBOARDING,JSON.stringify(t))}catch{}}let w=[{id:"welcome",title:"Welcome to Character ROM Editor",description:"Design and edit character sets for retro computers like the C64, Apple II, Atari, and more. This tool supports binary ROMs, pixel editing, and multiple export formats. Let's take a quick tour!",position:"center"},{id:"library",title:"Character Set Library",description:"Browse built-in and custom character sets. Use filters to find sets by dimensions, manufacturer, system, or chip. Pin your favorites with the star icon and sort by name, date, or size.",position:"center"},{id:"import",title:"Import Your Data",description:"Click 'Import' to load from binary ROM files (.bin), PNG image grids, font files (TTF/OTF/WOFF), or paste code directly from C, JavaScript, or Assembly. The wizard guides you through each format.",position:"center"},{id:"editor",title:"Pixel Editor",description:"Click to toggle pixels, drag to paint multiple pixels, and right-click to erase. Use the zoom slider or scroll wheel to adjust the view. Pick a color preset to match your target system's CRT look.",position:"center"},{id:"navigation",title:"Character Navigation",description:"Use arrow keys to move between characters, Page Up/Down to jump 16 at a time, or Home/End to jump to the start or end. Press G to go to a specific character by index, hex, or ASCII code. Press M to open the ASCII Map for a visual overview.",position:"center"},{id:"transforms",title:"Transform Tools",description:"Rotate characters with [ and ], flip with H (horizontal) or V (vertical), shift pixels with Shift+Arrow keys, and invert colors with I. Use the Scale tool to resize characters with optional smoothing.",position:"center"},{id:"overlays",title:"Overlays & Comparison",description:"Load another character set as an overlay to compare designs. Choose from three modes: 1:1 Pixels, Stretch to fit, or Side by Side. Great for matching your design to a reference set.",position:"center"},{id:"multiselect",title:"Multi-Select & Batch Edit",description:"Hold Shift and click to select a range, or Ctrl/Cmd+click to select individual characters. Use Ctrl/Cmd+A to select all. In selection mode, apply transforms to multiple characters at once.",position:"center"},{id:"saving",title:"Saving & History",description:"Your work auto-saves to recover from unexpected closures. Use Ctrl+S to save explicitly. Create named snapshots to preserve versions. The history slider lets you undo/redo changes with full timestamps.",position:"center"},{id:"export",title:"Export Your Work",description:"Press E to export as binary ROM, C/C++ header, assembly code, or PNG image. Generate printable reference sheets in table or grid layout with customizable colors, available as PNG or PDF.",position:"center"},{id:"crt",title:"CRT Effects",description:"Enable authentic retro visuals with scanlines and bloom effects. Adjust intensity to taste. Set the pixel aspect ratio to None (square), PAL, or NTSC for accurate display simulation.",position:"center"},{id:"help",title:"Help & Tips",description:"Press ? anytime to see all keyboard shortcuts. Click the lightbulb icon for categorized Tips & Tricks covering every feature. Press N to add notes to any character set.",position:"center"},{id:"done",title:"You're Ready!",description:"Start by selecting a character set from the library, or click 'New' to create your own. Built-in sets are read-only—use 'Save As' to create an editable copy. Happy designing!",position:"center"}];var k=e.i(18200),N=e.i(93582);function S({isOpen:e,errorMessage:a}){let[s,n]=(0,r.useState)(!1),i=async()=>{n(!0);try{await (0,g.resetDatabase)()}catch(e){console.error("Failed to reset database:",e),n(!1)}};return(0,t.jsx)(N.ConfirmDialog,{isOpen:e,title:"Database Error Detected",message:"The local database appears to be corrupted and cannot be read. This can happen due to browser issues or incomplete updates.",details:(0,t.jsxs)("div",{className:"space-y-3",children:[a&&(0,t.jsxs)("p",{className:"text-red-400/80 font-mono text-xs break-all",children:["Error: ",a]}),(0,t.jsx)("p",{children:"To recover, the database needs to be reset. This will:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,t.jsx)("li",{children:"Delete all locally stored character sets"}),(0,t.jsx)("li",{children:"Reload the page to reinitialize the database"}),(0,t.jsx)("li",{children:"Restore built-in character sets automatically"})]}),(0,t.jsx)("p",{className:"text-retro-amber",children:"Any custom character sets you created will be lost. Consider exporting important work before this happens."})]}),confirmLabel:s?"Resetting...":"Reset Database",cancelLabel:"Keep Trying",variant:"danger",onConfirm:i,onCancel:()=>{}})}var _=e.i(95782);function L(){let e=(0,a.useRouter)(),m=(0,b.useToast)(),{isCorrupted:N,errorMessage:L}=function(){let[e,t]=(0,r.useState)(()=>(0,g.getDatabaseCorruptionState)());return(0,r.useEffect)(()=>(0,g.onDatabaseCorruption)(e=>{t(e)}),[]),{isCorrupted:e.isCorrupted,errorMessage:e.errorMessage}}(),{characterSets:A,loading:M,error:F,refresh:R,deleteSet:E,saveAs:T,rename:P,updateMetadata:I,togglePinned:z,availableSizes:O,getById:B}=(0,f.useCharacterLibrary)(),D=function(e){let{steps:t,enabled:a=!0,storage:s=y}=e,[n,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(0),[c,d]=(0,r.useState)(j),[u,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d(function(e){try{let t=e.getItem(v.CHARACTER_EDITOR_STORAGE_KEY_ONBOARDING);if(t)return JSON.parse(t)}catch{}return j()}(s)),h(!0)},[s]),(0,r.useEffect)(()=>{if(u&&a&&!c.completed&&!c.dismissed&&t.length>0){let e=setTimeout(()=>{i(!0)},1e3);return()=>clearTimeout(e)}},[u,a,c.completed,c.dismissed,t.length]);let m=(0,r.useCallback)(()=>{o(0),i(!0)},[]),x=(0,r.useCallback)(()=>{if(l<t.length-1)o(e=>e+1);else{i(!1);let e={completed:!0,dismissed:!1,updatedAt:Date.now()};d(e),C(s,e)}},[l,t.length,s]),p=(0,r.useCallback)(()=>{l>0&&o(e=>e-1)},[l]),f=(0,r.useCallback)(()=>{i(!1);let e={completed:!1,dismissed:!0,updatedAt:Date.now()};d(e),C(s,e)},[s]),g=(0,r.useCallback)(()=>{i(!1);let e={completed:!0,dismissed:!1,updatedAt:Date.now()};d(e),C(s,e)},[s]),b=(0,r.useCallback)(()=>{o(0);let e=j();d(e),C(s,e)},[s]);return{isActive:n,currentStep:l,currentStepData:t[l]||null,totalSteps:t.length,isFirstStep:0===l,isLastStep:l===t.length-1,start:m,next:x,prev:p,skip:f,complete:g,reset:b,hasCompleted:c.completed,hasDismissed:c.dismissed,shouldShowAutomatically:!c.completed&&!c.dismissed}}({steps:w,enabled:!0}),{isOwnerMode:$}=(0,k.useOwnerMode)(),[H,W]=(0,r.useState)(""),[G,V]=(0,r.useState)([]),[K,Y]=(0,r.useState)([]),[U,Z]=(0,r.useState)([]),[q,J]=(0,r.useState)([]),[Q,X]=(0,r.useState)([]),[ee,et]=(0,r.useState)([]),[er,ea]=(0,r.useState)([]),[es,en]=(0,r.useState)([]),[ei,el]=(0,r.useState)([]),[eo,ec]=(0,r.useState)([]),[ed,eu]=(0,r.useState)([]),[eh,em]=(0,r.useState)("name"),[ex,ep]=(0,r.useState)("asc"),[ef,eg]=(0,r.useState)(1),[eb,ev]=(0,r.useState)(_.DEFAULT_PAGE_SIZE);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(v.CHARACTER_EDITOR_STORAGE_KEY_SORT_FIELD),t=localStorage.getItem(v.CHARACTER_EDITOR_STORAGE_KEY_SORT_DIRECTION),r=localStorage.getItem(v.CHARACTER_EDITOR_STORAGE_KEY_PAGE_SIZE);e&&em(e),t&&ep(t),r&&ev((0,_.parsePageSize)(r))}catch{}},[]);let ey=(0,r.useMemo)(()=>(0,_.getAvailableManufacturers)(A),[A]),ej=(0,r.useMemo)(()=>(0,_.getAvailableSystems)(A,q),[A,q]),eC=(0,r.useMemo)(()=>(0,_.getAvailableChips)(A),[A]),ew=(0,r.useMemo)(()=>(0,_.getAvailableLocales)(A),[A]),ek=(0,r.useMemo)(()=>(0,_.getAvailableCharacterCounts)(A),[A]),eN=(0,r.useMemo)(()=>(0,_.getAvailableTags)(A),[A]),eS=(0,r.useMemo)(()=>(0,_.getAvailableSources)(A),[A]),e_=(0,r.useMemo)(()=>(0,_.getAvailableOrigins)(A),[A]),[eL,eA]=(0,r.useState)(null),[eM,eF]=(0,r.useState)(!1),[eR,eE]=(0,r.useState)(null),[eT,eP]=(0,r.useState)(""),[eI,ez]=(0,r.useState)(!1),[eO,eB]=(0,r.useState)(null),eD=(0,r.useMemo)(()=>({searchQuery:H,widthFilters:G,heightFilters:K,characterCountFilters:U,manufacturerFilters:q,systemFilters:Q,chipFilters:ee,localeFilters:er,tagFilters:es,sourceFilters:ei,isPinnedFilters:eo,originFilters:ed}),[H,G,K,U,q,Q,ee,er,es,ei,eo,ed]),e$=(0,r.useMemo)(()=>(0,_.filterAndSortCharacterSets)(A,eD,eh,ex),[A,eD,eh,ex]),eH=(0,r.useMemo)(()=>(0,_.paginateItems)(e$,ef,eb),[e$,ef,eb]);(0,r.useEffect)(()=>{eg(1)},[eD]);let eW=(0,r.useCallback)(t=>{e.push(`/tools/character-rom-editor/edit?id=${t}`)},[e]),eG=(0,r.useCallback)(t=>{e.push(`/tools/character-rom-editor/export?id=${t}`)},[e]),eV=(0,r.useCallback)(async e=>{eA(e)},[]),eK=(0,r.useCallback)(async()=>{if(eL)try{eF(!0),await E(eL),m.success("Character set deleted")}catch(e){console.error("Failed to delete:",e),m.error("Failed to delete character set")}finally{eF(!1),eA(null)}},[eL,E,m]),eY=(0,r.useCallback)(async t=>{try{let r=await B(t);if(r){let t=`${r.metadata.name} (Copy)`,a=await T(r,t);m.success("Character set duplicated"),e.push(`/tools/character-rom-editor/edit?id=${a}`)}}catch(e){console.error("Failed to duplicate:",e),m.error("Failed to duplicate character set")}},[B,T,e,m]),eU=(0,r.useCallback)(()=>{e.push("/tools/character-rom-editor/import")},[e]),eZ=(0,r.useCallback)(()=>{e.push("/tools/character-rom-editor/add")},[e]),eq=(0,r.useCallback)(e=>{let t=A.find(t=>t.metadata.id===e);t&&(eE(e),eP(t.metadata.name))},[A]),eJ=(0,r.useCallback)(async e=>{try{await z(e)}catch(e){console.error("Failed to toggle pinned:",e)}},[z]),eQ=(0,r.useCallback)(e=>{eB(e)},[]),eX=(0,r.useCallback)(async e=>{if(eO)try{await I(eO,e),m.success("Metadata updated")}catch(e){console.error("Failed to update metadata:",e),m.error("Failed to update metadata")}},[eO,I,m]),e0=(0,r.useCallback)(async()=>{if(eR&&eT.trim())try{ez(!0),await P(eR,eT.trim()),m.success("Character set renamed")}catch(e){console.error("Failed to rename:",e),m.error("Failed to rename character set")}finally{ez(!1),eE(null),eP("")}},[eR,eT,P,m]),e2=(0,r.useCallback)((e,t)=>{V(e),Y(t)},[]),e1=(0,r.useCallback)(e=>{J(e),e.length>0&&X(t=>(0,_.filterInvalidSystems)(t,A,e))},[A]),e4=(0,r.useCallback)(e=>{X(e)},[]),e3=(0,r.useCallback)(e=>{et(e)},[]),e5=(0,r.useCallback)(e=>{ea(e)},[]),e9=(0,r.useCallback)(e=>{Z(e)},[]),e7=(0,r.useCallback)(e=>{en(e)},[]),e6=(0,r.useCallback)(e=>{el(e)},[]),e8=(0,r.useCallback)(e=>{ec(e)},[]),te=(0,r.useCallback)(e=>{eu(e)},[]),tt=(0,r.useCallback)(e=>{em(e);try{localStorage.setItem(v.CHARACTER_EDITOR_STORAGE_KEY_SORT_FIELD,e)}catch{}},[]),tr=(0,r.useCallback)(()=>{ep(e=>{let t="asc"===e?"desc":"asc";try{localStorage.setItem(v.CHARACTER_EDITOR_STORAGE_KEY_SORT_DIRECTION,t)}catch{}return t})},[]),ta=(0,r.useCallback)(e=>{ev(e),eg(1);try{localStorage.setItem(v.CHARACTER_EDITOR_STORAGE_KEY_PAGE_SIZE,String(e))}catch{}},[]),ts=(0,r.useCallback)(e=>{eg(e)},[]),tn=(0,r.useCallback)(()=>{W(""),V([]),Y([]),Z([]),J([]),X([]),et([]),ea([]),en([]),el([]),ec([]),eu([])},[]),ti=(0,_.hasActiveFilters)(eD),tl=eL?A.find(e=>e.metadata.id===eL):null,to=eR?A.find(e=>e.metadata.id===eR):null,tc=eO?A.find(e=>e.metadata.id===eO):null;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col safe-top",children:[(0,t.jsx)(n.Header,{}),(0,t.jsx)("main",{className:"flex-1 bg-retro-dark pt-24 pb-12",children:(0,t.jsxs)(l.Container,{children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(s.default,{href:"/tools",className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors mb-2 inline-flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Tools"]}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-display",children:(0,t.jsx)(c.NeonText,{color:"pink",children:"Character ROM Editor"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Design, edit, and export character sets for vintage computer systems"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[D.hasCompleted||D.hasDismissed?(0,t.jsx)(p.Tooltip,{content:"Restart onboarding tour",position:"bottom",children:(0,t.jsxs)("button",{onClick:D.start,className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors flex items-center mr-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 min-[1120px]:mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"hidden min-[1120px]:inline",children:"Tour"})]})}):null,(0,t.jsx)(p.Tooltip,{content:"Create a new character set from scratch",position:"bottom",children:(0,t.jsxs)(o.Button,{href:"/tools/character-rom-editor/add",variant:"pink",children:[(0,t.jsx)("svg",{className:"w-4 h-4 min-[1120px]:mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,t.jsx)("span",{className:"hidden min-[1120px]:inline",children:"Add ROM"})]})}),(0,t.jsx)(p.Tooltip,{content:"Import from binary, image, font, or code",position:"bottom",children:(0,t.jsxs)(o.Button,{href:"/tools/character-rom-editor/import",variant:"cyan",children:[(0,t.jsx)("svg",{className:"w-4 h-4 min-[1120px]:mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsx)("span",{className:"hidden min-[1120px]:inline",children:"Import ROM"})]})}),$&&(0,t.jsx)(p.Tooltip,{content:"Export multiple character sets to JSON",position:"bottom",children:(0,t.jsxs)(o.Button,{href:"/tools/character-rom-editor/export-all",variant:"amber",children:[(0,t.jsx)("svg",{className:"w-4 h-4 min-[1120px]:mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),(0,t.jsx)("span",{className:"hidden min-[1120px]:inline",children:"Export All"})]})})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(h.LibraryFilters,{searchQuery:H,onSearchChange:W,availableSizes:O,widthFilters:G,heightFilters:K,onSizeFilterChange:e2,availableCharacterCounts:ek,characterCountFilters:U,onCharacterCountFilterChange:e9,availableManufacturers:ey,availableSystems:ej,manufacturerFilters:q,systemFilters:Q,onManufacturerFilterChange:e1,onSystemFilterChange:e4,availableChips:eC,chipFilters:ee,onChipFilterChange:e3,availableLocales:ew,localeFilters:er,onLocaleFilterChange:e5,availableTags:eN,tagFilters:es,onTagFilterChange:e7,availableSources:eS,sourceFilters:ei,onSourceFilterChange:e6,isPinnedFilters:eo,onIsPinnedFiltersChange:e8,availableOrigins:e_,originFilters:ed,onOriginFilterChange:te,sortField:eh,sortDirection:ex,onSortFieldChange:tt,onSortDirectionToggle:tr,totalCount:A.length,filteredCount:e$.length,pagination:eH,onPageSizeChange:ta,onPageChange:ts})}),F?(0,t.jsx)(d.LibraryGridError,{error:F,onRetry:R}):ti&&0===e$.length?(0,t.jsx)(d.LibraryGridEmptyResults,{onClearFilters:tn}):(0,t.jsx)(d.LibraryGrid,{characterSets:eH.items,loading:M,onEdit:eW,onExport:eG,onDelete:eV,onDuplicate:eY,onRename:eq,onEditMetadata:eQ,onTogglePinned:eJ,onImport:eU,onCreate:eZ})]})}),(0,t.jsx)(i.Footer,{}),eL&&tl&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>eA(null)}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Delete Character Set"}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:['Are you sure you want to delete "',tl.metadata.name,'"? This action cannot be undone.']}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>eA(null),className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:eM,children:"Cancel"}),(0,t.jsx)("button",{onClick:eK,className:"px-4 py-2 text-sm bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors disabled:opacity-50",disabled:eM,children:eM?"Deleting...":"Delete"})]})]})]}),eR&&to&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>{eE(null),eP("")}}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Rename Character Set"}),(0,t.jsx)("input",{type:"text",value:eT,onChange:e=>eP(e.target.value),onKeyDown:e=>{"Enter"===e.key&&eT.trim()?e0():"Escape"===e.key&&(eE(null),eP(""))},className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-gray-200 text-sm focus:outline-none focus:border-retro-cyan transition-colors",placeholder:"Enter new name...",autoFocus:!0,disabled:eI}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,t.jsx)("button",{onClick:()=>{eE(null),eP("")},className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:eI,children:"Cancel"}),(0,t.jsx)("button",{onClick:e0,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors disabled:opacity-50",disabled:eI||!eT.trim(),children:eI?"Renaming...":"Rename"})]})]})]}),tc&&(0,t.jsx)(u.MetadataEditModal,{isOpen:!!eO,onClose:()=>eB(null),metadata:tc.metadata,onSave:eX}),(0,t.jsx)(x,{isActive:D.isActive,currentStep:D.currentStepData,stepIndex:D.currentStep,totalSteps:D.totalSteps,isFirstStep:D.isFirstStep,isLastStep:D.isLastStep,onNext:D.next,onPrev:D.prev,onSkip:D.skip}),(0,t.jsx)(S,{isOpen:N,errorMessage:L})]})}e.s(["CharacterEditorLibrary",()=>L],80710)}]);