(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80710,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(22016),l=e.i(3374),o=e.i(58234),n=e.i(28540),i=e.i(59544),c=e.i(93733),d=e.i(76849);function m({characterSets:e,loading:a=!1,onEdit:r,onExport:s,onDelete:l,onDuplicate:o,onRename:n,onEditMetadata:i,onTogglePinned:c,onImport:m,onCreate:h,className:x=""}){return a?(0,t.jsx)("div",{className:`grid-fluid gap-4 ${x}`,children:Array.from({length:4}).map((e,a)=>(0,t.jsx)(u,{},a))}):0===e.length?(0,t.jsx)("div",{className:`flex flex-col items-center justify-center py-12 ${x}`,children:(0,t.jsx)(d.LibraryCardEmpty,{onImport:m,onCreate:h})}):(0,t.jsx)("div",{className:`grid-fluid gap-4 ${x}`,children:e.map(e=>(0,t.jsx)(d.LibraryCard,{characterSet:e,onEdit:r?()=>r(e.metadata.id):void 0,onExport:s?()=>s(e.metadata.id):void 0,onDelete:l?()=>l(e.metadata.id):void 0,onDuplicate:o?()=>o(e.metadata.id):void 0,onRename:n?()=>n(e.metadata.id):void 0,onEditMetadata:i?()=>i(e.metadata.id):void 0,onTogglePinned:c?()=>c(e.metadata.id):void 0},e.metadata.id))})}function u(){return(0,t.jsxs)("div",{className:"card-retro p-4 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-retro-grid/30 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-retro-grid/20 rounded w-full mt-2"})]}),(0,t.jsx)("div",{className:"w-6 h-6 bg-retro-grid/20 rounded"})]}),(0,t.jsx)("div",{className:"h-16 bg-black/30 rounded mb-3"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("div",{className:"h-4 w-12 bg-retro-grid/20 rounded"}),(0,t.jsx)("div",{className:"h-4 w-16 bg-retro-grid/20 rounded"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-retro-grid/30",children:[(0,t.jsx)("div",{className:"h-3 w-20 bg-retro-grid/20 rounded"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"h-6 w-12 bg-retro-grid/20 rounded"}),(0,t.jsx)("div",{className:"h-6 w-14 bg-retro-grid/20 rounded"})]})]})]})}function h({onClearFilters:e}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-retro-navy/50 flex items-center justify-center mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No results found"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Try adjusting your search or filters"}),e&&(0,t.jsx)("button",{onClick:e,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors",children:"Clear all filters"})]})}function x({error:e,onRetry:a}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Failed to load library"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:e}),a&&(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors",children:"Try again"})]})}var p=e.i(37559),b=e.i(79724);function f({label:e,options:r,selected:s,onChange:l,placeholder:o="All",className:n="",showAllOption:i=!0,allOptionLabel:c="All"}){let[d,m]=(0,a.useState)(!1),u=(0,b.useOutsideClick)(()=>m(!1),d),h=(0,a.useCallback)(e=>{s.includes(e)?l(s.filter(t=>t!==e)):l([...s,e])},[s,l]),x=(0,a.useCallback)(()=>{l([])},[l]),p=(0,a.useCallback)((e,t)=>{t.stopPropagation(),l(s.filter(t=>t!==e))},[s,l]),f=e=>{let t=r.find(t=>t.value===e);return t?.label??String(e)},g=s.length>0;return(0,t.jsxs)("div",{className:`relative ${n}`,ref:u,children:[(0,t.jsxs)("button",{type:"button",onClick:()=>m(!d),className:`
          flex items-center justify-between gap-2 w-full px-3 py-1.5
          bg-retro-navy/50 border rounded text-sm text-left
          transition-colors
          ${d?"border-retro-cyan":"border-retro-grid/50 hover:border-retro-grid"}
          ${g?"text-gray-200":"text-gray-400"}
        `,"aria-expanded":d,"aria-haspopup":"listbox",children:[(0,t.jsx)("span",{className:"truncate",children:g?`${e} (${s.length})`:o}),(0,t.jsx)("svg",{className:`w-4 h-4 flex-shrink-0 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:s.map(e=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-retro-cyan/20 text-retro-cyan rounded text-xs",children:[f(e),(0,t.jsx)("button",{type:"button",onClick:t=>p(e,t),className:"hover:text-white transition-colors","aria-label":`Remove ${f(e)}`,children:(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},String(e)))}),d&&(0,t.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-retro-navy border border-retro-grid/50 rounded-lg shadow-xl overflow-hidden",children:(0,t.jsxs)("div",{className:"max-h-60 overflow-y-auto py-1",children:[i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{type:"button",onClick:x,className:`
                    w-full flex items-center gap-2 px-3 py-2 text-sm text-left
                    transition-colors
                    ${!g?"bg-retro-cyan/10 text-retro-cyan":"text-gray-300 hover:bg-retro-purple/20"}
                  `,children:[(0,t.jsx)("span",{className:"w-4 h-4 flex items-center justify-center",children:!g&&(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})}),c]}),(0,t.jsx)("div",{className:"h-px bg-retro-grid/30 mx-2 my-1"})]}),r.map(e=>{let a=s.includes(e.value);return(0,t.jsxs)("button",{type:"button",onClick:()=>h(e.value),className:`
                    w-full flex items-center gap-2 px-3 py-2 text-sm text-left
                    transition-colors
                    ${a?"bg-retro-cyan/10 text-retro-cyan":"text-gray-300 hover:bg-retro-purple/20"}
                  `,role:"option","aria-selected":a,children:[(0,t.jsx)("span",{className:`
                      w-4 h-4 flex items-center justify-center rounded border
                      ${a?"bg-retro-cyan border-retro-cyan":"border-gray-500"}
                    `,children:a&&(0,t.jsx)("svg",{className:"w-3 h-3 text-retro-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.label]},String(e.value))}),0===r.length&&(0,t.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No options available"})]})})]})}let g=[{value:"updatedAt",label:"Date Modified"},{value:"createdAt",label:"Date Created"},{value:"name",label:"Name"},{value:"description",label:"Description"},{value:"source",label:"Source"},{value:"width",label:"Width"},{value:"height",label:"Height"},{value:"size",label:"Size (W×H)"},{value:"characters",label:"Count"},{value:"manufacturer",label:"Manufacturer"},{value:"system",label:"System"},{value:"chip",label:"Chip"},{value:"locale",label:"Locale"}];function j({searchQuery:e,onSearchChange:r,availableSizes:s,widthFilters:l,heightFilters:o,onSizeFilterChange:n,availableCharacterCounts:i=[],characterCountFilters:c=[],onCharacterCountFilterChange:d,availableManufacturers:m=[],availableSystems:u=[],manufacturerFilters:h=[],systemFilters:x=[],onManufacturerFilterChange:p,onSystemFilterChange:b,availableChips:j=[],chipFilters:y=[],onChipFilterChange:v,availableLocales:k=[],localeFilters:C=[],onLocaleFilterChange:N,sortField:w="updatedAt",sortDirection:S="desc",onSortFieldChange:L,onSortDirectionToggle:A,totalCount:M,filteredCount:E}){let R=(0,a.useMemo)(()=>[...m].sort(),[m]),T=(0,a.useMemo)(()=>[...u].sort(),[u]),O=(0,a.useMemo)(()=>Array.from(new Set(s.map(e=>e.width))).sort((e,t)=>e-t),[s]),F=(0,a.useMemo)(()=>Array.from(new Set(s.map(e=>e.height))).sort((e,t)=>e-t),[s]),D=(0,a.useCallback)(()=>{r(""),n([],[]),d?.([]),p?.([]),b?.([]),v?.([]),N?.([])},[r,n,d,p,b,v,N]),B=e.length>0||l.length>0||o.length>0||c.length>0||h.length>0||x.length>0||y.length>0||C.length>0;return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:"Search character sets...",className:"w-full px-3 py-2 pl-10 bg-retro-dark border border-retro-grid/50 rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan transition-colors","aria-label":"Search character sets"}),(0,t.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e&&(0,t.jsx)("button",{type:"button",onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300","aria-label":"Clear search",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),L&&A&&(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("select",{value:w,onChange:e=>L(e.target.value),className:"px-3 py-2 bg-retro-navy/50 border border-retro-grid/50 rounded text-sm text-gray-200 focus:outline-none focus:border-retro-cyan transition-colors cursor-pointer","aria-label":"Sort by",children:g.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,t.jsx)("button",{type:"button",onClick:A,className:`px-3 py-2 border rounded-lg text-xs font-mono transition-colors ${"desc"===S?"bg-amber-500/20 border-amber-500/50 text-amber-400":"bg-retro-navy/50 border-retro-grid/50 text-gray-400 hover:text-gray-200 hover:border-retro-cyan/50"}`,"aria-label":"asc"===S?"Sort ascending (A to Z)":"Sort descending (Z to A)",title:"asc"===S?"Ascending (A→Z)":"Descending (Z→A)",children:"asc"===S?"abc":"cba"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-3",children:[(0,t.jsx)(f,{label:"Width",options:O.map(e=>({value:e,label:`${e}px`})),selected:l,onChange:e=>n(e,o),placeholder:"Width",allOptionLabel:"Any width"}),(0,t.jsx)(f,{label:"Height",options:F.map(e=>({value:e,label:`${e}px`})),selected:o,onChange:e=>n(l,e),placeholder:"Height",allOptionLabel:"Any height"}),d&&(0,t.jsx)(f,{label:"Count",options:i.map(e=>({value:e,label:`${e} chars`})),selected:c,onChange:d,placeholder:"Count",allOptionLabel:"Any count"}),p&&(0,t.jsx)(f,{label:"Manufacturer",options:R.map(e=>({value:e,label:e})),selected:h,onChange:p,placeholder:"Manufacturer",allOptionLabel:"Any manufacturer"}),b&&(0,t.jsx)(f,{label:"System",options:T.map(e=>({value:e,label:e})),selected:x,onChange:b,placeholder:"System",allOptionLabel:"Any system"}),v&&(0,t.jsx)(f,{label:"Chip",options:j.map(e=>({value:e,label:e})),selected:y,onChange:v,placeholder:"Chip",allOptionLabel:"Any chip"}),N&&(0,t.jsx)(f,{label:"Locale",options:k.map(e=>({value:e,label:e})),selected:C,onChange:N,placeholder:"Locale",allOptionLabel:"Any locale"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,t.jsx)("span",{children:B?`Showing ${E} of ${M} character sets`:`${M} character set${1!==M?"s":""}`}),B&&(0,t.jsx)("button",{onClick:D,className:"text-retro-cyan hover:text-retro-pink transition-colors",children:"Clear filters"})]})]})}var y=e.i(37902);function v({isActive:e,currentStep:r,stepIndex:s,totalSteps:l,isFirstStep:o,isLastStep:n,onNext:c,onPrev:d,onSkip:m}){let u=(0,a.useCallback)(e=>{"Escape"===e.key?m():"ArrowRight"===e.key||"Enter"===e.key?c():"ArrowLeft"===e.key&&d()},[c,d,m]);return e&&r?(0,t.jsxs)("div",{onKeyDown:u,tabIndex:0,className:"jsx-9adf730429c9eab6 fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{onClick:m,className:"jsx-9adf730429c9eab6 absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 relative w-full max-w-md bg-retro-navy border border-retro-cyan/50 rounded-lg shadow-2xl overflow-hidden animate-fade-in",children:[(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 flex gap-1 p-2 bg-retro-dark/30",children:Array.from({length:l}).map((e,a)=>(0,t.jsx)("div",{className:`jsx-9adf730429c9eab6 flex-1 h-1 rounded-full transition-colors ${a<=s?"bg-retro-cyan":"bg-retro-grid"}`},a))}),(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 p-6",children:[(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 flex items-center justify-between mb-4",children:[(0,t.jsxs)("span",{className:"jsx-9adf730429c9eab6 text-xs text-retro-cyan font-medium uppercase tracking-wide",children:["Step ",s+1," of ",l]}),(0,t.jsx)("button",{onClick:m,className:"jsx-9adf730429c9eab6 text-xs text-gray-500 hover:text-white transition-colors",children:"Skip tour"})]}),(0,t.jsx)("h2",{className:"jsx-9adf730429c9eab6 text-xl font-medium text-white mb-3",children:r.title}),(0,t.jsx)("p",{className:"jsx-9adf730429c9eab6 text-gray-300 leading-relaxed",children:r.description}),(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 flex justify-center my-6",children:[0===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-retro-cyan/10 border border-retro-cyan/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-retro-cyan",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",className:"jsx-9adf730429c9eab6"})})}),1===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-retro-pink/10 border border-retro-pink/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-retro-pink",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",className:"jsx-9adf730429c9eab6"})})}),2===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-retro-violet/10 border border-retro-violet/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-retro-violet",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12",className:"jsx-9adf730429c9eab6"})})}),3===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-green-500/10 border border-green-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-green-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",className:"jsx-9adf730429c9eab6"})})}),4===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-orange-500/10 border border-orange-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-orange-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",className:"jsx-9adf730429c9eab6"})})}),5===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-blue-500/10 border border-blue-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-blue-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4",className:"jsx-9adf730429c9eab6"})})}),6===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-purple-500/10 border border-purple-500/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-purple-400",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",className:"jsx-9adf730429c9eab6"})})}),7===s&&(0,t.jsx)("div",{className:"jsx-9adf730429c9eab6 w-20 h-20 rounded-full bg-retro-cyan/10 border border-retro-cyan/30 flex items-center justify-center",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-9adf730429c9eab6 w-10 h-10 text-retro-cyan",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 13l4 4L19 7",className:"jsx-9adf730429c9eab6"})})})]})]}),(0,t.jsxs)("div",{className:"jsx-9adf730429c9eab6 flex items-center justify-between p-4 border-t border-retro-grid/30 bg-retro-dark/30",children:[(0,t.jsx)(i.Button,{onClick:d,disabled:o,variant:"ghost",size:"sm",children:"Previous"}),(0,t.jsx)(i.Button,{onClick:c,variant:"cyan",size:"sm",children:n?"Get Started":"Next"})]})]}),(0,t.jsx)(y.default,{id:"9adf730429c9eab6",children:"@keyframes fade-in{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in.jsx-9adf730429c9eab6{animation:.2s ease-out fade-in}"})]}):null}var k=e.i(21745);e.i(7259);var C=e.i(66811),N=e.i(44254);e.i(7506),e.i(86316);var w=e.i(60951);function S(){return{completed:!1,dismissed:!1,updatedAt:Date.now()}}function L(e){try{localStorage.setItem(w.CHARACTER_EDITOR_STORAGE_KEY_ONBOARDING,JSON.stringify(e))}catch{}}let A=[{id:"welcome",title:"Welcome to Character ROM Editor",description:"Create and edit character sets for retro computers and vintage display systems. Let's take a quick tour!",position:"center"},{id:"library",title:"Character Set Library",description:"Your character sets are stored here. Filter by size, manufacturer, system, or chip. Pin favorites and sort by any field.",position:"center"},{id:"import",title:"Import Options",description:"Import from binary ROM files, PNG image grids, font files (TTF/OTF/WOFF), or paste code from C, JavaScript, or Assembly.",position:"center"},{id:"editor",title:"Pixel Editor",description:"Click to toggle pixels, drag to paint, right-click to erase. Use overlays to compare with other character sets.",position:"center"},{id:"transforms",title:"Transform Tools",description:"Rotate, flip, shift, invert, and scale characters. Copy from other sets. All transforms support batch editing.",position:"center"},{id:"keyboard",title:"Keyboard Shortcuts",description:"Press ? to see all shortcuts. Navigate with arrow keys, undo/redo with Ctrl+Z/Y, and transform with single keys.",position:"center"},{id:"export",title:"Export Formats",description:"Export as binary ROM, C header, assembly code, PNG image, or printable reference sheets (PNG/PDF) with custom colors.",position:"center"},{id:"done",title:"You're Ready!",description:"Start by selecting a character set from the library, or create a new one. Use snapshots to save your progress!",position:"center"}];var M=e.i(33712);function E(){let e=(0,r.useRouter)(),d=(0,N.useToast)(),{characterSets:u,loading:b,error:f,refresh:g,deleteSet:y,saveAs:E,rename:R,updateMetadata:T,togglePinned:O,availableSizes:F,getById:D}=(0,C.useCharacterLibrary)(),B=function(e){let{steps:t,enabled:r=!0}=e,[s,l]=(0,a.useState)(!1),[o,n]=(0,a.useState)(0),[i,c]=(0,a.useState)(S),[d,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{c(function(){try{let e=localStorage.getItem(w.CHARACTER_EDITOR_STORAGE_KEY_ONBOARDING);if(e)return JSON.parse(e)}catch{}return S()}()),m(!0)},[]),(0,a.useEffect)(()=>{if(d&&r&&!i.completed&&!i.dismissed&&t.length>0){let e=setTimeout(()=>{l(!0)},1e3);return()=>clearTimeout(e)}},[d,r,i.completed,i.dismissed,t.length]);let u=(0,a.useCallback)(()=>{n(0),l(!0)},[]),h=(0,a.useCallback)(()=>{if(o<t.length-1)n(e=>e+1);else{l(!1);let e={completed:!0,dismissed:!1,updatedAt:Date.now()};c(e),L(e)}},[o,t.length]),x=(0,a.useCallback)(()=>{o>0&&n(e=>e-1)},[o]),p=(0,a.useCallback)(()=>{l(!1);let e={completed:!1,dismissed:!0,updatedAt:Date.now()};c(e),L(e)},[]),b=(0,a.useCallback)(()=>{l(!1);let e={completed:!0,dismissed:!1,updatedAt:Date.now()};c(e),L(e)},[]),f=(0,a.useCallback)(()=>{n(0);let e=S();c(e),L(e)},[]);return{isActive:s,currentStep:o,currentStepData:t[o]||null,totalSteps:t.length,isFirstStep:0===o,isLastStep:o===t.length-1,start:u,next:h,prev:x,skip:p,complete:b,reset:f,hasCompleted:i.completed,hasDismissed:i.dismissed,shouldShowAutomatically:!i.completed&&!i.dismissed}}({steps:A,enabled:!0}),[I,_]=(0,a.useState)(""),[$,W]=(0,a.useState)([]),[z,H]=(0,a.useState)([]),[P,G]=(0,a.useState)([]),[K,V]=(0,a.useState)([]),[Y,Z]=(0,a.useState)([]),[U,J]=(0,a.useState)([]),[q,Q]=(0,a.useState)([]),[X,ee]=(0,a.useState)("name"),[et,ea]=(0,a.useState)("asc");(0,a.useEffect)(()=>{try{let e=localStorage.getItem(w.CHARACTER_EDITOR_STORAGE_KEY_SORT_FIELD),t=localStorage.getItem(w.CHARACTER_EDITOR_STORAGE_KEY_SORT_DIRECTION);e&&ee(e),t&&ea(t)}catch{}},[]);let er=(0,a.useMemo)(()=>{let e=new Set;return u.forEach(t=>{t.metadata.manufacturer&&e.add(t.metadata.manufacturer)}),Array.from(e).sort()},[u]),es=(0,a.useMemo)(()=>{let e=new Set;return(K.length>0?u.filter(e=>e.metadata.manufacturer&&K.includes(e.metadata.manufacturer)):u).forEach(t=>{t.metadata.system&&e.add(t.metadata.system)}),Array.from(e).sort()},[u,K]),el=(0,a.useMemo)(()=>{let e=new Set;return u.forEach(t=>{t.metadata.chip&&e.add(t.metadata.chip)}),Array.from(e).sort()},[u]),eo=(0,a.useMemo)(()=>{let e=new Set;return u.forEach(t=>{t.metadata.locale&&e.add(t.metadata.locale)}),Array.from(e).sort()},[u]),en=(0,a.useMemo)(()=>{let e=new Set;return u.forEach(t=>{e.add((0,M.getCharacterCount)(t))}),Array.from(e).sort((e,t)=>e-t)},[u]),[ei,ec]=(0,a.useState)(null),[ed,em]=(0,a.useState)(!1),[eu,eh]=(0,a.useState)(null),[ex,ep]=(0,a.useState)(""),[eb,ef]=(0,a.useState)(!1),[eg,ej]=(0,a.useState)(null),ey=(0,a.useMemo)(()=>{let e=u;if(I.trim()){let t=I.toLowerCase();e=e.filter(e=>e.metadata.name.toLowerCase().includes(t)||e.metadata.description.toLowerCase().includes(t)||e.metadata.source.toLowerCase().includes(t)||e.metadata.manufacturer&&e.metadata.manufacturer.toLowerCase().includes(t)||e.metadata.system&&e.metadata.system.toLowerCase().includes(t))}return $.length>0&&(e=e.filter(e=>$.includes(e.config.width))),z.length>0&&(e=e.filter(e=>z.includes(e.config.height))),K.length>0&&(e=e.filter(e=>e.metadata.manufacturer&&K.includes(e.metadata.manufacturer))),Y.length>0&&(e=e.filter(e=>e.metadata.system&&Y.includes(e.metadata.system))),U.length>0&&(e=e.filter(e=>e.metadata.chip&&U.includes(e.metadata.chip))),q.length>0&&(e=e.filter(e=>e.metadata.locale&&q.includes(e.metadata.locale))),P.length>0&&(e=e.filter(e=>P.includes((0,M.getCharacterCount)(e)))),[...e].sort((e,t)=>{let a=+!!e.metadata.isPinned,r=+!!t.metadata.isPinned;if(a!==r)return r-a;let s=0;switch(X){case"name":s=e.metadata.name.localeCompare(t.metadata.name);break;case"description":s=(e.metadata.description||"").localeCompare(t.metadata.description||"");break;case"source":s=(e.metadata.source||"").localeCompare(t.metadata.source||"");break;case"updatedAt":s=e.metadata.updatedAt-t.metadata.updatedAt;break;case"createdAt":s=e.metadata.createdAt-t.metadata.createdAt;break;case"width":s=e.config.width-t.config.width;break;case"height":s=e.config.height-t.config.height;break;case"size":s=e.config.width*e.config.height-t.config.width*t.config.height;break;case"characters":s=(0,M.getCharacterCount)(e)-(0,M.getCharacterCount)(t);break;case"manufacturer":s=(e.metadata.manufacturer||"").localeCompare(t.metadata.manufacturer||"");break;case"system":s=(e.metadata.system||"").localeCompare(t.metadata.system||"");break;case"chip":s=(e.metadata.chip||"").localeCompare(t.metadata.chip||"");break;case"locale":s=(e.metadata.locale||"").localeCompare(t.metadata.locale||"")}return"asc"===et?s:-s})},[u,I,$,z,P,K,Y,U,q,X,et]),ev=(0,a.useCallback)(t=>{e.push(`/tools/character-rom-editor/edit?id=${t}`)},[e]),ek=(0,a.useCallback)(t=>{e.push(`/tools/character-rom-editor/export?id=${t}`)},[e]),eC=(0,a.useCallback)(async e=>{ec(e)},[]),eN=(0,a.useCallback)(async()=>{if(ei)try{em(!0),await y(ei),d.success("Character set deleted")}catch(e){console.error("Failed to delete:",e),d.error("Failed to delete character set")}finally{em(!1),ec(null)}},[ei,y,d]),ew=(0,a.useCallback)(async t=>{try{let a=await D(t);if(a){let t=`${a.metadata.name} (Copy)`,r=await E(a,t);d.success("Character set duplicated"),e.push(`/tools/character-rom-editor/edit?id=${r}`)}}catch(e){console.error("Failed to duplicate:",e),d.error("Failed to duplicate character set")}},[D,E,e,d]),eS=(0,a.useCallback)(()=>{e.push("/tools/character-rom-editor/import")},[e]),eL=(0,a.useCallback)(()=>{e.push("/tools/character-rom-editor/add")},[e]),eA=(0,a.useCallback)(e=>{let t=u.find(t=>t.metadata.id===e);t&&(eh(e),ep(t.metadata.name))},[u]),eM=(0,a.useCallback)(async e=>{try{await O(e)}catch(e){console.error("Failed to toggle pinned:",e)}},[O]),eE=(0,a.useCallback)(e=>{ej(e)},[]),eR=(0,a.useCallback)(async e=>{if(eg)try{await T(eg,e),d.success("Metadata updated")}catch(e){console.error("Failed to update metadata:",e),d.error("Failed to update metadata")}},[eg,T,d]),eT=(0,a.useCallback)(async()=>{if(eu&&ex.trim())try{ef(!0),await R(eu,ex.trim()),d.success("Character set renamed")}catch(e){console.error("Failed to rename:",e),d.error("Failed to rename character set")}finally{ef(!1),eh(null),ep("")}},[eu,ex,R,d]),eO=(0,a.useCallback)((e,t)=>{W(e),H(t)},[]),eF=(0,a.useCallback)(e=>{if(V(e),e.length>0){let t=new Set;u.filter(t=>t.metadata.manufacturer&&e.includes(t.metadata.manufacturer)).forEach(e=>{e.metadata.system&&t.add(e.metadata.system)}),Z(e=>e.filter(e=>t.has(e)))}},[u]),eD=(0,a.useCallback)(e=>{Z(e)},[]),eB=(0,a.useCallback)(e=>{J(e)},[]),eI=(0,a.useCallback)(e=>{Q(e)},[]),e_=(0,a.useCallback)(e=>{G(e)},[]),e$=(0,a.useCallback)(e=>{ee(e);try{localStorage.setItem(w.CHARACTER_EDITOR_STORAGE_KEY_SORT_FIELD,e)}catch{}},[]),eW=(0,a.useCallback)(()=>{ea(e=>{let t="asc"===e?"desc":"asc";try{localStorage.setItem(w.CHARACTER_EDITOR_STORAGE_KEY_SORT_DIRECTION,t)}catch{}return t})},[]),ez=(0,a.useCallback)(()=>{_(""),W([]),H([]),G([]),V([]),Z([]),J([]),Q([])},[]),eH=I.length>0||$.length>0||z.length>0||P.length>0||K.length>0||Y.length>0||U.length>0||q.length>0,eP=ei?u.find(e=>e.metadata.id===ei):null,eG=eu?u.find(e=>e.metadata.id===eu):null,eK=eg?u.find(e=>e.metadata.id===eg):null;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col safe-top",children:[(0,t.jsx)(l.Header,{}),(0,t.jsx)("main",{className:"flex-1 bg-retro-dark pt-24 pb-12",children:(0,t.jsxs)(n.Container,{children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(s.default,{href:"/tools",className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors mb-2 inline-flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Tools"]}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-display",children:(0,t.jsx)(c.NeonText,{color:"pink",children:"Character ROM Editor"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Design, edit, and export character sets for vintage display systems"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[B.hasCompleted||B.hasDismissed?(0,t.jsx)(k.Tooltip,{content:"Restart onboarding tour",position:"bottom",children:(0,t.jsxs)("button",{onClick:B.start,className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors flex items-center mr-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 min-[1120px]:mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"hidden min-[1120px]:inline",children:"Tour"})]})}):null,(0,t.jsx)(k.Tooltip,{content:"Create a new character set from scratch",position:"bottom",children:(0,t.jsxs)(i.Button,{href:"/tools/character-rom-editor/add",variant:"pink",children:[(0,t.jsx)("svg",{className:"w-4 h-4 min-[1120px]:mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,t.jsx)("span",{className:"hidden min-[1120px]:inline",children:"Add ROM"})]})}),(0,t.jsx)(k.Tooltip,{content:"Import from binary, image, font, or code",position:"bottom",children:(0,t.jsxs)(i.Button,{href:"/tools/character-rom-editor/import",variant:"cyan",children:[(0,t.jsx)("svg",{className:"w-4 h-4 min-[1120px]:mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsx)("span",{className:"hidden min-[1120px]:inline",children:"Import ROM"})]})})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(j,{searchQuery:I,onSearchChange:_,availableSizes:F,widthFilters:$,heightFilters:z,onSizeFilterChange:eO,availableCharacterCounts:en,characterCountFilters:P,onCharacterCountFilterChange:e_,availableManufacturers:er,availableSystems:es,manufacturerFilters:K,systemFilters:Y,onManufacturerFilterChange:eF,onSystemFilterChange:eD,availableChips:el,chipFilters:U,onChipFilterChange:eB,availableLocales:eo,localeFilters:q,onLocaleFilterChange:eI,sortField:X,sortDirection:et,onSortFieldChange:e$,onSortDirectionToggle:eW,totalCount:u.length,filteredCount:ey.length})}),f?(0,t.jsx)(x,{error:f,onRetry:g}):eH&&0===ey.length?(0,t.jsx)(h,{onClearFilters:ez}):(0,t.jsx)(m,{characterSets:ey,loading:b,onEdit:ev,onExport:ek,onDelete:eC,onDuplicate:ew,onRename:eA,onEditMetadata:eE,onTogglePinned:eM,onImport:eS,onCreate:eL})]})}),(0,t.jsx)(o.Footer,{}),ei&&eP&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>ec(null)}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Delete Character Set"}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:['Are you sure you want to delete "',eP.metadata.name,'"? This action cannot be undone.']}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>ec(null),className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:ed,children:"Cancel"}),(0,t.jsx)("button",{onClick:eN,className:"px-4 py-2 text-sm bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors disabled:opacity-50",disabled:ed,children:ed?"Deleting...":"Delete"})]})]})]}),eu&&eG&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>{eh(null),ep("")}}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Rename Character Set"}),(0,t.jsx)("input",{type:"text",value:ex,onChange:e=>ep(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ex.trim()?eT():"Escape"===e.key&&(eh(null),ep(""))},className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-gray-200 text-sm focus:outline-none focus:border-retro-cyan transition-colors",placeholder:"Enter new name...",autoFocus:!0,disabled:eb}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,t.jsx)("button",{onClick:()=>{eh(null),ep("")},className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:eb,children:"Cancel"}),(0,t.jsx)("button",{onClick:eT,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors disabled:opacity-50",disabled:eb||!ex.trim(),children:eb?"Renaming...":"Rename"})]})]})]}),eK&&(0,t.jsx)(p.MetadataEditModal,{isOpen:!!eg,onClose:()=>ej(null),metadata:eK.metadata,onSave:eR}),(0,t.jsx)(v,{isActive:B.isActive,currentStep:B.currentStepData,stepIndex:B.currentStep,totalSteps:B.totalSteps,isFirstStep:B.isFirstStep,isLastStep:B.isLastStep,onNext:B.next,onPrev:B.prev,onSkip:B.skip})]})}e.s(["CharacterEditorLibrary",()=>E],80710)}]);